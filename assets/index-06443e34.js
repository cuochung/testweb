import{o as m,c as g,a as f,d as A,r as M,b as h,u as V,e as r,f as $,g as w,t as P,n as b,h as I,i as R,j as D,w as x,T as B,k as F,R as j,F as U,l as q,m as H,p as C,q as L,s as K,v,C as W}from"./vendor-6e9e6359.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=s(o);fetch(o.href,a)}})();const O=(t,e)=>{const s=t.__vccOpts||t;for(const[i,o]of e)s[i]=o;return s},z={},J={class:"loading fixed h-screen w-screen flex justify-center items-center"},G=f("span",{class:"loader"},null,-1),Q=[G];function X(t,e){return m(),g("div",J,Q)}const Y=O(z,[["render",X]]),_=A("counter",()=>{const t={verMsg:"2023.10.3.1",databaseName:"portfolio",base_url:"http://www.pddtvgame.com/portfolioapi",loading:!1,cData:null,pData:null},e=M({active:!1,closeTime:5,message:"預設值123",type:"primary"}),s=h(),i=h(),o=h(),a=h(!1),n=h(),c=l=>{e.message=l.message,l.closeTime?e.closeTime=l.closeTime:e.closeTime=5,l.type?e.type=l.type:e.type="primary",e.active=!0,i.value=Date.now(),n.value=e.closeTime*1e3,s.value=setTimeout(()=>{S()},e.closeTime*1e3)},S=()=>{e.active=!1,clearTimeout(s.value)};return{state:t,toastSet:e,showToast:c,closeToast:S,startTimeout:()=>{i.value=Date.now(),n.value-=o.value,a.value=!1,s.value=setTimeout(()=>{S()},n.value)},stopTimeout:()=>{a.value==!1&&(o.value=Date.now()-i.value,clearTimeout(s.value),a.value=!0)}}});const Z={class:"toastContent"},ee={key:0,class:"fa-solid fa-check check"},te={key:1,class:"fa-solid fa-check check"},se={key:2,class:"fa-solid fa-exclamation check"},oe={key:3,class:"fa-solid fa-xmark check"},ae={class:"message"},ne={class:"text text-1"},re={class:"text text-2"},ie={__name:"PDDToastPinia",setup(t){V(a=>({"573b9dcc":r(s),"0ad41978":r(i)}));const e=_(),s=$(()=>o.value.color),i=$(()=>o.value.time),o=$(()=>{if(e.toastSet.type=="primary")return{title:"提示訊息",color:"#4070f4",time:`${e.toastSet.closeTime}s`};if(e.toastSet.type=="success")return{title:"成功訊息",color:"#32CD32",time:`${e.toastSet.closeTime}s`};if(e.toastSet.type=="warning")return{title:"警告訊息",color:"#FFA500",time:`${e.toastSet.closeTime}s`};if(e.toastSet.type=="error")return{title:"錯誤訊息",color:"#FF0000",time:`${e.toastSet.closeTime}s`}});return(a,n)=>(m(),g("div",{class:b(["PDDToast",[{active:r(e).toastSet.active},r(e).toastSet.type]]),onMouseover:n[1]||(n[1]=(...c)=>r(e).stopTimeout&&r(e).stopTimeout(...c)),onMouseleave:n[2]||(n[2]=(...c)=>r(e).startTimeout&&r(e).startTimeout(...c))},[f("div",Z,[r(e).toastSet.type=="primary"?(m(),g("i",ee)):w("",!0),r(e).toastSet.type=="success"?(m(),g("i",te)):w("",!0),r(e).toastSet.type=="warning"?(m(),g("i",se)):w("",!0),r(e).toastSet.type=="error"?(m(),g("i",oe)):w("",!0),f("div",ae,[f("span",ne,P(r(o).title)+" ",1),f("span",re,P(r(e).toastSet.message),1)])]),f("i",{class:"fa-solid fa-xmark close",onClick:n[0]||(n[0]=(...c)=>r(e).closeToast&&r(e).closeToast(...c))}),f("div",{class:b(["progress",{active:r(e).toastSet.active}])},null,2)],34))}},le=O(ie,[["__scopeId","data-v-b580fe89"]]),ce={__name:"App",setup(t){const e=_();return I(()=>{let s=JSON.parse(sessionStorage.getItem("pData"));s?(console.log("pData ok"),e.state.pData=s,e.state.logined="logined"):console.log("not logined")}),(s,i)=>(m(),g(U,null,[r(e).state.loading?(m(),R(Y,{key:0})):w("",!0),D(le,{style:{"z-index":"1000"}}),D(r(j),null,{default:x(({Component:o})=>[D(B,null,{default:x(()=>[(m(),R(F(o)))]),_:2},1024)]),_:1})],64))}},ue="modulepreload",me=function(t){return"/portfolio/"+t},N={},T=function(e,s,i){if(!s||s.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(s.map(a=>{if(a=me(a),a in N)return;N[a]=!0;const n=a.endsWith(".css"),c=n?'[rel="stylesheet"]':"";if(!!i)for(let y=o.length-1;y>=0;y--){const l=o[y];if(l.href===a&&(!n||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${c}`))return;const d=document.createElement("link");if(d.rel=n?"stylesheet":ue,n||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),n)return new Promise((y,l)=>{d.addEventListener("load",y),d.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e())},E=q({history:H("/portfolio"),routes:[{path:"/:pathMatch(.*)",redirect:"/main/mainview"},{path:"/login",name:"login",component:()=>T(()=>import("./index-e00dfac9.js"),["assets/index-e00dfac9.js","assets/vendor-6e9e6359.js","assets/PDDInput-8aa94a7f.js","assets/PDDInput-a3676959.css","assets/index-7648b602.css"]),meta:{title:"登入"}},{path:"/main",name:"main",component:()=>T(()=>import("./index-f4ae9696.js"),["assets/index-f4ae9696.js","assets/vendor-6e9e6359.js"]),children:[{path:"mainview",name:"mainview",component:()=>T(()=>import("./MainView-0c1ad810.js"),["assets/MainView-0c1ad810.js","assets/vendor-6e9e6359.js","assets/MainView-5fdc8167.css"]),meta:{title:"PDD TECH 作品集"}},{path:"portfoliolist",name:"portfoliolist",component:()=>T(()=>import("./PortfolioList-09d7188a.js"),["assets/PortfolioList-09d7188a.js","assets/vendor-6e9e6359.js","assets/PortfolioList-2afe1eca.css"]),meta:{title:"PDD TECH 作品集"}},{path:"portfolioadd/:snkey?",name:"portfolioadd",component:()=>T(()=>import("./PortfolioAdd-7bec4db5.js"),["assets/PortfolioAdd-7bec4db5.js","assets/vendor-6e9e6359.js","assets/PDDInput-8aa94a7f.js","assets/PDDInput-a3676959.css","assets/PortfolioAdd-85bb12e7.css"])}]}]});E.beforeEach((t,e,s)=>{t.meta.title!=null?window.document.title=t.meta.title:window.document.title="PDD TECH 作品集",s()});C().use(L());const p=_(),u=K.create({baseURL:p.state.base_url,timeout:1e4});u.interceptors.request.use(function(t){const e=_();return e.state.loading=!0,t},function(t){const e=_();return e.state.loading=!1,Promise.reject(t)});u.interceptors.response.use(function(t){const e=_();return setTimeout(()=>{e.state.loading=!1},500),t},function(t){const e=_();if(e.state.loading=!1,console.log(t),!navigator.onLine)return console.log("網路出了點問題，請重新連線後重整網頁"),e.showToast({type:"error",message:"網路出了點問題，請重新連線後重整網頁",closeTime:5}),Promise.reject("LOCALNetwork_ERROR");if(t.code=="ERR_NETWORK")return e.showToast({type:"error",message:"伺服器未正常連結",closeTime:5}),Promise.reject("ERR_NETWORK");if(t.response)switch(t.response.status){case 404:e.showToast({type:"error",message:"請求不存在",closeTime:5});break;case 500:e.showToast({type:"error",message:"程式發生問題",closeTime:5});break;default:console.log(t.message)}return Promise.reject(t)});var de={async get(t){console.log("run get");try{return(await u.post(`general/getAll/${p.state.databaseName}/${t}`)).data}catch(e){console.log("err",e)}},async add(t,e){console.log("run add");try{return(await u.post(`general/add/${p.state.databaseName}/${t}`,v.stringify(e))).data}catch(s){console.log("err",s)}},async post(t,e){console.log("run post");try{return(await u.post(`general/edit/${p.state.databaseName}/${t}`,v.stringify(e))).data}catch(s){console.log("err",s)}},async delete(t,e=null){console.log("run delete");try{return(await u.post(`general/delv3/${p.state.databaseName}/${t}`,v.stringify(e))).data}catch(s){console.log("err",s)}},async options(t,e=null){console.log("run options");try{return(await u.post(`${t}`,v.stringify(e))).data}catch(s){console.log("err",s)}},async upload(t,e=null){console.log("run fileUploadMulti",`general/fileUploadMulti/${p.state.databaseName}/${t}`);try{return(await u.post(`general/fileUploadMulti/${p.state.databaseName}/${t}`,e)).data}catch(s){console.log("err",s)}},async addMulti(t,e){try{return(await u.post(`general/addMulti/${p.state.databaseName}/${t}`,v.stringify(e))).data}catch(s){console.log("err",s)}}};const k=C(ce);k.use(L());k.use(E);k.use(W);k.provide("$api",de);E.isReady().then(()=>k.mount("#app"));export{O as _,_ as u};
