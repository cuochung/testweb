import{x as y,y as x,b as i,h as b,o as D,c as S,j as u,w as k,T as I,a as t,z as V,n as C,t as N,e as T,A as B,B as j}from"./vendor-6e9e6359.js";import{P as O}from"./PDDInput-8aa94a7f.js";import{_ as P,u as E}from"./index-06443e34.js";const _=n=>(B("data-v-0c469b8f"),n=n(),j(),n),F={class:"loginPage"},K={class:"loginBox w-3/5 py-10 flex justify-center items-center text-white"},R={class:"w-full"},$=_(()=>t("div",{class:"w-full text-center text-3xl font-weight-500"}," 登入畫面 ",-1)),z=_(()=>t("hr",{class:"my-6"},null,-1)),J={class:"pt-4 px-6"},L={class:"float-right"},M={__name:"index",setup(n){const s=E(),f=y(),m=x("$api"),h="border-1 border-white p-1 rounded hover:text-black hover:bg-white hover:-translate-y-1 hover:scale-110 duration-500",r=i({}),c=i(),l=i([]),g="\\S::不可空白唷";b(()=>{l.value[0].inputFocus()});const d=async()=>{await l.value.forEach((a,e)=>{l.value[e].checkRule()});const o=Object.fromEntries(new FormData(c.value));JSON.stringify(o).includes("false")?s.showToast({type:"error",message:"未輸入密碼",closeTime:3}):v()},v=()=>{let o={password:r.value.password},a=`login/logining/${s.state.databaseName}`;m.options(a,o).then(e=>{if(e.state=="logined"){let p={snkey:e.pData.snkey,last_login_time:e.pData.last_login_time,account:e.pData.account};sessionStorage.setItem("pData",JSON.stringify(p)),s.state.pData=p,s.state.logined="logined",w("portfoliolist")}else s.showToast({type:"error",message:"未授權的使用者,請重新登入作業!!",closeTime:3})})},w=o=>{f.push("/main/"+o)};return(o,a)=>(D(),S("div",F,[u(I,{name:"fade",appear:""},{default:k(()=>[t("div",K,[t("div",R,[$,z,t("div",J,[t("form",{ref_key:"pddform",ref:c},[u(O,{class:"w-full",onKeypress:V(d,["enter"]),typeSet:"password",otherInputClass:"bg-transparent",otherLabelClass:"focus:text-white",ref:e=>l.value.push(e),labelVal:"密碼",rules:g,modelValue:r.value.password,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value.password=e)},null,8,["onKeypress","modelValue"])],512),t("button",{class:C(["w-full mt-2 font-bold text-2xl",h]),onClick:d},"LOGIN"),t("div",L,"v."+N(T(s).state.verMsg),1)])])])]),_:1})]))}},q=P(M,[["__scopeId","data-v-0c469b8f"]]);export{q as default};
