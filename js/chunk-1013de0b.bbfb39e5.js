(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1013de0b"],{"0b12":function(t,e,a){},d683:function(t,e,a){"use strict";a("0b12")},faeb:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"PharmacistEvaluationListPrint"},[t.list.userData?a("h1",{staticClass:"text-center"},[a("span",[t._v(" "+t._s(t.cData.company_name)+" / "+t._s(t.userData.p_code)+" / "+t._s(t.userData.bed_name)+" / "+t._s(t.userData.name)+" ")]),a("span",[t._v("72小時藥師評估表")])]):t._e(),a("v-divider",{staticClass:"my-2"}),t.checkAllNeedDataOK?a("div",[a("v-form",{ref:"form"},[a("div",{staticClass:"grey lighten-3 pa-2 rounded"},[a("h2",[t._v("評估日期:"+t._s(t.list.list.date))])]),a("div",{staticClass:"grey lighten-3 pa-2 rounded my-2"},[a("h2",[t._v("基本資料")]),a("v-divider"),a("v-row",{staticClass:"contentStyle"},[a("v-col",{attrs:{cols:"3"}},[t._v("姓名: "+t._s(t.userData.name))]),a("v-col",{attrs:{cols:"3"}},[t._v("床號: "+t._s(t.userData.bed_name))]),a("v-col",{attrs:{cols:"3"}},[t._v("出生日期: "+t._s(t.userData.birthday))]),a("v-col",{attrs:{cols:"3"}},[t._v("性別: "+t._s(t.userData.sex))]),a("v-col",{attrs:{cols:"3"}},[t._v("入住日期: "+t._s(t.userData.in_date))]),a("v-col",{attrs:{cols:"8"}},[t._v("過去病史: "+t._s(t.returnuDiagnosis(t.userData.diagnosis))+" ")])],1)],1),a("div",{staticClass:"grey lighten-3 pa-2 rounded my-2"},[a("h2",[t._v("生理狀況")]),a("v-divider"),a("v-row",{staticClass:"contentStyle"},[a("v-col",{attrs:{cols:"4"}},[t._v(" 行動能力: "+t._s(t.list.list.active)+" ")]),a("v-col",{attrs:{cols:"4"}},[t._v(" 特殊照護: "+t._s(t.list.list.spCare?t.list.list.spCare.toString():"")+" ")]),a("v-col",{attrs:{cols:"4"}},[t._v(" 藥物依賴: "+t._s(t.list.list.medicineRely?t.list.list.medicineRely.toString():"")+" ")]),a("v-col",{attrs:{cols:"12"}},[t._v(" 過敏史: "),t.userData.allergyhistory2.length+t.userData.allergyhistory4.length+t.userData.allergyhistory5.length?t._e():a("span",[t._v("無")]),t._v(" "+t._s(t.userData.allergyhistory2)+" "+t._s(t.userData.allergyhistory4)+" "+t._s(t.userData.allergyhistory5)+" ")])],1)],1),a("div",{staticClass:"grey lighten-3 pa-2 rounded my-2"},[a("h2",[t._v("服用藥物")]),a("v-divider"),t._l(t.returnMedicalArr(),(function(e){return a("div",{key:e.snkey,staticClass:"my-3"},[a("h3",{staticClass:"text-right mb-1"},[t._v(" "+t._s(t.filterMatchMedical(e)[0].medicalData.hospital_name)+"-"+t._s(t.filterMatchMedical(e)[0].medicalData.branch_name)+" 醫師: "+t._s(t.filterMatchMedical(e)[0].medicalData.doctor_name)+" ")]),a("v-simple-table",[a("thead",[a("tr",[a("th",[t._v("用藥日期")]),a("th",[t._v("藥名")]),a("th",[t._v("次量")]),a("th",[t._v("頻率")]),a("th",[t._v("途徑")]),a("th",[t._v("天數")]),a("th",[t._v("總量")])])]),a("tbody",t._l(t.filterMatchMedical(e),(function(e){return a("tr",{key:e.snkey},[a("td",[t._v(t._s(e.start_date))]),a("td",[t._v(t._s(e.name)+" "+t._s(e.dosage))]),a("td",[t._v(t._s(e.quantity)+" "+t._s(e.unit_name))]),a("td",[t._v(t._s(e.eat_medicine_timeData?e.eat_medicine_timeData.name:"無資料"))]),a("td",[t._v(t._s(e.method_name))]),a("td",[e.eat_medicine_timeData?a("span",[t._v(" "+t._s(isNaN(e.quantity)?e.quantity:(e.medicine_counts/t.returnMathFromStr(e.quantity)/e.eat_medicine_timeData.time.split(",").length/e.eat_medicine_timeData.day*100).toFixed(0)/100)+" ")]):t._e()]),a("td",[t._v(t._s(e.medicine_counts))])])})),0)])],1)}))],2),a("div",{staticClass:"grey lighten-3 pa-2 rounded my-2"},[a("h2",[t._v("藥師建議:")]),a("v-divider"),a("h4",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.list.list.pharmacistSuggest))])],1),a("div",{staticClass:"grey lighten-3 pa-2 rounded my-2"},[a("h2",[t._v("機構護理人員回覆:")]),a("v-divider"),a("h4",{staticStyle:{"white-space":"pre-wrap"}},[t._v(t._s(t.list.list.nursingSuggest))])],1)])],1):t._e()],1)},s=[],n=(a("a4d3"),a("4de4"),a("7db0"),a("d81d"),a("fb6a"),a("e439"),a("dbb4"),a("b64b"),a("d3b7"),a("07ac"),a("6062"),a("3ca3"),a("159b"),a("ddb0"),a("2909")),r=a("ade3"),c=a("5a0c"),l=a.n(c),d=a("e418"),o=a.n(d),u=a("cb71");function _(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?_(Object(a),!0).forEach((function(e){Object(r["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}l.a.extend(o.a);var h={data:function(){return{processModel:"addModel",emptyRules:[function(t){return!!t||"不可空白"}],list:{date:l()().format("YYYY-MM-DD")},activeItems:["","獨立行走","長期臥床","輪椅助行","其他輔具"],spCareItems:["無","鼻異管餵食","使用導尿管","使用氣切","其他"],medicineRelyItems:["有","無"],userMedicineItems:null,userMedicalRecordItems:null,eat_medicine_timeItems:null,cData:"",pData:""}},computed:{checkAllNeedDataOK:function(){return null!=this.userMedicineItems&&null!=this.userMedicalRecordItems&&null!=this.eat_medicine_timeItems},userData:function(){return this.list.userData},buildMatchDayMedicines:function(){var t=this,e=this.userMedicineItems.map((function(t){return m({},t,{medicineEndDay:t.medicineEndInfo.slice(3,13)})}));return e=e.filter((function(e){return l()(t.list.list.date).isBetween(e.start_date,l()(e.medicineEndDay),null,"[]")})),e=e.map((function(e){return m({},e,{medicalData:t.returnMedicalData(e),eat_medicine_timeData:t.returnEatMedicineTime(e)})})),e}},mounted:function(){this.cData=JSON.parse(sessionStorage.getItem("cData")),this.pData=JSON.parse(sessionStorage.getItem("pData")),this.list=JSON.parse(this.$route.query.data),this.getUserMedicine(),this.getUserMedicalRecord(),this.getItems("eat_medicine_time")},methods:{returnMathFromStr:function(t){return u["a"](t)},filterMatchMedical:function(t){return this.buildMatchDayMedicines.filter((function(e){return e.medical_snkey==t}))},returnMedicalArr:function(){var t=this.buildMatchDayMedicines.map((function(t){return t.medical_snkey}));return t=new Set(t),t=Object(n["a"])(t),t},returnMedicalData:function(t){return this.userMedicalRecordItems.find((function(e){return e.snkey==t.medical_snkey}))},returnEatMedicineTime:function(t){return this.eat_medicine_timeItems.find((function(e){return e.snkey==t.eat_medicine_time_snkey}))},getUserMedicine:function(){var t=this,e={key:"user_snkey",value:this.userData.snkey};this.$api.options("medicinerecord/getByKey/"+this.$store.state.databaseName,e).then((function(e){t.userMedicineItems=e}))},getUserMedicalRecord:function(){var t=this;this.$api.options("medicinerecord/getByUserSnkey/"+this.$store.state.databaseName+"/"+this.userData.snkey).then((function(e){t.userMedicalRecordItems=e}))},returnuDiagnosis:function(t){var e=Object.values(t),a="";return e.forEach((function(t,e){e>0&&(a+=","),a+=t})),a},getItems:function(t){var e=this;this.$api.options("general/getAll/"+this.$store.state.databaseName+"/"+t).then((function(a){e[t+"Items"]=a}))}}},v=h,y=(a("d683"),a("2877")),f=a("6544"),p=a.n(f),g=a("62ad"),D=a("ce7e"),b=a("4bd4"),M=a("0fd9"),O=a("1f4f"),k=Object(y["a"])(v,i,s,!1,null,null,null);e["default"]=k.exports;p()(k,{VCol:g["a"],VDivider:D["a"],VForm:b["a"],VRow:M["a"],VSimpleTable:O["a"]})}}]);
//# sourceMappingURL=chunk-1013de0b.bbfb39e5.js.map