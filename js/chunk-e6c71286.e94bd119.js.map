{"version":3,"sources":["webpack:///./src/views/document/MedicationEvaluationAdd.vue?14ac","webpack:///./src/views/document/MedicationEvaluationList.vue?d2cf","webpack:///./src/components/MedicationList.vue?4716","webpack:///./src/components/MedicationList.vue?8f1f","webpack:///src/components/MedicationList.vue","webpack:///./src/components/MedicationList.vue?bd69","webpack:///./src/components/MedicationList.vue","webpack:///./src/views/document/MedicationEvaluationList.vue?8011","webpack:///./src/views/document/MedicationEvaluationAdd.vue?4348","webpack:///src/views/document/MedicationEvaluationAdd.vue","webpack:///./src/views/document/MedicationEvaluationAdd.vue?baf2","webpack:///./src/views/document/MedicationEvaluationAdd.vue","webpack:///src/views/document/MedicationEvaluationList.vue","webpack:///./src/views/document/MedicationEvaluationList.vue?1895","webpack:///./src/views/document/MedicationEvaluationList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","$event","stopPropagation","addProcess","_v","model","value","callback","$$v","dialog","expression","processModel","staticStyle","_e","emptyRules","list","$set","addOK","editOK","_l","item","snkey","editModal","del","_s","name","tel","license","pharmacyName","address","staticRenderFns","data","computed","items","$store","state","medicationItems","map","newItem","i","created","getAllData","methods","dispatch","$nextTick","$refs","form","validate","u_snkey","uData","create_man","postData","datalist","JSON","stringify","$api","options","rs","pop","msg","type","theme","commit","edit_man","databaseName","$confirm","then","delData","delman","tablename","info","res","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VDialog","VDivider","VForm","VIcon","VRow","VSimpleTable","VSpacer","VTextField","p_code","search","serachKey","searchfilter","itemsPerPage","itemsPerPageOptions","props","index","edit","print","date","branch","medication","proxy","class","titleStyle","title","userData","bed_name","returnAge","birthday","margin_date","sex","height","weight","hadadisease","returnuDiagnosis","diagnosis","visit1Items","ynItems","visit5Items","visit8Items","visit10Items","visit11Items","evaluation1Items","evaluation2Items","evaluation3Items","evaluation4Items","evaluation6Items","returnMedicalArr","medical_snkey","filterMatchMedical","medicalData","hospital_name","branch_name","doctor_name","start_date","dosage","quantity","unit_name","eat_medicine_timeData","method_name","isNaN","medicine_counts","returnMathFromStr","time","split","length","day","toFixed","processType","loading","components","userMedicineItems","userMedicalRecordItems","eat_medicine_timeItems","checkAllNeedDataOK","text","buildMatchDayMedicines","a","b","medicineEndDay","medicineEndInfo","slice","newMedicineItems","filter","mounted","getUserMedicine","getUserMedicalRecord","getItems","newItems","Set","returnMedicalData","find","returnEatMedicineTime","values","toString","medicationevalutionData","parse","editProcess","console","log","user_snkey","pData","username","VSelect","VTextarea","keys","str","reduce","prev","element","toUpperCase","includes","path","query","window","open","routeData","href","childFn","VDataIterator","VList","VListItem","VListItemTitle","VMenu","VToolbar"],"mappings":"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","file":"js/chunk-e6c71286.e94bd119.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationAdd.vue?vue&type=style&index=0&id=29ad8729&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationList.vue?vue&type=style&index=0&id=6ac20231&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=style&index=0&id=98a0cea8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MedicationList\"},[_c('v-dialog',{attrs:{\"width\":\"90%\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"primary\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addProcess()}}},on),[_vm._v(\"照護師資料維護\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"font-weight-black primary lighten-2 white--text\"},[_c('h2',[_vm._v(\"照護藥師資料維護\")]),(_vm.processModel=='edit')?_c('div',{staticClass:\"success px-4 pa-1 mx-2\",staticStyle:{\"border-radius\":\"5px\"}},[_vm._v(\"修改模式中...\")]):_vm._e(),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.dialog = !_vm.dialog}}},[_vm._v(\"mdi-close\")])],1),_c('v-divider'),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"姓名\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", $$v)},expression:\"list.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"電話\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.tel),callback:function ($$v) {_vm.$set(_vm.list, \"tel\", $$v)},expression:\"list.tel\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"藥師證號\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.license),callback:function ($$v) {_vm.$set(_vm.list, \"license\", $$v)},expression:\"list.license\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"藥局名稱\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.pharmacyName),callback:function ($$v) {_vm.$set(_vm.list, \"pharmacyName\", $$v)},expression:\"list.pharmacyName\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"地址\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.address),callback:function ($$v) {_vm.$set(_vm.list, \"address\", $$v)},expression:\"list.address\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),(_vm.processModel == 'add')?_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addOK($event)}}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.processModel == 'edit')?_c('v-btn',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.editOK($event)}}},[_vm._v(\"確認修改\")]):_vm._e()],1),_c('v-divider'),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"醫師資料\")]),_c('v-divider'),_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"電話\")]),_c('th',[_vm._v(\"藥師證號\")]),_c('th',[_vm._v(\"藥局名稱\")]),_c('th',[_vm._v(\"地址\")])])]),_c('tbody',_vm._l((_vm.items),function(item){return _c('tr',{key:item.snkey},[_c('td',[_c('v-icon',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.editModal(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{staticClass:\"error mx-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.del(item)}}},[_vm._v(\"mdi-close\")]),_vm._v(\" \"+_vm._s(item.name)+\" \")],1),_c('td',[_vm._v(_vm._s(item.tel))]),_c('td',[_vm._v(_vm._s(item.license))]),_c('td',[_vm._v(_vm._s(item.pharmacyName))]),_c('td',[_vm._v(_vm._s(item.address))])])}),0)])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MedicationList\">\r\n    <v-dialog v-model=\"dialog\" width=\"90%\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn class=\"primary\" v-on=\"on\" @click.stop=\"addProcess()\">照護師資料維護</v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title class=\"font-weight-black primary lighten-2 white--text\"\r\n          ><h2>照護藥師資料維護</h2>\r\n          <div v-if=\"processModel=='edit'\" class=\"success px-4 pa-1 mx-2\" style=\"border-radius:5px\">修改模式中...</div>\r\n          <v-spacer></v-spacer>\r\n          <v-icon @click.stop=\"dialog = !dialog\"\r\n            >mdi-close</v-icon\r\n          ></v-card-title\r\n        >\r\n        <v-divider></v-divider>\r\n        <v-card-text>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"姓名\"\r\n                  v-model=\"list.name\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"電話\"\r\n                  v-model=\"list.tel\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"藥師證號\"\r\n                  v-model=\"list.license\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"藥局名稱\"\r\n                  v-model=\"list.pharmacyName\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field\r\n                  label=\"地址\"\r\n                  v-model=\"list.address\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              class=\"primary\"\r\n              @click.stop=\"addOK\"\r\n              v-if=\"processModel == 'add'\"\r\n              >確認新增</v-btn\r\n            >\r\n            <v-btn\r\n              class=\"success\"\r\n              @click.stop=\"editOK\"\r\n              v-if=\"processModel == 'edit'\"\r\n              >確認修改</v-btn\r\n            >\r\n          </v-card-actions>\r\n          <v-divider></v-divider>\r\n\r\n          <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n            <h2>醫師資料</h2>\r\n            <v-divider></v-divider>\r\n            <v-simple-table>\r\n              <thead>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <th>電話</th>\r\n                  <th>藥師證號</th>\r\n                  <th>藥局名稱</th>\r\n                  <th>地址</th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                <tr v-for=\"item in items\" :key=\"item.snkey\">\r\n                  <td>\r\n                    <v-icon class=\"success\" @click.stop=\"editModal(item)\">mdi-pencil</v-icon>\r\n                    <v-icon class=\"error mx-1\" @click.stop=\"del(item)\">mdi-close</v-icon>\r\n                    {{ item.name }}\r\n                  </td>\r\n                  <td>{{ item.tel }}</td>\r\n                  <td>{{ item.license }}</td>\r\n                  <td>{{ item.pharmacyName }}</td>\r\n                  <td>{{ item.address }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </v-simple-table>\r\n          </div>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      processModel: \"add\",\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      dialog: false,\r\n      list: {},\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    items() {\r\n      return this.$store.state.medicationItems.map((i) => {\r\n        let newItem = JSON.parse(i.datalist);\r\n        newItem.snkey = i.snkey;\r\n        return newItem;\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    getAllData() {\r\n      this.$store.dispatch(\"getItems\", \"medication\"); //讀入資料 -> 放在 store裡 medicationItems\r\n    },\r\n    addProcess(){\r\n      this.processModel= \"add\";\r\n      this.list = {};\r\n      this.$nextTick(() => {\r\n        this.$refs.form.resetValidation();\r\n      });\r\n    },\r\n    addOK() {\r\n      if (this.$refs.form.validate()) {\r\n        this.list.u_snkey = this.$store.state.uData.snkey;\r\n        this.list.create_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\"; //執行動作的人,時間,內容\r\n\r\n        var postData = {\r\n          datalist: JSON.stringify(this.list),\r\n        };\r\n\r\n        this.$api.options(\r\n          \"general/add/\" + this.$store.state.databaseName + \"/medication\",\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.list = {};\r\n            this.getAllData();\r\n            this.$refs.form.resetValidation();\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n    editModal(item){\r\n      this.processModel = 'edit';\r\n      this.list = {...item};\r\n    },\r\n    editOK() {\r\n      if (this.$refs.form.validate()) {\r\n        if (!this.list.edit_man){this.list.edit_man = ''}\r\n        this.list.edit_man = \r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\" + this.list.edit_man; //執行動作的人,時間,內容\r\n        var postData = {\r\n          snkey: this.list.snkey,\r\n          datalist: JSON.stringify(this.list),\r\n          edit_man:\"\"\r\n        };\r\n\r\n        this.$api.options(\"general/edit/\" + this.$store.state.databaseName + \"/medication\", postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.list = {};\r\n            this.processModel = 'add'\r\n            this.getAllData();\r\n            this.$refs.form.resetValidation();\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n        //刪除預約內容\r\n    del(delData) {\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        delData.delman =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        var postData = {\r\n          snkey: delData.snkey,\r\n          tablename: \"medication\",\r\n          info: JSON.stringify(delData),\r\n        };\r\n\r\n        if (res) {\r\n          this.$api.options(\r\n            \"general/delv3/\" + this.$store.state.databaseName + \"/\" + postData.tablename,\r\n            postData\r\n          ).then((rs) => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.getAllData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.theme--light.v-data-table thead tr th {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.theme--light.v-data-table tbody tr td {\r\n  font-size: 1rem;\r\n  height: 2rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MedicationList.vue?vue&type=template&id=98a0cea8&scoped=true&\"\nimport script from \"./MedicationList.vue?vue&type=script&lang=js&\"\nexport * from \"./MedicationList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MedicationList.vue?vue&type=style&index=0&id=98a0cea8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98a0cea8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VDivider,VForm,VIcon,VRow,VSimpleTable,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MedicationEvaluationList\"},[_c('v-card',[_c('v-card-title',[_c('h2',{staticClass:\"subheading grey--text\"},[_c('v-icon',{staticClass:\"mx-1\"},[_vm._v(\"fas fa-file-alt\")]),_c('span',[_vm._v(\" \"+_vm._s(this.$store.state.uData.p_code)+\" / \"+_vm._s(this.$store.state.uData.name)+\" \")]),_c('span',[_vm._v(\"用藥評估紀錄表\")])],1),_c('v-spacer'),_c('v-toolbar',{attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-magnify\",\"single-line\":\"\",\"label\":\"搜尋\"},on:{\"keyup\":function($event){$event.stopPropagation();return _vm.search()}},model:{value:(_vm.serachKey),callback:function ($$v) {_vm.serachKey=$$v},expression:\"serachKey\"}}),_c('popupadd',{ref:\"childFn\",attrs:{\"medicationevalutionData\":_vm.searchfilter},on:{\"getAllData\":_vm.getAllData}})],1)],1),_c('v-card-text',[_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_c('v-data-iterator',{attrs:{\"items\":_vm.searchfilter,\"items-per-page\":_vm.itemsPerPage,\"footer-props\":{ itemsPerPageOptions: _vm.itemsPerPageOptions }},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-simple-table',{staticClass:\"mt-2 text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',{staticStyle:{\"background-color\":\"#e3f2fd\"}},[_c('tr',[_c('th'),_c('th',[_vm._v(\"評估日期\")]),_c('th',[_vm._v(\"看診科別\")]),_c('th',[_vm._v(\"照護藥師\")]),_c('th',[_vm._v(\"紀錄人\")]),_c('th',[_vm._v(\"修改紀錄\")])])]),_c('tbody',_vm._l((props.items),function(item,index){return _c('tr',{key:index},[_c('td',[_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\"功能\")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.edit(item)}}},[_c('v-list-item-title',[_vm._v(\"修改\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.del(item)}}},[_c('v-list-item-title',[_vm._v(\"刪除\")])],1),_c('v-list-item',{on:{\"click\":function($event){$event.stopPropagation();return _vm.print(item)}}},[_c('v-list-item-title',[_vm._v(\"列印\")])],1)],1)],1)],1),_c('td',[_vm._v(_vm._s(item.date))]),_c('td',[_vm._v(_vm._s(item.branch))]),_c('td',[_vm._v(_vm._s(item.medication ? item.medication.name : '暫無資料'))]),_c('td',[_vm._v(_vm._s(item.create_man))]),_c('td',[_vm._v(_vm._s(item.edit_man))])])}),0)]},proxy:true}],null,true)})]}}])})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MedicationEvaluationAdd\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"red lighten-2\",\"dark\":\"\"},on:{\"click\":_vm.addProcess}},on),[_vm._v(\"mdi-plus-circle\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{class:_vm.titleStyle,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[(_vm.userData.name)?_c('div',{staticClass:\"grey lighten-3 pa-2 rounded\"},[_c('h1',[_vm._v(\"基本資料\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"姓名: \"+_vm._s(_vm.userData.name))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"床號: \"+_vm._s(_vm.userData.bed_name))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"年齡: \"+_vm._s(_vm.returnAge(_vm.userData.birthday)))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"入住日期: \"+_vm._s(_vm.userData.margin_date))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"性別: \"+_vm._s(_vm.userData.sex))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"出生日期: \"+_vm._s(_vm.userData.birthday))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"身高 / 體重: \"+_vm._s(_vm.userData.height)+\" / \"+_vm._s(_vm.userData.weight))]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\"過去病史: \"+_vm._s(_vm.userData.hadadisease)+\" \")]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\"主要診斷: \"+_vm._s(_vm.returnuDiagnosis(_vm.userData.diagnosis))+\" \")])],1)],1):_vm._e(),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"訪視日期\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.date),callback:function ($$v) {_vm.$set(_vm.list, \"date\", $$v)},expression:\"list.date\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"看診科別\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.branch),callback:function ($$v) {_vm.$set(_vm.list, \"branch\", $$v)},expression:\"list.branch\"}})],1)],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded\"},[_c('h1',[_vm._v(\"訪視項目\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"1.行動能力\",\"items\":_vm.visit1Items},model:{value:(_vm.list.visit1),callback:function ($$v) {_vm.$set(_vm.list, \"visit1\", $$v)},expression:\"list.visit1\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"2.目前是否正常用藥物治療\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit2),callback:function ($$v) {_vm.$set(_vm.list, \"visit2\", $$v)},expression:\"list.visit2\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"3.意識是否清醒\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit3),callback:function ($$v) {_vm.$set(_vm.list, \"visit3\", $$v)},expression:\"list.visit3\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"4.藥歷(藥袋)及內容物是否完整\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit4),callback:function ($$v) {_vm.$set(_vm.list, \"visit4\", $$v)},expression:\"list.visit4\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"5.是否自行服藥\",\"items\":_vm.visit5Items},model:{value:(_vm.list.visit5),callback:function ($$v) {_vm.$set(_vm.list, \"visit5\", $$v)},expression:\"list.visit5\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"6.是否按時服藥\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit6),callback:function ($$v) {_vm.$set(_vm.list, \"visit6\", $$v)},expression:\"list.visit6\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"7.是否有使用非口服藥品\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit7),callback:function ($$v) {_vm.$set(_vm.list, \"visit7\", $$v)},expression:\"list.visit7\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"8.藥品保存狀況\",\"items\":_vm.visit8Items},model:{value:(_vm.list.visit8),callback:function ($$v) {_vm.$set(_vm.list, \"visit8\", $$v)},expression:\"list.visit8\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"9.是否同時服用其他非處方藥物或健康食品\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit9),callback:function ($$v) {_vm.$set(_vm.list, \"visit9\", $$v)},expression:\"list.visit9\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"10.是否出現藥物不良反應\",\"items\":_vm.visit10Items},model:{value:(_vm.list.visit10),callback:function ($$v) {_vm.$set(_vm.list, \"visit10\", $$v)},expression:\"list.visit10\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"11.治療狀況\",\"items\":_vm.visit11Items},model:{value:(_vm.list.visit11),callback:function ($$v) {_vm.$set(_vm.list, \"visit11\", $$v)},expression:\"list.visit11\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"12.建議定期檢查項目\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit12),callback:function ($$v) {_vm.$set(_vm.list, \"visit12\", $$v)},expression:\"list.visit12\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"13.建議定期檢查項目\",\"items\":_vm.ynItems},model:{value:(_vm.list.visit13),callback:function ($$v) {_vm.$set(_vm.list, \"visit13\", $$v)},expression:\"list.visit13\"}})],1),_c('v-col',{attrs:{\"cols\":\"9\"}},[_c('v-text-field',{attrs:{\"label\":\"14.其他\"},model:{value:(_vm.list.visit14),callback:function ($$v) {_vm.$set(_vm.list, \"visit14\", $$v)},expression:\"list.visit14\"}})],1)],1)],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h1',[_vm._v(\"用藥評估\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"1.處方不清楚\",\"items\":_vm.evaluation1Items,\"multiple\":\"\"},model:{value:(_vm.list.evaluation1),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation1\", $$v)},expression:\"list.evaluation1\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"2.藥物種類\",\"items\":_vm.evaluation2Items},model:{value:(_vm.list.evaluation2),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation2\", $$v)},expression:\"list.evaluation2\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"3.副作用\",\"items\":_vm.evaluation3Items,\"multiple\":\"\"},model:{value:(_vm.list.evaluation3),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation3\", $$v)},expression:\"list.evaluation3\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"4.藥品重覆使用\",\"items\":_vm.evaluation4Items,\"multiple\":\"\"},model:{value:(_vm.list.evaluation4),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation4\", $$v)},expression:\"list.evaluation4\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"5.藥品交互作用\",\"items\":_vm.ynItems},model:{value:(_vm.list.evaluation5),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation5\", $$v)},expression:\"list.evaluation5\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-select',{attrs:{\"label\":\"6.下次訪視項目\",\"items\":_vm.evaluation6Items,\"multiple\":\"\"},model:{value:(_vm.list.evaluation6),callback:function ($$v) {_vm.$set(_vm.list, \"evaluation6\", $$v)},expression:\"list.evaluation6\"}})],1)],1)],1),(_vm.checkAllNeedDataOK)?_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h1',[_vm._v(\"藥物諮詢指導紀錄\")]),_c('v-divider'),_vm._l((_vm.returnMedicalArr()),function(medical_snkey){return _c('div',{key:medical_snkey,staticClass:\"my-3\"},[_c('h2',{staticClass:\"mb-1 d-flex justify-end\"},[_vm._v(\" 處方日: \"),(_vm.filterMatchMedical(medical_snkey)[0].medicalData)?_c('div',[_vm._v(\" \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.date)+\" \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData .hospital_name)+\"-\"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.branch_name)+\" 醫師: \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.doctor_name)+\" \")]):_c('div',{staticClass:\"red--text\"},[_vm._v(\"無符合資料\")])]),_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"用藥日期\")]),_c('th',[_vm._v(\"藥名\")]),_c('th',[_vm._v(\"次量\")]),_c('th',[_vm._v(\"頻率\")]),_c('th',[_vm._v(\"途徑\")]),_c('th',[_vm._v(\"天數\")]),_c('th',[_vm._v(\"總量\")])])]),_c('tbody',_vm._l((_vm.filterMatchMedical(medical_snkey)),function(item){return _c('tr',{key:item.snkey},[_c('td',[_vm._v(_vm._s(item.start_date))]),_c('td',[_vm._v(_vm._s(item.name)+\" \"+_vm._s(item.dosage))]),_c('td',[_vm._v(_vm._s(item.quantity)+\" \"+_vm._s(item.unit_name))]),_c('td',[_vm._v(_vm._s(item.eat_medicine_timeData ? item.eat_medicine_timeData.name : '未指定給藥時間'))]),_c('td',[_vm._v(_vm._s(item.method_name))]),_c('td',[(item.eat_medicine_timeData)?_c('span',[_vm._v(\" \"+_vm._s(isNaN(item.quantity) ? item.quantity : (item.medicine_counts / _vm.returnMathFromStr(item.quantity) / item.eat_medicine_timeData.time.split(\",\").length / item.eat_medicine_timeData.day).toFixed(0))+\" \")]):_c('span',[_vm._v(\"未指定給藥時間\")])]),_c('td',[_vm._v(_vm._s(item.medicine_counts))])])}),0)])],1)}),_c('v-divider',{staticClass:\"my-4\"}),_c('v-textarea',{attrs:{\"label\":\"藥師建議事項\",\"outlined\":\"\",\"auto-grow\":\"\"},model:{value:(_vm.list.pharmacistSuggest),callback:function ($$v) {_vm.$set(_vm.list, \"pharmacistSuggest\", $$v)},expression:\"list.pharmacistSuggest\"}}),_c('v-textarea',{attrs:{\"label\":\"處方醫師及機構主護回覆說明\",\"outlined\":\"\",\"auto-grow\":\"\"},model:{value:(_vm.list.nursingSuggest),callback:function ($$v) {_vm.$set(_vm.list, \"nursingSuggest\", $$v)},expression:\"list.nursingSuggest\"}})],2):_vm._e(),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('div',{staticClass:\"d-flex justify-space-between align-center\"},[_c('h1',[_vm._v(\"照護藥師選擇\")]),_c('v-select',{staticClass:\"mx-5\",attrs:{\"items\":_vm.medicationItems,\"label\":\"選擇藥師資料\",\"rules\":_vm.emptyRules,\"hide-details\":\"\",\"return-object\":\"\"},model:{value:(_vm.list.medication),callback:function ($$v) {_vm.$set(_vm.list, \"medication\", $$v)},expression:\"list.medication\"}}),_c('MedicationList')],1),_c('v-divider'),(_vm.list.medication)?_c('div',[_c('h2',[_vm._v(\"照護藥師資料\")]),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 姓名: \"+_vm._s(_vm.list.medication.name)+\" \")]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 電話: \"+_vm._s(_vm.list.medication.tel)+\" \")]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 藥師證號: \"+_vm._s(_vm.list.medication.license)+\" \")]),_c('v-col',{attrs:{\"cols\":\"5\"}},[_vm._v(\" 藥局名稱: \"+_vm._s(_vm.list.medication.pharmacyName)+\" \")]),_c('v-col',{attrs:{\"cols\":\"7\"}},[_vm._v(\" 地址: \"+_vm._s(_vm.list.medication.address)+\" \")])],1)],1):_vm._e()],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.processType == 'add')?_c('v-btn',{staticClass:\"primary\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.addOK}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.processType == 'edit')?_c('v-btn',{staticClass:\"success\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.editOK}},[_vm._v(\"確認修改\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MedicationEvaluationAdd\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-2\" dark v-on=\"on\" @click=\"addProcess\"\r\n          >mdi-plus-circle</v-icon\r\n        >\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title :class=\"titleStyle\" primary-title>{{\r\n          title\r\n        }}</v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-form ref=\"form\" class=\"mt-3\">\r\n            <div class=\"grey lighten-3 pa-2 rounded\" v-if=\"userData.name\">\r\n              <h1>基本資料</h1>\r\n              <v-divider></v-divider>\r\n              <v-row class=\"contentStyle\">\r\n                <v-col cols=\"3\">姓名: {{ userData.name }}</v-col>\r\n                <v-col cols=\"3\">床號: {{ userData.bed_name }}</v-col>\r\n                <v-col cols=\"3\">年齡: {{ returnAge(userData.birthday) }}</v-col>\r\n                <v-col cols=\"3\">入住日期: {{ userData.margin_date }}</v-col>\r\n                <v-col cols=\"3\">性別: {{ userData.sex }}</v-col>\r\n                <v-col cols=\"3\">出生日期: {{ userData.birthday }}</v-col>\r\n                <v-col cols=\"3\"\r\n                  >身高 / 體重: {{ userData.height }} /\r\n                  {{ userData.weight }}</v-col\r\n                >\r\n                <v-col cols=\"12\">過去病史: {{ userData.hadadisease }} </v-col>\r\n                <v-col cols=\"12\"\r\n                  >主要診斷: {{ returnuDiagnosis(userData.diagnosis) }}\r\n                </v-col>\r\n              </v-row>\r\n            </div>\r\n\r\n            <v-row>\r\n              <v-col cols=\"3\">\r\n                <v-text-field\r\n                  type=\"date\"\r\n                  label=\"訪視日期\"\r\n                  v-model=\"list.date\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"看診科別\"\r\n                  v-model=\"list.branch\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <div class=\"grey lighten-3 pa-2 rounded\">\r\n              <h1>訪視項目</h1>\r\n              <v-divider></v-divider>\r\n              <v-row class=\"contentStyle\">\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"1.行動能力\"\r\n                    :items=\"visit1Items\"\r\n                    v-model=\"list.visit1\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"2.目前是否正常用藥物治療\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit2\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"3.意識是否清醒\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit3\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"4.藥歷(藥袋)及內容物是否完整\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit4\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"5.是否自行服藥\"\r\n                    :items=\"visit5Items\"\r\n                    v-model=\"list.visit5\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"6.是否按時服藥\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit6\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"7.是否有使用非口服藥品\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit7\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"8.藥品保存狀況\"\r\n                    :items=\"visit8Items\"\r\n                    v-model=\"list.visit8\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"9.是否同時服用其他非處方藥物或健康食品\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit9\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"10.是否出現藥物不良反應\"\r\n                    :items=\"visit10Items\"\r\n                    v-model=\"list.visit10\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"11.治療狀況\"\r\n                    :items=\"visit11Items\"\r\n                    v-model=\"list.visit11\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"12.建議定期檢查項目\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit12\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"13.建議定期檢查項目\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.visit13\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"9\">\r\n                  <v-text-field\r\n                    label=\"14.其他\"\r\n                    v-model=\"list.visit14\"\r\n                  ></v-text-field>\r\n                </v-col>\r\n              </v-row>\r\n            </div>\r\n\r\n            <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n              <h1>用藥評估</h1>\r\n              <v-divider></v-divider>\r\n              <v-row class=\"contentStyle\">\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"1.處方不清楚\"\r\n                    :items=\"evaluation1Items\"\r\n                    v-model=\"list.evaluation1\"\r\n                    multiple\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"2.藥物種類\"\r\n                    :items=\"evaluation2Items\"\r\n                    v-model=\"list.evaluation2\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"3.副作用\"\r\n                    :items=\"evaluation3Items\"\r\n                    v-model=\"list.evaluation3\"\r\n                    multiple\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"4.藥品重覆使用\"\r\n                    :items=\"evaluation4Items\"\r\n                    v-model=\"list.evaluation4\"\r\n                    multiple\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"5.藥品交互作用\"\r\n                    :items=\"ynItems\"\r\n                    v-model=\"list.evaluation5\"\r\n                  ></v-select>\r\n                </v-col>\r\n                <v-col cols=\"3\">\r\n                  <v-select\r\n                    label=\"6.下次訪視項目\"\r\n                    :items=\"evaluation6Items\"\r\n                    v-model=\"list.evaluation6\"\r\n                    multiple\r\n                  ></v-select>\r\n                </v-col>\r\n              </v-row>\r\n            </div>\r\n\r\n            <div\r\n              class=\"grey lighten-3 pa-2 rounded my-2\"\r\n              v-if=\"checkAllNeedDataOK\"\r\n            >\r\n              <h1>藥物諮詢指導紀錄</h1>\r\n              <v-divider></v-divider>\r\n\r\n              <div\r\n                v-for=\"medical_snkey in returnMedicalArr()\"\r\n                :key=\"medical_snkey\"\r\n                class=\"my-3\"\r\n              >\r\n                <h2 class=\"mb-1 d-flex justify-end\">\r\n                  處方日:\r\n                  <div v-if=\"filterMatchMedical(medical_snkey)[0].medicalData\">\r\n                    {{ filterMatchMedical(medical_snkey)[0].medicalData.date }}\r\n                    {{\r\n                      filterMatchMedical(medical_snkey)[0].medicalData\r\n                        .hospital_name\r\n                    }}-{{\r\n                      filterMatchMedical(medical_snkey)[0].medicalData.branch_name\r\n                    }}\r\n                    醫師:\r\n                    {{\r\n                      filterMatchMedical(medical_snkey)[0].medicalData.doctor_name\r\n                    }}\r\n                  </div>\r\n                  <div v-else class=\"red--text\">無符合資料</div>\r\n                </h2>\r\n\r\n                <v-simple-table>\r\n                  <thead>\r\n                    <tr>\r\n                      <th>用藥日期</th>\r\n                      <th>藥名</th>\r\n                      <th>次量</th>\r\n                      <th>頻率</th>\r\n                      <th>途徑</th>\r\n                      <th>天數</th>\r\n                      <th>總量</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    <tr\r\n                      v-for=\"item in filterMatchMedical(medical_snkey)\"\r\n                      :key=\"item.snkey\"\r\n                    >\r\n                      <td>{{ item.start_date }}</td>\r\n                      <td>{{ item.name }} {{ item.dosage }}</td>\r\n                      <td>{{ item.quantity }} {{ item.unit_name }}</td>\r\n                      <td>{{ item.eat_medicine_timeData ? item.eat_medicine_timeData.name :  '未指定給藥時間' }}</td>\r\n                      <td>{{ item.method_name }}</td>\r\n                      <td>\r\n                        <span v-if=\"item.eat_medicine_timeData\">\r\n                          {{isNaN(item.quantity) \r\n                        ? item.quantity \r\n                        : (item.medicine_counts /\r\n                          returnMathFromStr(item.quantity) /\r\n                          item.eat_medicine_timeData.time.split(\",\").length /\r\n                          item.eat_medicine_timeData.day).toFixed(0)\r\n                        }}\r\n                        </span>\r\n                        <span v-else>未指定給藥時間</span>\r\n                      </td>\r\n                      <td>{{ item.medicine_counts }}</td>\r\n                    </tr>\r\n                  </tbody>\r\n                </v-simple-table>\r\n\r\n              </div>\r\n                <v-divider class=\"my-4\"></v-divider>\r\n\r\n                <v-textarea\r\n                  label=\"藥師建議事項\"\r\n                  v-model=\"list.pharmacistSuggest\"\r\n                  outlined\r\n                  auto-grow\r\n                ></v-textarea>\r\n                <v-textarea\r\n                  label=\"處方醫師及機構主護回覆說明\"\r\n                  v-model=\"list.nursingSuggest\"\r\n                  outlined\r\n                  auto-grow\r\n                ></v-textarea>\r\n            </div>\r\n\r\n            <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n              <div class=\"d-flex justify-space-between align-center\">\r\n                <h1>照護藥師選擇</h1>\r\n                <v-select\r\n                  class=\"mx-5\"\r\n                  :items=\"medicationItems\"\r\n                  label=\"選擇藥師資料\"\r\n                  v-model=\"list.medication\"\r\n                  :rules=\"emptyRules\"\r\n                  hide-details\r\n                  return-object\r\n                ></v-select>\r\n                <MedicationList />\r\n              </div>\r\n\r\n              <v-divider></v-divider>\r\n              <div v-if=\"list.medication\">\r\n                <h2>照護藥師資料</h2>\r\n\r\n                <v-row class=\"contentStyle\">\r\n                  <v-col cols=\"4\"> 姓名: {{ list.medication.name }} </v-col>\r\n                  <v-col cols=\"4\"> 電話: {{ list.medication.tel }} </v-col>\r\n                  <v-col cols=\"4\">\r\n                    藥師證號: {{ list.medication.license }}\r\n                  </v-col>\r\n                  <v-col cols=\"5\">\r\n                    藥局名稱: {{ list.medication.pharmacyName }}\r\n                  </v-col>\r\n                  <v-col cols=\"7\"> 地址: {{ list.medication.address }} </v-col>\r\n                </v-row>\r\n              </div>\r\n            </div>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            class=\"primary\"\r\n            @click=\"addOK\"\r\n            v-if=\"processType == 'add'\"\r\n            :loading=\"loading\"\r\n            :disabled=\"loading\"\r\n            >確認新增</v-btn\r\n          >\r\n          <v-btn\r\n            class=\"success\"\r\n            @click=\"editOK\"\r\n            v-if=\"processType == 'edit'\"\r\n            :loading=\"loading\"\r\n            :disabled=\"loading\"\r\n            >確認修改</v-btn\r\n          >\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MedicationList from \"@/components/MedicationList\";\r\nimport dayjs from \"dayjs\";\r\nimport isBetween from \"dayjs/plugin/isBetween\";\r\ndayjs.extend(isBetween);\r\n\r\nimport * as math from \"mathjs\"; //引入mathjs,處理浮點相乘產生的問題\r\n\r\nexport default {\r\n  props:['medicationevalutionData'],\r\n  components: { MedicationList },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {}, //表單內資料\r\n      processType: \"\", //存放頁面執行是add新增或edit修改\r\n      title: \"\",\r\n      titleStyle: \"\",\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n\r\n      loading: false,\r\n\r\n      ynItems: [\"\", \"是\", \"否\"],\r\n      visit1Items: [\"\", \"獨立行走\", \"長期臥床\", \"輪椅助行\", \"使用其他輔助具\"],\r\n      visit5Items: [\"\", \"是\", \"否\", \"部分依賴他人\", \"完全依賴他人\"],\r\n      visit8Items: [\"\", \"佳\", \"尚可\", \"需改進\"],\r\n      visit10Items: [\"\", \"是(接ADR)\", \"否\"],\r\n      visit11Items: [\"\", \"改善(穩定)\", \"無改善(不穩定)\", \"時好時壞\", \"不清楚\"],\r\n\r\n      evaluation1Items: [\r\n        \"無\",\r\n        \"劑量\",\r\n        \"給藥途徑\",\r\n        \"藥物錯誤\",\r\n        \"用法不當\",\r\n        \"給藥次數\",\r\n        \"藥品劑量\",\r\n      ],\r\n      evaluation2Items: [\"\", \"適量\", \"過高\", \"過低\"],\r\n      evaluation3Items: [\r\n        \"無\",\r\n        \"有\",\r\n        \"胃腸不適\",\r\n        \"腹瀉\",\r\n        \"咳嗽\",\r\n        \"暈眩\",\r\n        \"其他\",\r\n      ],\r\n      evaluation4Items: [\"無\", \"相同成份\", \"相同類別\", \"相同療效\"],\r\n      evaluation6Items: [\r\n        \"定期回診\",\r\n        \"檢查項目是否正常\",\r\n        \"持續監測血壓\",\r\n        \"持續監測血糖\",\r\n        \"持續監測血脂\",\r\n      ],\r\n\r\n      userMedicineItems: null, //住民使用藥物 -> 依 uData snkey取得\r\n      userMedicalRecordItems: null, //住民就診紀錄 -> 依 uData snkey取得\r\n      eat_medicine_timeItems: null,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    //判斷資料是否都讀取OK\r\n    checkAllNeedDataOK() {\r\n      if (\r\n        this.userMedicineItems != null &&\r\n        this.userMedicalRecordItems != null &&\r\n        this.eat_medicine_timeItems != null\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    //住民資料\r\n    userData() {\r\n      return this.$store.state.uData;\r\n    },\r\n    //藥師資料\r\n    medicationItems() {\r\n      return this.$store.state.medicationItems.map((i) => {\r\n        let newItem = JSON.parse(i.datalist);\r\n        return {\r\n          ...newItem,\r\n          text: `${newItem.name} / ${newItem.license} / ${newItem.pharmacyName}`,\r\n        };\r\n      });\r\n    },\r\n    //重新整理符合目前選擇日期的藥物資料 內容: 1.建構藥物結束時間 2.選擇的日期在藥物使用區間內 3.拚出就醫資料,藥物資料 4.拚出用藥頻率\r\n    buildMatchDayMedicines() {\r\n      //1.\r\n      let newMedicineItems = this.userMedicineItems\r\n      .sort((a,b)=>{\r\n        return a.start_date > b.start_date ? 1: -1\r\n      })\r\n      .map((i) => {\r\n        return {\r\n          ...i,\r\n          medicineEndDay: i.medicineEndInfo.slice(3, 13),\r\n        };\r\n      });\r\n      //2.2021.10.26 調整為選擇的日期的前九十天內,還在使用的藥物\r\n      newMedicineItems = newMedicineItems.filter((i) =>\r\n        dayjs(i.medicineEndDay).isBetween(\r\n          dayjs(this.list.date).add(-90,'day'),\r\n          dayjs(this.list.date),\r\n          null,\r\n          \"[]\"\r\n        )\r\n        // dayjs(this.list.date).isBetween(\r\n        //   i.start_date,\r\n        //   dayjs(i.medicineEndDay),\r\n        //   null,\r\n        //   \"[]\"\r\n        // )\r\n      );\r\n\r\n      //3. 4.\r\n      newMedicineItems = newMedicineItems.map((i) => {\r\n        return {\r\n          ...i,\r\n          medicalData: this.returnMedicalData(i),\r\n          eat_medicine_timeData: this.returnEatMedicineTime(i),\r\n        };\r\n      });\r\n\r\n      return newMedicineItems;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.$store.dispatch(\"getItems\", \"medication\"); //讀入資料 -> 放在 store裡 medicationItems\r\n\r\n    this.getUserMedicine(); //取得住民使用藥物\r\n    this.getUserMedicalRecord(); //取得住民就診紀錄\r\n    this.getItems(\"eat_medicine_time\"); //取得用藥\r\n  },\r\n\r\n  methods: {\r\n    //回傳就診的陣列\r\n    returnMedicalArr() {\r\n      let newItems = this.buildMatchDayMedicines.map((i) => i.medical_snkey);\r\n      newItems = new Set(newItems);\r\n      newItems = [...newItems];\r\n      return newItems;\r\n    },\r\n    //回傳指定就診資料\r\n    filterMatchMedical(snkey) {\r\n      // console.log(snkey)\r\n      return this.buildMatchDayMedicines.filter(\r\n        (i) => i.medical_snkey == snkey\r\n      );\r\n    },\r\n    //回傳指定藥物的就診紀錄資料\r\n    returnMedicalData(item) {\r\n      return this.userMedicalRecordItems.find(\r\n        (i) => i.snkey == item.medical_snkey\r\n      );\r\n    },\r\n    //回傳指定藥物的用藥頻率資料\r\n    returnEatMedicineTime(item) {\r\n      return this.eat_medicine_timeItems.find(\r\n        (i) => i.snkey == item.eat_medicine_time_snkey\r\n      );\r\n    },\r\n    //如果內容是字串型的運算式時.透過這個去計算\r\n    returnMathFromStr(val) {\r\n      return math.evaluate(val);\r\n      // math.derivative('1/4')\r\n    },\r\n    //取得住民使用藥物\r\n    getUserMedicine() {\r\n      var postData = {\r\n        key: \"user_snkey\",\r\n        value: this.$store.state.uData.snkey,\r\n      };\r\n      this.$api.options(\r\n        \"medicinerecord/getByKey/\" + this.$store.state.databaseName,\r\n        postData\r\n      ).then((rs) => {\r\n        this.userMedicineItems = rs;\r\n      });\r\n    },\r\n    //取得住民就醫紀錄\r\n    getUserMedicalRecord() {\r\n      this.$api.options(\r\n        \"medicinerecord/getByUserSnkey/\" +\r\n          this.$store.state.databaseName +\r\n          \"/\" +\r\n          this.$store.state.uData.snkey\r\n      ).then((rs) => {\r\n        this.userMedicalRecordItems = rs;\r\n      });\r\n    },\r\n    //取得指定datatable資料\r\n    getItems(datatable) {\r\n      this.$api.options(\r\n        \"general/getAll/\" + this.$store.state.databaseName + \"/\" + datatable\r\n      ).then((rs) => {\r\n        this[datatable + \"Items\"] = rs;\r\n      });\r\n    },\r\n    //回傳過去病史\r\n    returnuDiagnosis(item) {\r\n      let values = Object.values(item);\r\n      return values.toString()\r\n      // let str = \"\";\r\n      // values.forEach((i, index) => {\r\n      //   if (index > 0) {\r\n      //     str += \",\";\r\n      //   }\r\n      //   str += i;\r\n      // });\r\n      // return str;\r\n    },\r\n    //回傳年齡\r\n    returnAge(birthday) {\r\n      return dayjs().format(\"YYYY\") - dayjs(birthday).format(\"YYYY\");\r\n    },\r\n    addProcess() {\r\n      //進入畫面時,執行的是新增作業\r\n      this.processType = \"add\";\r\n      this.title = \"新增資料\";\r\n      this.titleStyle = \"font-weight-black error lighten-2\";\r\n      // this.list = {\r\n      //   date: dayjs().format(\"YYYY-MM-DD\"),\r\n      // };\r\n      //2023.7.11 新增 取得最後一筆輸入的資料內容\r\n      if (this.medicationevalutionData.length != 0){\r\n        this.list = JSON.parse(JSON.stringify(this.medicationevalutionData[0]))\r\n        this.list.date = dayjs().format(\"YYYY-MM-DD\")\r\n      }else{\r\n        this.list = {\r\n          date: dayjs().format(\"YYYY-MM-DD\"),\r\n        };\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form.resetValidation();\r\n      });\r\n    },\r\n    editProcess(item) {\r\n      console.log(item)\r\n      //進入畫面時,執行的是修改作業\r\n      this.processType = \"edit\";\r\n      this.title = \"修改資料\";\r\n      this.titleStyle = \"font-weight-black success lighten-2\";\r\n      this.list = JSON.parse(JSON.stringify(item)); //複制一份實際修改資料內容\r\n      this.dialog = true;\r\n    },\r\n    //確認新增\r\n    addOK() {\r\n      if (this.$refs.form.validate()) {\r\n        this.list.user_snkey = this.$store.state.uData.snkey;\r\n        this.list.create_man = this.$store.state.pData.username + \"(\" + dayjs().format(\"YYYY-MM-DD HH:mm:ss\") + \")\" //執行動作的人,時間,內容\r\n        var postData = {\r\n          user_snkey : this.$store.state.uData.snkey,\r\n          datalist : JSON.stringify(this.list),\r\n        }\r\n\r\n        this.loading = true;\r\n        this.$api.options( \"general/add/\" + this.$store.state.databaseName + \"/medicationevalution\",postData )\r\n          .then(rs => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.dialog = false;\r\n              this.$emit(\"getAllData\");\r\n              this.loading = false;\r\n            }\r\n          });\r\n      } else {\r\n        var pop = { msg: \"資料輸入不完全!!請重新確認!!\", type: true, theme: \"warning\"};\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n    editOK() {\r\n      //確認修改\r\n      if (this.$refs.form.validate()) {\r\n        // this.list[\"edit_man\"] =\r\n        //   this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\"; //執行動作的人,時間,內容\r\n        if (!this.list.edit_man){this.list.edit_man = ''}\r\n        this.list.edit_man = this.$store.state.pData.username + \"(\" + dayjs().format(\"YYYY-MM-DD HH:mm:ss\") + \")\" + this.list.edit_man; //執行動作的人,時間,內容\r\n        var postData = {\r\n          snkey:this.list.snkey,\r\n          datalist:JSON.stringify(this.list),\r\n          edit_man:''\r\n        }\r\n\r\n        this.loading = true;\r\n        this.$api.options( \"general/edit/\" + this.$store.state.databaseName + \"/medicationevalution\",postData )\r\n          .then(rs => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.dialog = false;\r\n              this.loading = false;\r\n              this.$emit(\"getAllData\");\r\n            }\r\n          });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\"\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ntbody {\r\n  tr:hover {\r\n    background-color: transparent !important;\r\n  }\r\n}\r\n\r\n.rounded {\r\n  border-radius: 5px;\r\n}\r\n\r\n.contentStyle {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.theme--light.v-data-table thead tr th {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.theme--light.v-data-table tbody tr td {\r\n  font-size: 1rem;\r\n  height: 2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MedicationEvaluationAdd.vue?vue&type=template&id=29ad8729&scoped=true&\"\nimport script from \"./MedicationEvaluationAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./MedicationEvaluationAdd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MedicationEvaluationAdd.vue?vue&type=style&index=0&id=29ad8729&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"29ad8729\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VDivider,VForm,VIcon,VRow,VSelect,VSimpleTable,VSpacer,VTextField,VTextarea})\n","<template>\r\n  <div class=\"MedicationEvaluationList\">\r\n    <v-card>\r\n      <v-card-title>\r\n        <h2 class=\"subheading grey--text\">\r\n          <v-icon class=\"mx-1\">fas fa-file-alt</v-icon>\r\n          <span>\r\n            {{ this.$store.state.uData.p_code }} /\r\n            {{ this.$store.state.uData.name }}\r\n          </span>\r\n          <span>用藥評估紀錄表</span>\r\n        </h2>\r\n        <v-spacer></v-spacer>\r\n        <v-toolbar dense>\r\n          <v-text-field\r\n            hide-details\r\n            prepend-icon=\"mdi-magnify\"\r\n            single-line\r\n            label=\"搜尋\"\r\n            v-model=\"serachKey\"\r\n            @keyup.stop=\"search()\"\r\n          ></v-text-field>\r\n\r\n          <popupadd ref=\"childFn\" :medicationevalutionData=\"searchfilter\" @getAllData=\"getAllData\"></popupadd>\r\n        </v-toolbar>\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-card class=\"mt-2\">\r\n          <v-card-text>\r\n            <!-- 表單內容 -->\r\n            <v-data-iterator\r\n              :items=\"searchfilter\"\r\n              :items-per-page.sync=\"itemsPerPage\"\r\n              :footer-props=\"{ itemsPerPageOptions }\"\r\n            >\r\n              <template v-slot:default=\"props\">\r\n                <v-simple-table fixed-header class=\"mt-2 text-no-wrap\">\r\n                  <template v-slot:default>\r\n                    <thead style=\"background-color: #e3f2fd\">\r\n                      <tr>\r\n                        <th></th>\r\n                        <th>評估日期</th>\r\n                        <th>看診科別</th>\r\n                        <th>照護藥師</th>\r\n                        <th>紀錄人</th>\r\n                        <th>修改紀錄</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"(item, index) in props.items\" :key=\"index\">\r\n                        <td>\r\n                          <v-menu transition=\"scale-transition\" offset-y>\r\n                            <template v-slot:activator=\"{ on }\">\r\n                              <v-btn color=\"primary\" dark v-on=\"on\">功能</v-btn>\r\n                            </template>\r\n                            <v-list>\r\n                              <v-list-item @click=\"edit(item)\">\r\n                                <v-list-item-title>修改</v-list-item-title>\r\n                              </v-list-item>\r\n                              <v-list-item @click=\"del(item)\">\r\n                                <v-list-item-title>刪除</v-list-item-title>\r\n                              </v-list-item>\r\n                              <v-list-item @click.stop=\"print(item)\">\r\n                                <v-list-item-title>列印</v-list-item-title>\r\n                              </v-list-item>\r\n                            </v-list>\r\n                          </v-menu>\r\n                        </td>\r\n                        <td>{{ item.date }}</td>\r\n                        <td>{{ item.branch }}</td>\r\n                        <td>{{ item.medication ? item.medication.name : '暫無資料' }}</td>\r\n\r\n                        <td>{{ item.create_man }}</td>\r\n                        <td>{{ item.edit_man }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </template>\r\n                </v-simple-table>\r\n              </template>\r\n            </v-data-iterator>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <!-- <pre> {{items}} </pre> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport popupadd from \"@/views/document/MedicationEvaluationAdd\";\r\n\r\nexport default {\r\n  components: { popupadd },\r\n  data() {\r\n    return {\r\n      items: [],\r\n      serachKey: \"\",\r\n      itemsPerPageOptions: [10, 20, 30],\r\n      itemsPerPage: 10,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    searchfilter() {\r\n      var keys = this.serachKey.split(\" \");\r\n      var str = \"\";\r\n\r\n      return keys.reduce(function (prev, element) {\r\n        return prev.filter((item) => {\r\n          str = JSON.stringify(item).toUpperCase();\r\n          if (str.includes(element.toUpperCase())) {\r\n            return item;\r\n          }\r\n        });\r\n      }, this.items);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    //列印\r\n    print(item) {\r\n      let postData = {\r\n        list :item,\r\n        userData : this.$store.state.uData,\r\n      }\r\n      let routeData = this.$router.resolve({\r\n        path: \"/print/MedicationEvaluationPrint\",\r\n        query: { data: JSON.stringify(postData) },\r\n      });\r\n      window.open(routeData.href, \"_blank\");\r\n    },\r\n    getAllData() {\r\n      var postData = {\r\n        key: \"user_snkey\",\r\n        value: this.$store.state.uData.snkey,\r\n      };\r\n\r\n      //取得所有資料\r\n      this.$api.options(\r\n        \"general/getByKey/\" +\r\n          this.$store.state.databaseName +\r\n          \"/medicationevalution\",\r\n        postData\r\n      ).then((rs) => {\r\n        this.items = rs\r\n          .map((i) => {\r\n            var newItem = JSON.parse(i.datalist);\r\n            newItem[\"snkey\"] = i.snkey;\r\n            return newItem;\r\n          })\r\n          .sort((a, b) => {\r\n            return a.date < b.date ? 1 : -1;\r\n          });\r\n      });\r\n    },\r\n    edit(item) {\r\n      //修改功能\r\n      this.$refs.childFn.editProcess(item);\r\n    },\r\n    del(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        delData.delman =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        var postData = {\r\n          snkey: delData.snkey,\r\n          tablename: \"medicationevalution\",\r\n          info: JSON.stringify(delData),\r\n        };\r\n\r\n        if (res) {\r\n          this.$api.options(\r\n            \"general/delv3/\" +\r\n              this.$store.state.databaseName +\r\n              \"/\" +\r\n              postData.tablename,\r\n            postData\r\n          ).then((rs) => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.getAllData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.MedicationEvaluationList {\r\n  h2 {\r\n    span {\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n}\r\n\r\n.theme--light.v-data-table thead tr th {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.theme--light.v-data-table tbody tr td {\r\n  font-size: 1rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MedicationEvaluationList.vue?vue&type=template&id=6ac20231&scoped=true&\"\nimport script from \"./MedicationEvaluationList.vue?vue&type=script&lang=js&\"\nexport * from \"./MedicationEvaluationList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MedicationEvaluationList.vue?vue&type=style&index=0&id=6ac20231&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ac20231\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDataIterator,VIcon,VList,VListItem,VListItemTitle,VMenu,VSimpleTable,VSpacer,VTextField,VToolbar})\n"],"sourceRoot":""}