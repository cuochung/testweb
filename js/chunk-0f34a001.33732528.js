(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f34a001"],{"21d8":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex"},[t.printChoice?i("v-btn",{staticClass:"primary ml-2",on:{click:t.changeChoice}},[t._v("列印選擇")]):t._e(),i("MultiPrintOption",{directives:[{name:"show",rawName:"v-show",value:t.printItems.length>0,expression:"printItems.length > 0"}],attrs:{printItems:t.printItems}}),t.printChoice?t._e():i("v-btn",{staticClass:"primary ml-2",on:{click:t.changeChoice}},[t._v("顯示功能")])],1)])},s=[],n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MultiPrintOption"},[i("v-dialog",{attrs:{width:"30vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.printItems.length<=5,expression:"printItems.length <= 5"}],staticClass:"success ml-2",on:{click:t.enterProcess}},a),[t._v("列印表單選擇")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{class:t.titleClass,attrs:{"primary-title":""}},[t._v(t._s(t.title))]),i("v-card-text",[i("v-alert",{staticClass:"mt-2",attrs:{color:"primary",outlined:""}},[i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"primary mr-1",on:{click:t.selectAll}},[t._v("全選")]),i("v-btn",{attrs:{color:"primary",outlined:""},on:{click:t.noAll}},[t._v("全不選")])],1),i("v-checkbox",{attrs:{label:"住民定期評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.record,callback:function(e){t.$set(t.list,"record",e)},expression:"list.record"}}),i("v-checkbox",{attrs:{label:"柯氏/巴氏(ADL)量表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.kb,callback:function(e){t.$set(t.list,"kb",e)},expression:"list.kb"}}),i("v-checkbox",{attrs:{label:"跌倒危險因子評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.fall,callback:function(e){t.$set(t.list,"fall",e)},expression:"list.fall"}}),i("v-checkbox",{attrs:{label:"Braden壓力性損傷風險評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.braden,callback:function(e){t.$set(t.list,"braden",e)},expression:"list.braden"}}),i("v-checkbox",{attrs:{label:"簡易心智狀態SPMSQ",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.spmsq,callback:function(e){t.$set(t.list,"spmsq",e)},expression:"list.spmsq"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.objcheck(),expression:"objcheck()"}],staticClass:"primary",on:{click:t.printOK}},[t._v("確認列印")])],1)],1)],1)],1)},r=[],o=(i("4de4"),i("caad"),i("d81d"),i("4e827"),i("07ac"),i("2532"),i("159b"),i("4328")),l=i.n(o),c=(i("5a0c"),{props:["printItems"],data:function(){return{dialog:!1,list:{record:"",kb:"",fall:"",braden:"",spmsq:""},emptyRules:[function(t){return!!t||"不可空白"}],title:"",titleClass:"",recordItems:[],kbItems:[],fallItems:[],bradenItems:[],spmsqItems:[],documents:["record","kb","fall","braden","spmsq"]}},mounted:function(){this.$on("childFn",(function(){this.dialog=!0,this.enterProcess()})),this.selectAll()},methods:{printOK:function(){var t=this;this.$confirm("確認顯示列印畫面?").then((function(e){if(e){var i={};i["matchDate"]=t.printItems.map((function(t){return t.date}));var a=JSON.stringify(i["matchDate"].sort());t.documents.forEach((function(e){i[e]=t[e+"Items"].filter((function(t){var e=JSON.parse(t.datalist);return a.includes(e.date)}))})),i["choiceDocuments"]=t.list,console.log(i),sessionStorage.setItem("printData",JSON.stringify(i));var s=t.$router.resolve({path:"/print/multidocumentprint"});window.open(s.href,"_blank")}}))},objcheck:function(){return JSON.stringify(Object.values(this.list)).length>21},enterProcess:function(t){var e=this;this.title="列印表單選擇",this.titleClass="font-weight-black primary lighten-2",this.documents.forEach((function(t){e.getItems(t)}))},getItems:function(t){var e=this,i={key:"u_snkey",value:this.$store.state.uData.snkey};this.axios.post("general/getByKey/"+this.$store.state.databaseName+"/"+t,l.a.stringify(i)).then((function(i){e[t+"Items"]=i.data}))},selectAll:function(){for(var t in this.list)this.list[t]="true";this.objcheck()},noAll:function(){for(var t in this.list)this.list[t]="";this.objcheck()}}}),u=c,d=i("2877"),v=i("6544"),h=i.n(v),m=i("0798"),f=i("8336"),p=i("b0af"),_=i("99d9"),g=i("ac7c"),y=i("169a"),b=i("ce7e"),$=i("2fa4"),k=Object(d["a"])(u,n,r,!1,null,null,null),w=k.exports;h()(k,{VAlert:m["a"],VBtn:f["a"],VCard:p["a"],VCardActions:_["b"],VCardText:_["d"],VCardTitle:_["e"],VCheckbox:g["a"],VDialog:y["a"],VDivider:b["a"],VSpacer:$["a"]});var C={components:{MultiPrintOption:w},props:["printChoice","printItems"],data:function(){return{}},mounted:function(){},methods:{changeChoice:function(){this.$emit("changeChoice")}}},D=C,x=Object(d["a"])(D,a,s,!1,null,null,null);e["a"]=x.exports;h()(x,{VBtn:f["a"]})},"5a0c":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";var t="millisecond",e="second",i="minute",a="hour",s="day",n="week",r="month",o="quarter",l="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,i){var a=String(t);return!a||a.length>=e?t:""+Array(e+1-a.length).join(i)+t},v={s:d,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),a=Math.floor(i/60),s=i%60;return(e<=0?"+":"-")+d(a,2,"0")+":"+d(s,2,"0")},m:function(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(i,r),s=e-a<0,n=t.clone().add(i+(s?-1:1),r);return Number(-(i+(e-a)/(s?a-n:n-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:r,y:l,w:n,d:s,D:"date",h:a,m:i,s:e,ms:t,Q:o}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m="en",f={};f[m]=h;var p=function(t){return t instanceof b},_=function(t,e,i){var a;if(!t)return m;if("string"==typeof t)f[t]&&(a=t),e&&(f[t]=e,a=t);else{var s=t.name;f[s]=t,a=s}return!i&&a&&(m=a),a||!i&&m},g=function(t,e,i){if(p(t))return t.clone();var a=e?"string"==typeof e?{format:e,pl:i}:e:{};return a.date=t,new b(a)},y=v;y.l=_,y.i=p,y.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var b=function(){function d(t){this.$L=this.$L||_(t.locale,null,!0),this.parse(t)}var v=d.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(y.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var a=e.match(c);if(a)return i?new Date(Date.UTC(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)):new Date(a[1],a[2]-1,a[3]||1,a[4]||0,a[5]||0,a[6]||0,a[7]||0)}return new Date(e)}(t),this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return y},v.isValid=function(){return!("Invalid Date"===this.$d.toString())},v.isSame=function(t,e){var i=g(t);return this.startOf(e)<=i&&i<=this.endOf(e)},v.isAfter=function(t,e){return g(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<g(t)},v.$g=function(t,e,i){return y.u(t)?this[e]:this.set(i,t)},v.year=function(t){return this.$g(t,"$y",l)},v.month=function(t){return this.$g(t,"$M",r)},v.day=function(t){return this.$g(t,"$W",s)},v.date=function(t){return this.$g(t,"$D","date")},v.hour=function(t){return this.$g(t,"$H",a)},v.minute=function(t){return this.$g(t,"$m",i)},v.second=function(t){return this.$g(t,"$s",e)},v.millisecond=function(e){return this.$g(e,"$ms",t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,o){var c=this,u=!!y.u(o)||o,d=y.p(t),v=function(t,e){var i=y.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return u?i:i.endOf(s)},h=function(t,e){return y.w(c.toDate()[t].apply(c.toDate(),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},m=this.$W,f=this.$M,p=this.$D,_="set"+(this.$u?"UTC":"");switch(d){case l:return u?v(1,0):v(31,11);case r:return u?v(1,f):v(0,f+1);case n:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return v(u?p-b:p+(6-b),f);case s:case"date":return h(_+"Hours",0);case a:return h(_+"Minutes",1);case i:return h(_+"Seconds",2);case e:return h(_+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(n,o){var c,u=y.p(n),d="set"+(this.$u?"UTC":""),v=(c={},c[s]=d+"Date",c.date=d+"Date",c[r]=d+"Month",c[l]=d+"FullYear",c[a]=d+"Hours",c[i]=d+"Minutes",c[e]=d+"Seconds",c[t]=d+"Milliseconds",c)[u],h=u===s?this.$D+(o-this.$W):o;if(u===r||u===l){var m=this.clone().set("date",1);m.$d[v](h),m.init(),this.$d=m.set("date",Math.min(this.$D,m.daysInMonth())).toDate()}else v&&this.$d[v](h);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[y.p(t)]()},v.add=function(t,o){var c,u=this;t=Number(t);var d=y.p(o),v=function(e){var i=g(u);return y.w(i.date(i.date()+Math.round(e*t)),u)};if(d===r)return this.set(r,this.$M+t);if(d===l)return this.set(l,this.$y+t);if(d===s)return v(1);if(d===n)return v(7);var h=(c={},c[i]=6e4,c[a]=36e5,c[e]=1e3,c)[d]||1,m=this.$d.getTime()+t*h;return y.w(m,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",a=y.z(this),s=this.$locale(),n=this.$H,r=this.$m,o=this.$M,l=s.weekdays,c=s.months,d=function(t,a,s,n){return t&&(t[a]||t(e,i))||s[a].substr(0,n)},v=function(t){return y.s(n%12||12,t,"0")},h=s.meridiem||function(t,e,i){var a=t<12?"AM":"PM";return i?a.toLowerCase():a},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:y.s(o+1,2,"0"),MMM:d(s.monthsShort,o,c,3),MMMM:c[o]||c(this,i),D:this.$D,DD:y.s(this.$D,2,"0"),d:String(this.$W),dd:d(s.weekdaysMin,this.$W,l,2),ddd:d(s.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(n),HH:y.s(n,2,"0"),h:v(1),hh:v(2),a:h(n,r,!0),A:h(n,r,!1),m:String(r),mm:y.s(r,2,"0"),s:String(this.$s),ss:y.s(this.$s,2,"0"),SSS:y.s(this.$ms,3,"0"),Z:a};return i.replace(u,(function(t,e){return e||m[t]||a.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(t,c,u){var d,v=y.p(c),h=g(t),m=6e4*(h.utcOffset()-this.utcOffset()),f=this-h,p=y.m(this,h);return p=(d={},d[l]=p/12,d[r]=p,d[o]=p/3,d[n]=(f-m)/6048e5,d[s]=(f-m)/864e5,d[a]=f/36e5,d[i]=f/6e4,d[e]=f/1e3,d)[v]||f,u?p:y.a(p)},v.daysInMonth=function(){return this.endOf(r).$D},v.$locale=function(){return f[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),a=_(t,e,!0);return a&&(i.$L=a),i},v.clone=function(){return y.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},d}();return g.prototype=b.prototype,g.extend=function(t,e){return t(e,b,g),g},g.locale=_,g.isDayjs=p,g.unix=function(t){return g(1e3*t)},g.en=f[m],g.Ls=f,g}))},"5ecd":function(t,e,i){"use strict";i("b1be")},"7c86":function(t,e,i){},"9263f":function(t,e,i){"use strict";i("7c86")},b1be:function(t,e,i){},ce2b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"falllist"},[i("v-card",{staticClass:"mt-2"},[i("v-card-title",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"8"}},[i("h2",{staticClass:"subheading grey--text"},[i("v-icon",{staticClass:"mx-1"},[t._v("fas fa-file-alt")]),i("span",[t._v(" "+t._s(this.$store.state.uData.p_code)+" / "+t._s(this.$store.state.uData.name)+" ")]),i("span",[t._v("跌倒危險因子評估表")])],1)]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-toolbar",{attrs:{dense:""}},[i("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","single-line":"",label:"搜尋"},on:{keyup:function(e){return e.stopPropagation(),t.search()}},model:{value:t.serachKey,callback:function(e){t.serachKey=e},expression:"serachKey"}}),i("popupadd",{ref:"editProcess",attrs:{viewData:t.viewData},on:{getAllData:t.getAllData}}),i("MultiPrintSelect",{attrs:{printChoice:t.printChoice,printItems:t.printItems},on:{changeChoice:t.changeChoice}})],1)],1)],1)],1),i("v-card-text",[i("v-card",{staticClass:"mt-2"},[i("v-card-text",[i("v-data-iterator",{attrs:{items:t.viewData,"items-per-page":t.itemsPerPage,"footer-props":{itemsPerPageOptions:t.itemsPerPageOptions}},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[i("v-simple-table",{staticClass:"mt-2 text-no-wrap",attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",{staticStyle:{"background-color":"#e3f2fd"}},[i("tr",[i("th",{attrs:{rowspan:"3"}}),i("th",{attrs:{rowspan:"2"}},[t._v("評估日期")]),i("th",{attrs:{colspan:"14"}},[t._v("跌倒危險因子評估表")]),i("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("紀錄人")]),i("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("修改紀錄")])]),i("tr",[i("th",[t._v("1.年齡")]),i("th",[t._v("2.跌倒病史")]),i("th",[t._v("3.活動能力")]),i("th",[t._v("4.意識狀態")]),i("th",[t._v("5.行為")]),i("th",[t._v("6.夜間頻尿")]),i("th",[t._v("7.視覺障礙")]),i("th",[t._v("8.步態平衡")]),i("th",[t._v("9.藥物")]),i("th",[t._v("內容")]),i("th",[t._v("10.新入住或新轉入")]),i("th",[t._v("11.衣著(含鞋子)")]),i("th",[t._v("12.環境中熟悉物件")]),i("th",[t._v("總分")])])]),i("tbody",t._l(e.items,(function(e,a){return i("tr",{key:a},[i("td",{staticClass:"d-flex align-center"},[t.printChoice?t._e():i("v-checkbox",{attrs:{label:"列印選擇"},on:{click:function(e){return e.stopPropagation(),t.filterPrintItem(e)}},model:{value:e.check,callback:function(i){t.$set(e,"check",i)},expression:"item.check"}}),t.printChoice?i("v-menu",{attrs:{transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-btn",t._g({attrs:{color:"primary",dark:""}},a),[t._v("功能")])]}}],null,!0)},[i("v-list",[i("v-list-item",{on:{click:function(i){return t.edit(e)}}},[i("v-list-item-title",[t._v("修改")])],1),i("v-list-item",{on:{click:function(i){return t.del(e)}}},[i("v-list-item-title",[t._v("刪除")])],1)],1)],1):t._e()],1),i("td",[t._v(t._s(e.date))]),i("td",[t._v(t._s(e.age))]),i("td",[t._v(t._s(e.history))]),i("td",[t._v(t._s(e.active))]),i("td",[t._v(t._s(e.conscious))]),i("td",[t._v(t._s(e.behavior))]),i("td",[t._v(t._s(e.pee_rate))]),i("td",[t._v(t._s(e.visual_impairment))]),i("td",[t._v(t._s(e.gait_balance))]),i("td",[t._v(t._s(e.medicine))]),i("td",[t._v(t._s(e.medicine_content))]),i("td",[t._v(t._s(e.new_in))]),i("td",[t._v(t._s(e.clothes))]),i("td",[t._v(t._s(e.familiar_object))]),i("td",[t._v(t._s(e.total))]),i("td",[t._v(t._s(e.create_man))]),i("td",[t._v(t._s(e.edit_man))])])})),0)]},proxy:!0}],null,!0)})]}}])})],1)],1)],1)],1)],1)},s=[],n=(i("4de4"),i("caad"),i("d81d"),i("4e827"),i("e25e"),i("2532"),i("1276"),i("159b"),i("2909")),r=i("4328"),o=i.n(r),l=i("21d8"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"adaptadd"},[i("v-dialog",{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on;return[i("v-icon",t._g({attrs:{color:"red lighten-2",dark:""},on:{click:t.addProcess}},a),[t._v("mdi-plus-circle")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{class:t.titleStyle,attrs:{"primary-title":""}},[t._v(t._s(t.title))]),i("v-card-text",[i("v-form",{ref:"form",staticClass:"mt-3"},[i("table",{staticClass:"table table-bordered table-sm bg-light"},[i("tr",[i("td",{staticClass:"form_title align-middle",attrs:{colspan:"4"}},[t._v("評估日期")]),i("td",[i("v-text-field",{attrs:{type:"date",rules:t.emptyRules},model:{value:t.list.date,callback:function(e){t.$set(t.list,"date",e)},expression:"list.date"}})],1)]),i("tr",[i("td",{staticClass:"form_title",attrs:{rowspan:"13"}},[i("span",{staticClass:"vertical-mode"},[t._v("跌倒危險因子評估表")])]),i("td",[t._v("1")]),i("td",[t._v("年齡")]),i("td",[t._v("0.小於65歲 1.大於65歲")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.age,expression:"list.age"}],staticClass:"form-control",attrs:{id:"age",name:"age"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"age",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.小於65歲")]),i("option",{attrs:{value:"1"}},[t._v("1.大於65歲")])])])]),i("tr",[i("td",[t._v("2")]),i("td",[t._v("跌倒病史")]),i("td",[t._v("0.無 5.有跌倒病史")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.history,expression:"list.history"}],staticClass:"form-control",attrs:{id:"history",name:"history"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"history",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.無")]),i("option",{attrs:{value:"5"}},[t._v("5.有跌倒病史")])])])]),i("tr",[i("td",[t._v("3")]),i("td",[t._v("活動能力")]),i("td",[t._v("0.無活動功能障礙,不需要他人、輔助器協助 1.有活動功能障礙,需他人、輔助器協助")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.active,expression:"list.active"}],staticClass:"form-control",attrs:{id:"active",name:"active"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"active",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.無活動功能障礙,不需要他人、輔助器協助")]),i("option",{attrs:{value:"1"}},[t._v("1.有活動功能障礙,需他人、輔助器協助")])])])]),i("tr",[i("td",[t._v("4")]),i("td",[t._v("意識狀態")]),i("td",[t._v("0.清醒有定向感 1.人、時、地混淆")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.conscious,expression:"list.conscious"}],staticClass:"form-control",attrs:{id:"conscious",name:"conscious"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"conscious",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.清醒有定向感")]),i("option",{attrs:{value:"1"}},[t._v("1.人、時、地混淆")])])])]),i("tr",[i("td",[t._v("5")]),i("td",[t._v("行為")]),i("td",[t._v("0.正常 1.躁動不安 1.沮喪")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.behavior,expression:"list.behavior"}],staticClass:"form-control",attrs:{id:"behavior",name:"behavior"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"behavior",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.正常")]),i("option",{attrs:{value:"1"}},[t._v("1.躁動不安")]),i("option",{attrs:{value:"1"}},[t._v("1.沮喪")])])])]),i("tr",[i("td",[t._v("6")]),i("td",[t._v("夜間頻尿")]),i("td",[t._v("0.否 1.是")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.pee_rate,expression:"list.pee_rate"}],staticClass:"form-control",attrs:{id:"pee_rate",name:"pee_rate"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"pee_rate",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.否")]),i("option",{attrs:{value:"1"}},[t._v("1.是")])])])]),i("tr",[i("td",[t._v("7")]),i("td",[t._v("視覺障礙")]),i("td",[t._v("0.否 1.有")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.visual_impairment,expression:"list.visual_impairment"}],staticClass:"form-control",attrs:{id:"visual_impairment",name:"visual_impairment"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"visual_impairment",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.否")]),i("option",{attrs:{value:"1"}},[t._v("1.有")])])])]),i("tr",[i("td",[t._v("8")]),i("td",[t._v("步態平衡")]),i("td",[t._v("0.步態穩健平衡 1.步態不穩健平衡")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.gait_balance,expression:"list.gait_balance"}],staticClass:"form-control",attrs:{id:"gait_balance",name:"gait_balance"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"gait_balance",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.步態穩健平衡")]),i("option",{attrs:{value:"1"}},[t._v("1.步態不穩健平衡")])])])]),i("tr",[i("td",[t._v("9")]),i("td",[t._v("藥物")]),i("td",[t._v(" 0.未使用以下藥物 2.服用以下二種藥物藥名 "),i("br"),t._v("由下藥物中,標示出目前使用藥物種類: "),i("br"),t._v("1.抗組織胺 2.抗高血壓 3.鎮靜安眠藥 4.肌肉鬆弛劑 5.輕瀉劑 6.利尿劑 7.抗抑鬱藥 8.降血糖藥 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.medicine,expression:"list.medicine"}],staticClass:"form-control",attrs:{id:"medicine",name:"medicine"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"medicine",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.未使用以下藥物")]),i("option",{attrs:{value:"1"}},[t._v("1.服用以下一種藥物藥名")]),i("option",{attrs:{value:"2"}},[t._v("2.服用以下二種藥物藥名")])]),0!=t.list.medicine?i("input",{directives:[{name:"model",rawName:"v-model",value:t.list.medicine_content,expression:"list.medicine_content"}],staticClass:"form-control",attrs:{type:"text",id:"medicine_content",name:"medicine_content",placeholder:"內容"},domProps:{value:t.list.medicine_content},on:{input:function(e){e.target.composing||t.$set(t.list,"medicine_content",e.target.value)}}}):t._e()])]),i("tr",[i("td",[t._v("10")]),i("td",[t._v("新入住或新轉入")]),i("td",[t._v("0.否 1.是")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.new_in,expression:"list.new_in"}],staticClass:"form-control",attrs:{id:"new_in",name:"new_in"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"new_in",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.否")]),i("option",{attrs:{value:"1"}},[t._v("1.是")])])])]),i("tr",[i("td",[t._v("11")]),i("td",[t._v("衣著(含鞋子)")]),i("td",[t._v("0.衣服、褲子大小合宜、鞋子防滑 1.衣服寬鬆、褲子太長、鞋子易滑")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.clothes,expression:"list.clothes"}],staticClass:"form-control",attrs:{id:"clothes",name:"clothes"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"clothes",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.衣服、褲子大小合宜、鞋子防滑")]),i("option",{attrs:{value:"1"}},[t._v("1.衣服寬鬆、褲子太長、鞋子易滑")])])])]),i("tr",[i("td",[t._v("12")]),i("td",[t._v("環境中熟悉物件")]),i("td",[t._v("0.擺放於健側或於熟悉位置 1.物件擺放被移動")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.familiar_object,expression:"list.familiar_object"}],staticClass:"form-control",attrs:{id:"familiar_object",name:"familiar_object"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"familiar_object",e.target.multiple?i:i[0])}}},[i("option"),i("option",{attrs:{value:"0"}},[t._v("0.擺放於健側或於熟悉位置")]),i("option",{attrs:{value:"1"}},[t._v("1.物件擺放被移動")])])])]),i("tr",[i("td",{attrs:{colspan:"2"}},[t._v(" ≧4分表示有跌倒傾向 "),i("small",[t._v("出處:台灣長期照顧專業協會之機構品質指標監測操作手冊")])]),i("td",[t._v("總分")]),i("td",[i("input",{staticClass:"form-control text-danger",attrs:{type:"text",readonly:""},domProps:{value:t.total}})])])])])],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),"add"==t.processType?i("v-btn",{staticClass:"primary",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.addOK}},[t._v("確認新增")]):t._e(),"edit"==t.processType?i("v-btn",{staticClass:"success",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.editOK}},[t._v("確認修改")]):t._e()],1)],1)],1)],1)},u=[],d=(i("a4d3"),i("e439"),i("dbb4"),i("b64b"),i("ade3"));function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){Object(d["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var m={data:function(){return{dialog:!1,list:{},oldList:{},processType:"",title:"",titleStyle:"",emptyRules:[function(t){return!!t||"不可空白"}],loading:!1}},computed:{total:function(){var t=parseInt(this.list.age)+parseInt(this.list.history)+parseInt(this.list.active)+parseInt(this.list.conscious)+parseInt(this.list.behavior)+parseInt(this.list.pee_rate)+parseInt(this.list.visual_impairment)+parseInt(this.list.gait_balance)+parseInt(this.list.medicine)+parseInt(this.list.new_in)+parseInt(this.list.clothes)+parseInt(this.list.familiar_object);return this.list.total=t,t}},props:["viewData"],mounted:function(){this.$on("fromParent",(function(t){this.dialog=!0,this.editProcess(t)}))},methods:{addProcess:function(){this.processType="add",this.title="新增資料",this.titleStyle="font-weight-black error lighten-2",void 0!=this.viewData[0]&&(this.list=h({},this.viewData[0])),this.list.snkey="",this.list.date="",this.list.edit_man=""},editProcess:function(t){this.processType="edit",this.title="修改資料",this.titleStyle="font-weight-black success lighten-2",this.oldList=t,this.list=h({},t)},addOK:function(){var t=this;if(this.$refs.form.validate()){this.$store.commit("getTime"),this.list.u_snkey=this.$store.state.uData.snkey,this.list["create_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")";var e={u_snkey:this.list.u_snkey,datalist:JSON.stringify(this.list),create_man:this.list.create_man};this.loading=!0,this.axios.post("general/add/"+this.$store.state.databaseName+"/fall",o.a.stringify(e)).then((function(e){if(1==e.data.state){var i={msg:"已新增",type:!0,theme:"error"};t.$store.commit("snackbar",i),t.list={},t.dialog=!1,t.$emit("getAllData"),t.loading=!1}}))}else{var i={msg:"資料輸入不完全!!請重新確認!!",type:!0,theme:"warning"};this.$store.commit("snackbar",i)}},editOK:function(){var t=this;if(this.$refs.form.validate()){this.$store.commit("getTime"),this.list["edit_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")";var e={snkey:this.list.snkey,datalist:JSON.stringify(this.list),edit_man:this.list.edit_man};this.loading=!0,this.axios.post("general/edit/"+this.$store.state.databaseName+"/fall",o.a.stringify(e)).then((function(e){if(1==e.data.state){var i={msg:"已修改",type:!0,theme:"success"};for(var a in t.$store.commit("snackbar",i),t.dialog=!1,t.list)t.oldList[a]=t.list[a];t.loading=!1}}))}}}},f=m,p=(i("9263f"),i("2877")),_=i("6544"),g=i.n(_),y=i("8336"),b=i("b0af"),$=i("99d9"),k=i("169a"),w=i("ce7e"),C=i("4bd4"),D=i("132d"),x=i("2fa4"),O=i("8654"),S=Object(p["a"])(f,c,u,!1,null,"39b4318c",null),I=S.exports;g()(S,{VBtn:y["a"],VCard:b["a"],VCardActions:$["b"],VCardText:$["d"],VCardTitle:$["e"],VDialog:k["a"],VDivider:w["a"],VForm:C["a"],VIcon:D["a"],VSpacer:x["a"],VTextField:O["a"]});var P=i("5a0c"),M=i.n(P),V={components:{popupadd:I,MultiPrintSelect:l["a"]},data:function(){return{items:[],viewData:[],serachKey:"",edititem:{},itemsPerPageOptions:[10,20,30],itemsPerPage:10,printChoice:!0,printItems:[]}},mounted:function(){this.getAllData()},methods:{changeChoice:function(){this.printChoice=!this.printChoice,this.items.filter((function(t){t.check=""})),this.printItems=[]},filterPrintItem:function(){if(5==this.printItems.length){var t={msg:"單次列印指定數最多5筆!!",type:!0,theme:"warning"};this.$store.commit("snackbar",t)}this.printItems=this.items.filter((function(t){return t.check}))},getAllData:function(){var t=this,e={key:"u_snkey",value:this.$store.state.uData.snkey};this.axios.post("general/getByKey/"+this.$store.state.databaseName+"/fall",o.a.stringify(e)).then((function(e){t.items=t.viewData=e.data.map((function(t){var e=JSON.parse(t.datalist);return e.snkey=t.snkey,e.check=!1,e})),t.sortBy()}))},sortBy:function(){this.viewData=this.viewData.sort((function(t,e){return parseInt(t.date)<parseInt(e.date)?1:-1}))},edit:function(t){this.$refs.editProcess.$emit("fromParent",t)},del:function(t){var e=this;this.$confirm("確認刪除?").then((function(i){if(i){e.$store.commit("getTime"),t.delman=e.$store.state.pData.username+"("+M()().format("YYYY-MM-DD HH:mm:ss")+")";var a={snkey:t.snkey,tablename:"fall",info:JSON.stringify(t)};e.axios.post("general/delv3/"+e.$store.state.databaseName+"/fall",o.a.stringify(a)).then((function(t){if(console.log(t.data),1==t.data.state){var i={msg:"已刪除",type:!0,theme:"success"};e.$store.commit("snackbar",i),e.getAllData()}}))}}))},search:function(){var t=this.serachKey.split(" "),e=Object(n["a"])(this.items),i="";t.forEach((function(t){""!=t&&(e=e.filter((function(e){if(i=JSON.stringify(e).toUpperCase(),i.includes(t.toUpperCase()))return e})))})),this.viewData=e}}},j=V,N=(i("5ecd"),i("ac7c")),A=i("62ad"),T=i("c377"),Y=i("8860"),L=i("da13"),J=i("5d23"),H=i("e449"),K=i("0fd9"),B=i("1f4f"),E=i("71d9"),W=Object(p["a"])(j,a,s,!1,null,null,null);e["default"]=W.exports;g()(W,{VBtn:y["a"],VCard:b["a"],VCardText:$["d"],VCardTitle:$["e"],VCheckbox:N["a"],VCol:A["a"],VDataIterator:T["a"],VIcon:D["a"],VList:Y["a"],VListItem:L["a"],VListItemTitle:J["k"],VMenu:H["a"],VRow:K["a"],VSimpleTable:B["a"],VTextField:O["a"],VToolbar:E["a"]})}}]);
//# sourceMappingURL=chunk-0f34a001.33732528.js.map