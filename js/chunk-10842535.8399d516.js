(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10842535"],{"21d8":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"d-flex"},[t.printChoice?i("v-btn",{staticClass:"primary ml-2",on:{click:t.changeChoice}},[t._v("列印選擇")]):t._e(),i("MultiPrintOption",{directives:[{name:"show",rawName:"v-show",value:t.printItems.length>0,expression:"printItems.length > 0"}],attrs:{printItems:t.printItems}}),t.printChoice?t._e():i("v-btn",{staticClass:"primary ml-2",on:{click:t.changeChoice}},[t._v("顯示功能")])],1)])},n=[],a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"MultiPrintOption"},[i("v-dialog",{attrs:{width:"30vw"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.printItems.length<=5,expression:"printItems.length <= 5"}],staticClass:"success ml-2",on:{click:t.enterProcess}},s),[t._v("列印表單選擇")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{class:t.titleClass,attrs:{"primary-title":""}},[t._v(t._s(t.title))]),i("v-card-text",[i("v-alert",{staticClass:"mt-2",attrs:{color:"primary",outlined:""}},[i("div",{staticClass:"text-right"},[i("v-btn",{staticClass:"primary mr-1",on:{click:t.selectAll}},[t._v("全選")]),i("v-btn",{attrs:{color:"primary",outlined:""},on:{click:t.noAll}},[t._v("全不選")])],1),i("v-checkbox",{attrs:{label:"住民定期評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.record,callback:function(e){t.$set(t.list,"record",e)},expression:"list.record"}}),i("v-checkbox",{attrs:{label:"柯氏/巴氏(ADL)量表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.kb,callback:function(e){t.$set(t.list,"kb",e)},expression:"list.kb"}}),i("v-checkbox",{attrs:{label:"跌倒危險因子評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.fall,callback:function(e){t.$set(t.list,"fall",e)},expression:"list.fall"}}),i("v-checkbox",{attrs:{label:"Braden壓力性損傷風險評估表",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.braden,callback:function(e){t.$set(t.list,"braden",e)},expression:"list.braden"}}),i("v-checkbox",{attrs:{label:"簡易心智狀態SPMSQ",value:"true"},on:{click:function(e){return e.stopPropagation(),t.objcheck(e)}},model:{value:t.list.spmsq,callback:function(e){t.$set(t.list,"spmsq",e)},expression:"list.spmsq"}})],1)],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),i("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.objcheck(),expression:"objcheck()"}],staticClass:"primary",on:{click:t.printOK}},[t._v("確認列印")])],1)],1)],1)],1)},r=[],o=(i("4de4"),i("caad"),i("d81d"),i("4e827"),i("07ac"),i("2532"),i("159b"),i("4328")),l=i.n(o),c=(i("5a0c"),{props:["printItems"],data:function(){return{dialog:!1,list:{record:"",kb:"",fall:"",braden:"",spmsq:""},emptyRules:[function(t){return!!t||"不可空白"}],title:"",titleClass:"",recordItems:[],kbItems:[],fallItems:[],bradenItems:[],spmsqItems:[],documents:["record","kb","fall","braden","spmsq"]}},mounted:function(){this.$on("childFn",(function(){this.dialog=!0,this.enterProcess()})),this.selectAll()},methods:{printOK:function(){var t=this;this.$confirm("確認顯示列印畫面?").then((function(e){if(e){var i={};i["matchDate"]=t.printItems.map((function(t){return t.date}));var s=JSON.stringify(i["matchDate"].sort());t.documents.forEach((function(e){i[e]=t[e+"Items"].filter((function(t){var e=JSON.parse(t.datalist);return s.includes(e.date)}))})),i["choiceDocuments"]=t.list,console.log(i),sessionStorage.setItem("printData",JSON.stringify(i));var n=t.$router.resolve({path:"/print/multidocumentprint"});window.open(n.href,"_blank")}}))},objcheck:function(){return JSON.stringify(Object.values(this.list)).length>21},enterProcess:function(t){var e=this;this.title="列印表單選擇",this.titleClass="font-weight-black primary lighten-2",this.documents.forEach((function(t){e.getItems(t)}))},getItems:function(t){var e=this,i={key:"u_snkey",value:this.$store.state.uData.snkey};this.axios.post("general/getByKey/"+this.$store.state.databaseName+"/"+t,l.a.stringify(i)).then((function(i){e[t+"Items"]=i.data}))},selectAll:function(){for(var t in this.list)this.list[t]="true";this.objcheck()},noAll:function(){for(var t in this.list)this.list[t]="";this.objcheck()}}}),u=c,d=i("2877"),v=i("6544"),h=i.n(v),f=i("0798"),p=i("8336"),m=i("b0af"),_=i("99d9"),g=i("ac7c"),b=i("169a"),y=i("ce7e"),$=i("2fa4"),k=Object(d["a"])(u,a,r,!1,null,null,null),w=k.exports;h()(k,{VAlert:f["a"],VBtn:p["a"],VCard:m["a"],VCardActions:_["b"],VCardText:_["d"],VCardTitle:_["e"],VCheckbox:g["a"],VDialog:b["a"],VDivider:y["a"],VSpacer:$["a"]});var C={components:{MultiPrintOption:w},props:["printChoice","printItems"],data:function(){return{}},mounted:function(){},methods:{changeChoice:function(){this.$emit("changeChoice")}}},D=C,O=Object(d["a"])(D,s,n,!1,null,null,null);e["a"]=O.exports;h()(O,{VBtn:p["a"]})},"5a0c":function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";var t="millisecond",e="second",i="minute",s="hour",n="day",a="week",r="month",o="quarter",l="year",c=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,u=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d=function(t,e,i){var s=String(t);return!s||s.length>=e?t:""+Array(e+1-s.length).join(i)+t},v={s:d,z:function(t){var e=-t.utcOffset(),i=Math.abs(e),s=Math.floor(i/60),n=i%60;return(e<=0?"+":"-")+d(s,2,"0")+":"+d(n,2,"0")},m:function(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),s=t.clone().add(i,r),n=e-s<0,a=t.clone().add(i+(n?-1:1),r);return Number(-(i+(e-s)/(n?s-a:a-s))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(c){return{M:r,y:l,w:a,d:n,D:"date",h:s,m:i,s:e,ms:t,Q:o}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},f="en",p={};p[f]=h;var m=function(t){return t instanceof y},_=function(t,e,i){var s;if(!t)return f;if("string"==typeof t)p[t]&&(s=t),e&&(p[t]=e,s=t);else{var n=t.name;p[n]=t,s=n}return!i&&s&&(f=s),s||!i&&f},g=function(t,e,i){if(m(t))return t.clone();var s=e?"string"==typeof e?{format:e,pl:i}:e:{};return s.date=t,new y(s)},b=v;b.l=_,b.i=m,b.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var y=function(){function d(t){this.$L=this.$L||_(t.locale,null,!0),this.parse(t)}var v=d.prototype;return v.parse=function(t){this.$d=function(t){var e=t.date,i=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var s=e.match(c);if(s)return i?new Date(Date.UTC(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)):new Date(s[1],s[2]-1,s[3]||1,s[4]||0,s[5]||0,s[6]||0,s[7]||0)}return new Date(e)}(t),this.init()},v.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},v.$utils=function(){return b},v.isValid=function(){return!("Invalid Date"===this.$d.toString())},v.isSame=function(t,e){var i=g(t);return this.startOf(e)<=i&&i<=this.endOf(e)},v.isAfter=function(t,e){return g(t)<this.startOf(e)},v.isBefore=function(t,e){return this.endOf(e)<g(t)},v.$g=function(t,e,i){return b.u(t)?this[e]:this.set(i,t)},v.year=function(t){return this.$g(t,"$y",l)},v.month=function(t){return this.$g(t,"$M",r)},v.day=function(t){return this.$g(t,"$W",n)},v.date=function(t){return this.$g(t,"$D","date")},v.hour=function(t){return this.$g(t,"$H",s)},v.minute=function(t){return this.$g(t,"$m",i)},v.second=function(t){return this.$g(t,"$s",e)},v.millisecond=function(e){return this.$g(e,"$ms",t)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(t,o){var c=this,u=!!b.u(o)||o,d=b.p(t),v=function(t,e){var i=b.w(c.$u?Date.UTC(c.$y,e,t):new Date(c.$y,e,t),c);return u?i:i.endOf(n)},h=function(t,e){return b.w(c.toDate()[t].apply(c.toDate(),(u?[0,0,0,0]:[23,59,59,999]).slice(e)),c)},f=this.$W,p=this.$M,m=this.$D,_="set"+(this.$u?"UTC":"");switch(d){case l:return u?v(1,0):v(31,11);case r:return u?v(1,p):v(0,p+1);case a:var g=this.$locale().weekStart||0,y=(f<g?f+7:f)-g;return v(u?m-y:m+(6-y),p);case n:case"date":return h(_+"Hours",0);case s:return h(_+"Minutes",1);case i:return h(_+"Seconds",2);case e:return h(_+"Milliseconds",3);default:return this.clone()}},v.endOf=function(t){return this.startOf(t,!1)},v.$set=function(a,o){var c,u=b.p(a),d="set"+(this.$u?"UTC":""),v=(c={},c[n]=d+"Date",c.date=d+"Date",c[r]=d+"Month",c[l]=d+"FullYear",c[s]=d+"Hours",c[i]=d+"Minutes",c[e]=d+"Seconds",c[t]=d+"Milliseconds",c)[u],h=u===n?this.$D+(o-this.$W):o;if(u===r||u===l){var f=this.clone().set("date",1);f.$d[v](h),f.init(),this.$d=f.set("date",Math.min(this.$D,f.daysInMonth())).toDate()}else v&&this.$d[v](h);return this.init(),this},v.set=function(t,e){return this.clone().$set(t,e)},v.get=function(t){return this[b.p(t)]()},v.add=function(t,o){var c,u=this;t=Number(t);var d=b.p(o),v=function(e){var i=g(u);return b.w(i.date(i.date()+Math.round(e*t)),u)};if(d===r)return this.set(r,this.$M+t);if(d===l)return this.set(l,this.$y+t);if(d===n)return v(1);if(d===a)return v(7);var h=(c={},c[i]=6e4,c[s]=36e5,c[e]=1e3,c)[d]||1,f=this.$d.getTime()+t*h;return b.w(f,this)},v.subtract=function(t,e){return this.add(-1*t,e)},v.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var i=t||"YYYY-MM-DDTHH:mm:ssZ",s=b.z(this),n=this.$locale(),a=this.$H,r=this.$m,o=this.$M,l=n.weekdays,c=n.months,d=function(t,s,n,a){return t&&(t[s]||t(e,i))||n[s].substr(0,a)},v=function(t){return b.s(a%12||12,t,"0")},h=n.meridiem||function(t,e,i){var s=t<12?"AM":"PM";return i?s.toLowerCase():s},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:b.s(o+1,2,"0"),MMM:d(n.monthsShort,o,c,3),MMMM:c[o]||c(this,i),D:this.$D,DD:b.s(this.$D,2,"0"),d:String(this.$W),dd:d(n.weekdaysMin,this.$W,l,2),ddd:d(n.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:b.s(a,2,"0"),h:v(1),hh:v(2),a:h(a,r,!0),A:h(a,r,!1),m:String(r),mm:b.s(r,2,"0"),s:String(this.$s),ss:b.s(this.$s,2,"0"),SSS:b.s(this.$ms,3,"0"),Z:s};return i.replace(u,(function(t,e){return e||f[t]||s.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(t,c,u){var d,v=b.p(c),h=g(t),f=6e4*(h.utcOffset()-this.utcOffset()),p=this-h,m=b.m(this,h);return m=(d={},d[l]=m/12,d[r]=m,d[o]=m/3,d[a]=(p-f)/6048e5,d[n]=(p-f)/864e5,d[s]=p/36e5,d[i]=p/6e4,d[e]=p/1e3,d)[v]||p,u?m:b.a(m)},v.daysInMonth=function(){return this.endOf(r).$D},v.$locale=function(){return p[this.$L]},v.locale=function(t,e){if(!t)return this.$L;var i=this.clone(),s=_(t,e,!0);return s&&(i.$L=s),i},v.clone=function(){return b.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},d}();return g.prototype=y.prototype,g.extend=function(t,e){return t(e,y,g),g},g.locale=_,g.isDayjs=m,g.unix=function(t){return g(1e3*t)},g.en=p[f],g.Ls=p,g}))},"6d32":function(t,e,i){"use strict";i("de69")},"6fd2":function(t,e,i){"use strict";i("b87e")},7779:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kblist"},[i("v-card",{staticClass:"mt-2"},[i("v-card-title",[i("v-row",[i("v-col",{attrs:{cols:"12",md:"8"}},[i("h2",{staticClass:"subheading grey--text"},[i("v-icon",{staticClass:"mx-1"},[t._v("fas fa-file-alt")]),i("span",[t._v(" "+t._s(this.$store.state.uData.p_code)+" / "+t._s(this.$store.state.uData.name)+" ")]),i("span",[t._v("柯氏/巴氏(ADL)量表")])],1)]),i("v-col",{attrs:{cols:"12",md:"4"}},[i("v-toolbar",{attrs:{dense:""}},[i("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","single-line":"",label:"搜尋"},on:{keyup:function(e){return e.stopPropagation(),t.search()}},model:{value:t.serachKey,callback:function(e){t.serachKey=e},expression:"serachKey"}}),i("popupadd",{ref:"editProcess",attrs:{viewData:t.viewData},on:{getAllData:t.getAllData}}),i("MultiPrintSelect",{attrs:{printChoice:t.printChoice,printItems:t.printItems},on:{changeChoice:t.changeChoice}})],1)],1)],1)],1),i("v-card-text",[i("v-card",{staticClass:"mt-2"},[i("v-card-text",[i("v-data-iterator",{attrs:{items:t.viewData,"items-per-page":t.itemsPerPage,"footer-props":{itemsPerPageOptions:t.itemsPerPageOptions}},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[i("v-simple-table",{staticClass:"mt-2 text-no-wrap",attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[i("thead",{staticClass:"title"},[i("tr",[i("th",{attrs:{rowspan:"3"}}),i("th",{attrs:{rowspan:"2"}},[t._v("評估日期")]),i("th",{attrs:{rowspan:"2"}},[t._v("柯氏量表")]),i("th",{attrs:{colspan:"11"}},[t._v("日常生活功能(巴氏量表)ADL")]),i("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("紀錄人")]),i("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("修改紀錄")])]),i("tr",[i("th",[t._v("1.進食")]),i("th",[t._v("2.個人衛生")]),i("th",[t._v("3.上廁所")]),i("th",[t._v("4.洗澡")]),i("th",[t._v("5.穿脫衣服")]),i("th",[t._v("6.大便控制")]),i("th",[t._v("7.小便控制")]),i("th",[t._v("8.平地行走")]),i("th",[t._v("9.上下樓梯")]),i("th",[t._v("10.上下床或椅子")]),i("th",[t._v("總分")])])]),i("tbody",t._l(e.items,(function(e,s){return i("tr",{key:s},[i("td",{staticClass:"d-flex align-center"},[t.printChoice?t._e():i("v-checkbox",{attrs:{label:"列印選擇"},on:{click:function(e){return e.stopPropagation(),t.filterPrintItem(e)}},model:{value:e.check,callback:function(i){t.$set(e,"check",i)},expression:"item.check"}}),t.printChoice?i("v-menu",{attrs:{transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-btn",t._g({attrs:{color:"primary",dark:""}},s),[t._v("功能")])]}}],null,!0)},[i("v-list",[i("v-list-item",{on:{click:function(i){return t.edit(e)}}},[i("v-list-item-title",[t._v("修改")])],1),i("v-list-item",{on:{click:function(i){return t.del(e)}}},[i("v-list-item-title",[t._v("刪除")])],1)],1)],1):t._e()],1),i("td",[t._v(t._s(e.date))]),i("td",[t._v(t._s(e.klv))]),i("td",[t._v(t._s(e.eat))]),i("td",[t._v(t._s(e.hygiene))]),i("td",[t._v(t._s(e.wc))]),i("td",[t._v(t._s(e.bathing))]),i("td",[t._v(t._s(e.wear))]),i("td",[t._v(t._s(e.stool))]),i("td",[t._v(t._s(e.pee))]),i("td",[t._v(t._s(e.walk))]),i("td",[t._v(t._s(e.stairs))]),i("td",[t._v(t._s(e.bed))]),i("td",[t._v(t._s(e.total))]),i("td",[t._v(t._s(e.create_man))]),i("td",[t._v(t._s(e.edit_man))])])})),0)]},proxy:!0}],null,!0)})]}}])})],1)],1)],1)],1)],1)},n=[],a=(i("4de4"),i("caad"),i("d81d"),i("4e827"),i("2532"),i("1276"),i("159b"),i("2909")),r=i("4328"),o=i.n(r),l=i("21d8"),c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"kbadd"},[i("v-dialog",{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[i("v-icon",t._g({attrs:{color:"red lighten-2",dark:""},on:{click:t.addProcess}},s),[t._v("mdi-plus-circle")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-card",[i("v-card-title",{class:t.titleStyle,attrs:{"primary-title":""}},[t._v(t._s(t.title))]),i("v-card-text",[i("v-form",{ref:"form",staticClass:"mt-3"},[i("table",{staticClass:"table table-bordered table-sm bg-light"},[i("tr",[i("td",{staticClass:"form_title align-middle",attrs:{colspan:"4"}},[t._v("評估日期")]),i("td",[i("v-text-field",{attrs:{type:"date",rules:t.emptyRules},model:{value:t.list.date,callback:function(e){t.$set(t.list,"date",e)},expression:"list.date"}})],1)]),i("tr",[i("td",{staticClass:"form_title"},[i("span",{staticClass:"vertical-mode"},[t._v("柯氏量表")])]),i("td",{attrs:{colspan:"3"}},[t._v(" 0級:完全活動,不受任何限制。 "),i("br"),t._v("1級:能夠步行及維持輕度工作。如:簡單之家務。 "),i("br"),t._v("2級:能夠步行及維持大部分自我照顧。但無法進行家務。 "),i("br"),t._v("3級:只能維持有限的自我照顧，50％以上的清醒時間，活動限於在床或椅上。 "),i("br"),t._v("4級:完全無活動，不能進行任何自我照顧，且完全限制在床或椅。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.klv,expression:"list.klv"}],staticClass:"form-control",attrs:{id:"klv",name:"klv"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"klv",e.target.multiple?i:i[0])}}},[i("option",[t._v("0級")]),i("option",[t._v("1級")]),i("option",[t._v("2級")]),i("option",[t._v("3級")]),i("option",[t._v("4級")])])])]),i("tr",[i("td",{staticClass:"form_title",attrs:{rowspan:"11"}},[i("span",{staticClass:"vertical-mode"},[t._v("日常生活功能(巴氏量表)ADL")])]),i("td",[t._v("1")]),i("td",[t._v("進食")]),i("td",[t._v(" 10：自己在合理時間內(約十秒鐘吃一口)，可用筷子取食眼前的食物。若需進食輔具時，應會自行穿脫。 "),i("br"),t._v("5：需別人幫忙穿脫進食輔具或只會用湯匙進食。 "),i("br"),t._v("0：無法自行取食或耗費時間過長。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.eat,expression:"list.eat"}],staticClass:"form-control",attrs:{id:"eat",name:"eat"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"eat",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("2")]),i("td",[t._v("個人衛生")]),i("td",[t._v(" 5：可自行洗手、刷牙、洗臉及梳頭。 "),i("br"),t._v("0：需要他人部分或完全協助。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.hygiene,expression:"list.hygiene"}],staticClass:"form-control",attrs:{id:"hygiene",name:"hygiene"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"hygiene",e.target.multiple?i:i[0])}}},[i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("3")]),i("td",[t._v("上廁所")]),i("td",[t._v(" 10：可自行上下馬桶、穿脫衣服、不會弄髒衣服、會自行使用衛生紙擦拭。 "),i("br"),t._v("5：需要協助保持姿勢的平衡、整理衣服或用衛生紙 "),i("br"),t._v("0：無法自己完成。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.wc,expression:"list.wc"}],staticClass:"form-control",attrs:{id:"wc",name:"wc"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"wc",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("4")]),i("td",[t._v("洗澡")]),i("td",[t._v(" 5：能獨立完成(不論是盆浴或沐浴),不需別人在旁。 "),i("br"),t._v("0：需別人協助。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.bathing,expression:"list.bathing"}],staticClass:"form-control",attrs:{id:"bathing",name:"bathing"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"bathing",e.target.multiple?i:i[0])}}},[i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("5")]),i("td",[t._v("穿脫衣服")]),i("td",[t._v(" 10：可自己穿脫衣服、鞋子,自己扣釦子、上拉鍊或綁鞋帶。 "),i("br"),t._v("5：在別人協助下,可自行完成一半以上動作。 "),i("br"),t._v("0：不會自己做 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.wear,expression:"list.wear"}],staticClass:"form-control",attrs:{id:"wear",name:"wear"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"wear",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("6")]),i("td",[t._v("大便控制")]),i("td",[t._v(" 10：不會失禁，能自行灌腸或使用塞劑。 "),i("br"),t._v("5：偶爾會失禁(每週不超過一次)，需要他人協助使用灌腸或塞劑。 "),i("br"),t._v("0：失禁,無法自己控制且需他人處理。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.stool,expression:"list.stool"}],staticClass:"form-control",attrs:{id:"stool",name:"stool"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"stool",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("7")]),i("td",[t._v("小便控制")]),i("td",[t._v(" 10：能自行控制不會有失禁,或能自行使用並清潔尿套、尿袋。 "),i("br"),t._v("5：偶爾會失禁(每週不超過一次)，或尿急(無法等待放好便盆或及時趕到廁所)或需要他人協助處理尿套。 "),i("br"),t._v("0：失禁,無法自己控制且需他人處理。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.pee,expression:"list.pee"}],staticClass:"form-control",attrs:{id:"pee",name:"pee"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"pee",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("8")]),i("td",[t._v("平地行走")]),i("td",[t._v(" 15：使用或不使用輔具,皆可獨立行走50公尺以上。 "),i("br"),t._v("10：需他人稍微扶持或口頭指導才能行走50公尺以上。 "),i("br"),t._v("5：雖無法行走，但可獨立操縱輪椅(包括轉彎、進門及接近桌子、床沿)並可推行輪椅50公尺以上。 "),i("br"),t._v("0：完全無法行走,需別人幫忙推輪椅。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.walk,expression:"list.walk"}],staticClass:"form-control",attrs:{id:"walk",name:"walk"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"walk",e.target.multiple?i:i[0])}}},[i("option",[t._v("15")]),i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("9")]),i("td",[t._v("上下樓梯")]),i("td",[t._v(" 10：可自行上下樓梯。可使用扶手、枴杖等輔具。 "),i("br"),t._v("5：需他人協助或監督才能上下樓梯。 "),i("br"),t._v("0：無法上下樓梯。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.stairs,expression:"list.stairs"}],staticClass:"form-control",attrs:{id:"stairs",name:"stairs"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"stairs",e.target.multiple?i:i[0])}}},[i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",[t._v("10")]),i("td",[t._v("上下床或椅子")]),i("td",[t._v(" 15：整個過程可獨立完成。 "),i("br"),t._v("10：移動身體時需要稍微協助、給予提醒、安全監督。 "),i("br"),t._v("5：可以自行坐起,但從床上坐起時移動身體時需要他人協助。 "),i("br"),t._v("0：不會自己移動。 ")]),i("td",[i("select",{directives:[{name:"model",rawName:"v-model",value:t.list.bed,expression:"list.bed"}],staticClass:"form-control",attrs:{id:"bed",name:"bed"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"bed",e.target.multiple?i:i[0])}}},[i("option",[t._v("15")]),i("option",[t._v("10")]),i("option",[t._v("5")]),i("option",[t._v("0")])])])]),i("tr",[i("td",{attrs:{colspan:"2"}},[t._v("0-20:完全依賴 21-60:嚴重依賴 61-90:中度依賴 91-99:輕度依賴 100:獨立")]),i("td",[t._v("總分")]),i("td",[i("input",{staticClass:"form-control text-danger",attrs:{type:"text",readonly:""},domProps:{value:t.total}})])])])])],1),i("v-divider"),i("v-card-actions",[i("v-spacer"),"add"==t.processType?i("v-btn",{staticClass:"primary",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.addOK}},[t._v("確認新增")]):t._e(),"edit"==t.processType?i("v-btn",{staticClass:"success",attrs:{loading:t.loading,disabled:t.loading},on:{click:t.editOK}},[t._v("確認修改")]):t._e()],1)],1)],1)],1)},u=[],d=(i("a4d3"),i("e439"),i("dbb4"),i("b64b"),i("e25e"),i("ade3"));function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){Object(d["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={data:function(){return{dialog:!1,list:{},oldList:{},processType:"",title:"",titleStyle:"",emptyRules:[function(t){return!!t||"不可空白"}],loading:!1}},props:["viewData"],mounted:function(){this.$on("fromParent",(function(t){this.dialog=!0,this.editProcess(t)}))},computed:{total:function(){return this.list.total=parseInt(this.list.eat)+parseInt(this.list.hygiene)+parseInt(this.list.wc)+parseInt(this.list.bathing)+parseInt(this.list.wear)+parseInt(this.list.stool)+parseInt(this.list.pee)+parseInt(this.list.walk)+parseInt(this.list.stairs)+parseInt(this.list.bed),this.list.total}},methods:{addProcess:function(){this.processType="add",this.title="新增資料",this.titleStyle="font-weight-black error lighten-2",void 0!=this.viewData[0]&&(this.list=h({},this.viewData[0])),this.list.snkey="",this.list.date="",this.list.edit_man=""},editProcess:function(t){this.processType="edit",this.title="修改資料",this.titleStyle="font-weight-black success lighten-2",this.oldList=t,this.list=h({},t)},addOK:function(){var t=this;if(this.$refs.form.validate()){this.$store.commit("getTime"),this.list.u_snkey=this.$store.state.uData.snkey,this.list["create_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")";var e={u_snkey:this.list.u_snkey,datalist:JSON.stringify(this.list),create_man:this.list.create_man};this.loading=!0,this.axios.post("general/add/"+this.$store.state.databaseName+"/kb",o.a.stringify(e)).then((function(e){if(1==e.data.state){var i={msg:"已新增",type:!0,theme:"error"};t.$store.commit("snackbar",i),t.list={},t.dialog=!1,t.$emit("getAllData"),t.loading=!1}}))}else{var i={msg:"資料輸入不完全!!請重新確認!!",type:!0,theme:"warning"};this.$store.commit("snackbar",i)}},editOK:function(){var t=this;if(this.$refs.form.validate()){this.$store.commit("getTime"),this.list["edit_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")";var e={snkey:this.list.snkey,datalist:JSON.stringify(this.list),edit_man:this.list.edit_man};this.loading=!0,this.axios.post("general/edit/"+this.$store.state.databaseName+"/kb",o.a.stringify(e)).then((function(e){if(1==e.data.state){var i={msg:"已修改",type:!0,theme:"success"};for(var s in t.$store.commit("snackbar",i),t.dialog=!1,t.list)t.oldList[s]=t.list[s];t.loading=!1}}))}}}},p=f,m=(i("6d32"),i("2877")),_=i("6544"),g=i.n(_),b=i("8336"),y=i("b0af"),$=i("99d9"),k=i("169a"),w=i("ce7e"),C=i("4bd4"),D=i("132d"),O=i("2fa4"),x=i("8654"),S=Object(m["a"])(p,c,u,!1,null,"9b082256",null),M=S.exports;g()(S,{VBtn:b["a"],VCard:y["a"],VCardActions:$["b"],VCardText:$["d"],VCardTitle:$["e"],VDialog:k["a"],VDivider:w["a"],VForm:C["a"],VIcon:D["a"],VSpacer:O["a"],VTextField:x["a"]});var P=i("5a0c"),I=i.n(P),V={components:{popupadd:M,MultiPrintSelect:l["a"]},data:function(){return{items:[],viewData:[],serachKey:"",edititem:{},itemsPerPageOptions:[10,20,30],itemsPerPage:10,printChoice:!0,printItems:[]}},mounted:function(){this.getAllData()},methods:{changeChoice:function(){this.printChoice=!this.printChoice,this.items.filter((function(t){t.check=""})),this.printItems=[]},filterPrintItem:function(){if(5==this.printItems.length){var t={msg:"單次列印指定數最多5筆!!",type:!0,theme:"warning"};this.$store.commit("snackbar",t)}this.printItems=this.items.filter((function(t){return t.check}))},getAllData:function(){var t=this,e={key:"u_snkey",value:this.$store.state.uData.snkey};this.axios.post("general/getByKey/"+this.$store.state.databaseName+"/kb",o.a.stringify(e)).then((function(e){t.items=t.viewData=e.data.map((function(t){var e=JSON.parse(t.datalist);return e.snkey=t.snkey,e.check=!1,e})),t.sortBy()}))},sortBy:function(){this.viewData=this.viewData.sort((function(t,e){return t.date<e.date?1:-1}))},edit:function(t){this.$refs.editProcess.$emit("fromParent",t)},del:function(t){var e=this;this.$confirm("確認刪除?").then((function(i){t.delman=e.$store.state.pData.username+"("+I()().format("YYYY-MM-DD HH:mm:ss")+")";var s={snkey:t.snkey,tablename:"kb",info:JSON.stringify(t)};i&&e.axios.post("general/delv3/"+e.$store.state.databaseName+"/kb",o.a.stringify(s)).then((function(t){if(console.log(t.data),1==t.data.state){var i={msg:"已刪除",type:!0,theme:"success"};e.$store.commit("snackbar",i),e.getAllData()}}))}))},search:function(){var t=this.serachKey.split(" "),e=Object(a["a"])(this.items),i="";t.forEach((function(t){""!=t&&(e=e.filter((function(e){if(i=JSON.stringify(e).toUpperCase(),i.includes(t.toUpperCase()))return e})))})),this.viewData=e}}},A=V,N=(i("6fd2"),i("ac7c")),j=i("62ad"),T=i("c377"),L=i("8860"),Y=i("da13"),J=i("5d23"),H=i("e449"),K=i("0fd9"),B=i("1f4f"),E=i("71d9"),W=Object(m["a"])(A,s,n,!1,null,null,null);e["default"]=W.exports;g()(W,{VBtn:b["a"],VCard:y["a"],VCardText:$["d"],VCardTitle:$["e"],VCheckbox:N["a"],VCol:j["a"],VDataIterator:T["a"],VIcon:D["a"],VList:L["a"],VListItem:Y["a"],VListItemTitle:J["k"],VMenu:H["a"],VRow:K["a"],VSimpleTable:B["a"],VTextField:x["a"],VToolbar:E["a"]})},b87e:function(t,e,i){},de69:function(t,e,i){}}]);
//# sourceMappingURL=chunk-10842535.8399d516.js.map