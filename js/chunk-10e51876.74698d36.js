(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10e51876"],{"04a8":function(t,e,i){"use strict";i("c68e")},"269a":function(t,e){t.exports=function(t,e){var i="function"===typeof t.exports?t.exports.extendOptions:t.options;for(var a in"function"===typeof t.exports&&(i.directives=t.exports.options.directives),i.directives=i.directives||{},e)i.directives[a]=i.directives[a]||e[a]}},bd49:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"userlist"},[i("v-row",[i("v-col",{attrs:{cols:"12",md:"6"}},[i("h2",{staticClass:"subheading grey--text d-flex align-center"},[i("v-icon",{staticClass:"mx-1"},[t._v("mdi-badge-account-horizontal")]),i("span",[t._v("病歷管理&維護")])],1)]),i("v-col",{attrs:{cols:"12",md:"6"}},[i("v-toolbar",{attrs:{dense:""}},[t.$store.state.pData.pharmacist_key?t._e():i("v-btn",{staticClass:"success mr-2",on:{click:function(e){return e.stopPropagation(),t.showUserOutputPage()}}},[t._v("上傳衛福部 / 列印全人評估")]),t.auth.user_search_key?i("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","single-line":"",label:"搜尋"},on:{keyup:[function(e){return e.stopPropagation(),t.search()},function(e){return(e.type.indexOf("key")||72===e.keyCode)&&e.shiftKey&&e.altKey?t.changeHidden(e):null}]},model:{value:t.serachKey,callback:function(e){t.serachKey=e},expression:"serachKey"}}):t._e(),t.auth.user_add_key?i("popupadd",{ref:"editProcess",on:{getAllData:t.getAllData}}):t._e()],1)],1)],1),i("v-data-iterator",{attrs:{items:t.viewData,"items-per-page":t.itemsPerPage,"footer-props":{itemsPerPageOptions:t.itemsPerPageOptions}},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[i("v-card",[i("v-card-title",[t._v(" 目前總筆數:"+t._s(t.items.length)+" / 顯示:"+t._s(t.viewData.length)+" "),i("v-spacer"),i("v-btn",{staticClass:"mx-1 font-weight-bold",attrs:{outlined:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showAll(e)}}},[t._v("全部顯示")]),i("v-btn",{staticClass:"mx-1 font-weight-bold",attrs:{outlined:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showLiveIn(e)}}},[t._v("顯示入住中")]),i("v-btn",{staticClass:"mx-1 font-weight-bold",attrs:{outlined:"",color:"primary"},on:{click:function(e){return e.stopPropagation(),t.showLiveOut(e)}}},[t._v("顯示非入住中")])],1),i("v-card-text",[i("v-row",{staticClass:"text-center"},t._l(e.items,(function(e,a){return i("v-col",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{cols:"6",sm:"4",md:"3",lg:"2"}},[i("v-card",{class:[{"blue lighten-2":"男"==e.sex},{"pink lighten-4":"女"==e.sex}],attrs:{outlined:""},on:{click:function(i){return i.stopPropagation(),t.edit(e)}}},[i("div",{staticClass:"d-flex ma-1"},[i("v-btn",{staticClass:"primary",attrs:{icon:"",small:""},on:{click:function(i){return i.stopPropagation(),t.print(e)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-printer")])],1),"true"==e.publicexpenses?i("v-btn",{staticClass:"yellow",attrs:{icon:"",small:"",color:"blue"}},[t._v("公費")]):t._e(),"true"==e.dnr?i("v-btn",{staticClass:"white",attrs:{icon:"",small:"",color:"red"}},[i("v-icon",[t._v("mdi-heart-circle")])],1):t._e(),e.takeadayoff?i("v-btn",{staticClass:"success",attrs:{icon:"",small:"",color:"white"}},[t._v("請假中")]):t._e(),e.behospitalized?i("v-btn",{staticClass:"error",attrs:{icon:"",small:"",color:"white"}},[t._v("住院中")]):t._e(),i("v-spacer"),t.auth.user_del_key?i("v-btn",{staticClass:"red",attrs:{icon:"",small:"",loading:t.loading,disabled:t.loading},on:{click:function(i){return i.stopPropagation(),t.del(e)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-account-remove-outline")])],1):t._e(),i("v-btn",{staticClass:"success",attrs:{icon:"",small:""},on:{click:function(i){return i.stopPropagation(),t.goDocument(e)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("mdi-view-list")])],1)],1),i("v-img",{staticClass:"align-end",attrs:{src:"男"==e.sex?t.man_pic:t.women_pic}},["lazypic.jpg"!=e.pic_url?i("img",{staticClass:"mb-2",staticStyle:{width:"35%"},attrs:{src:t.base_url+"upload/thumb/"+e.pic_url}}):t._e()]),i("v-alert",{staticClass:"ma-1",class:[{"blue lighten-2":"男"==e.sex},{"pink lighten-4":"女"==e.sex},{"ma-0 pa-0":!0}]},[i("h4",["true"==e.hidden?i("v-icon",{attrs:{color:"yellow"}},[t._v("mdi-eye-off-outline")]):t._e(),t._v(" "+t._s(e.p_code)+" / "+t._s(e.name)+" ")],1),i("h4",[t._v("床號:"+t._s(e.bed_name))])])],1)],1)})),1)],1)],1)]}}])})],1)},s=[],n=(i("4de4"),i("caad"),i("d81d"),i("4e827"),i("2532"),i("1276"),i("159b"),i("2909")),r=(i("4328"),i("17f8")),o=i("5a0c"),c=i.n(o),l={components:{popupadd:r["a"]},data:function(){return{items:[],viewData:[],serachKey:"",itemsPerPageOptions:[18,36],itemsPerPage:18,base_url:this.$store.state.base_url,man_pic:this.$store.state.base_url+"/images/juumin_kihon_daichou_card_man.png",women_pic:this.$store.state.base_url+"/images/juumin_kihon_daichou_card_woman.png",editMode:!1,userHidden:"",auth:this.$store.state.pData,loading:!1}},mounted:function(){this.auth=this.$store.state.pData,this.userHidden=this.$store.state.cData.sethidden,this.getAllData()},methods:{getAllData:function(){var t=this;this.$api.options("user/getAll/"+this.$store.state.databaseName).then((function(e){var i=e.map((function(t){return""==t.pic_url&&(t.pic_url="lazypic.jpg"),""==t.pic_url_familytree&&(t.pic_url_familytree="lazypic.jpg"),t}));"true"==t.userHidden&&(i=e.filter((function(t){return""==t.hidden}))),t.items=t.sortBy(i),t.viewData=Object(n["a"])(t.items)}))},sortBy:function(t){return t.sort((function(t,e){t=t.bed_name,e=e.bed_name;return t===e?0:null===t?1:null===e?-1:t>e?1:-1}))},changeHidden:function(){"true"==this.userHidden?this.userHidden="false":this.userHidden="true",this.getAllData()},edit:function(t){if(this.auth.user_edit_key)this.$refs.editProcess.$emit("fromParent",t);else{var e={msg:"修改功能未授權!!",type:!0,theme:"warning"};this.$store.commit("snackbar",e)}},del:function(t){var e=this;this.$confirm("確認刪除?").then((function(i){t.delman=e.$store.state.pData.username+"("+c()().format("YYYY-MM-DD HH:mm:ss")+")";var a={snkey:t.snkey,tablename:"user",info:JSON.stringify(t)};i&&(e.loading=!0,e.$api.delete("user",a).then((function(t){if(1==t.state){var i={msg:"已刪除",type:!0,theme:"success"};e.$store.commit("snackbar",i),e.getAllData(),e.loading=!1}})))}))},search:function(){var t=this.serachKey.split(" "),e=Object(n["a"])(this.items),i="";t.forEach((function(t){""!=t&&(e=e.filter((function(e){if(i=JSON.stringify(e).toUpperCase(),i.includes(t.toUpperCase()))return e})))})),this.viewData=e},print:function(t){var e=this.$router.resolve({path:"/print/userprint",query:{data:JSON.stringify(t)}});window.open(e.href,"_blank")},showAll:function(){this.viewData=Object(n["a"])(this.items)},showLiveIn:function(){console.log("livein"),this.viewData=this.items.filter((function(t){return null!=t.bed_name}))},showLiveOut:function(){console.log("liveout"),this.viewData=this.items.filter((function(t){return null==t.bed_name}))},goDocument:function(t){sessionStorage.setItem("uData",JSON.stringify(t)),this.$store.state.pData.pharmacist_key?this.$router.push("/main/document/pharmacistevaluationlist"):this.$router.push("/main/document/medicinerecordlist")},showUserOutputPage:function(){var t=this.$router.resolve({path:"/print/userlistoutput"});window.open(t.href,"_blank")}}},u=l,d=(i("04a8"),i("2877")),p=i("6544"),m=i.n(p),h=i("0798"),f=i("8336"),v=i("b0af"),_=i("99d9"),g=i("62ad"),b=i("c377"),y=i("132d"),w=i("adda"),k=i("0fd9"),P=i("2fa4"),x=i("8654"),C=i("71d9"),D=i("269a"),$=i.n(D),O=i("5607"),V=Object(d["a"])(u,a,s,!1,null,null,null);e["default"]=V.exports;m()(V,{VAlert:h["a"],VBtn:f["a"],VCard:v["a"],VCardText:_["d"],VCardTitle:_["e"],VCol:g["a"],VDataIterator:b["a"],VIcon:y["a"],VImg:w["a"],VRow:k["a"],VSpacer:P["a"],VTextField:x["a"],VToolbar:C["a"]}),$()(V,{Ripple:O["b"]})},c68e:function(t,e,i){}}]);
//# sourceMappingURL=chunk-10e51876.74698d36.js.map