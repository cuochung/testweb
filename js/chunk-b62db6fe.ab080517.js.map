{"version":3,"sources":["webpack:///./src/views/document/mohw/DrugSafeties/index.vue?bd54","webpack:///./src/views/document/mohw/DrugSafeties/index.vue?7c3f","webpack:///./src/views/document/mohw/DrugSafeties/Add.vue?93f3","webpack:///src/views/document/mohw/DrugSafeties/Add.vue","webpack:///./src/views/document/mohw/DrugSafeties/Add.vue?b638","webpack:///./src/views/document/mohw/DrugSafeties/Add.vue","webpack:///src/views/document/mohw/DrugSafeties/index.vue","webpack:///./src/views/document/mohw/DrugSafeties/index.vue?ee2d","webpack:///./src/views/document/mohw/DrugSafeties/index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","$store","state","uData","p_code","name","model","value","callback","$$v","searchKey","expression","ref","useDataBase","items","on","getAllData","searchfilter","itemsPerPage","itemsPerPageOptions","$event","scopedSlots","_u","key","fn","props","staticStyle","_l","item","index","_g","edit","del","pushToMOHW","checkMOHWData","_e","uploadData","uploadState","returnState","Date","create_man","edit_man","proxy","staticRenderFns","addProcess","dialog","class","titleStyle","title","emptyRules","list","$set","LongUseingItems","LongUseing","YnItems2","qq1","YnItems","YnKindItems","qq5","stopPropagation","addMedicine","delMedicine","processType","loading","addOK","editOK","data","watch","handler","val","qq1Statement1","deep","methods","DrugInUses","length","JSON","parse","stringify","snkey","user_snkey","create_man_snkey","$nextTick","editProcess","$refs","form","validate","pData","postData","datalist","$api","options","rs","pop","msg","type","theme","commit","push","splice","component","VAlert","VAutocomplete","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VDivider","VForm","VIcon","VSpacer","VTextField","components","computed","keys","split","str","reduce","prev","element","filter","toUpperCase","includes","mounted","childFn","$confirm","then","delData","delman","tablename","info","res","dataToJson","finalPostData","postItem","findNurse","idNum","NurseID","AssessmentNo","Questions","DataList","VCol","VDataIterator","VList","VListItem","VListItemTitle","VMenu","VRow","VSimpleTable","VToolbar"],"mappings":"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","file":"js/chunk-b62db6fe.ab080517.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"DrugSafetiesList\"},[_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-title',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('h2',{staticClass:\"subheading grey--text\"},[_c('v-icon',{staticClass:\"mx-1\"},[_vm._v(\"fas fa-file-alt\")]),_c('span',[_vm._v(\" \"+_vm._s(this.$store.state.uData.p_code)+\" / \"+_vm._s(this.$store.state.uData.name)+\" \")]),_c('span',[_vm._v(\"藥物安全性評估表\")])],1)]),_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-toolbar',{attrs:{\"dense\":\"\",\"rounded\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-magnify\",\"single-line\":\"\",\"label\":\"搜尋\"},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}}),_c('popupadd',{ref:\"childFn\",attrs:{\"useDataBase\":_vm.useDataBase,\"items\":_vm.items},on:{\"getAllData\":_vm.getAllData}})],1)],1)],1)],1),_c('v-card-text',[_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_c('v-data-iterator',{attrs:{\"items\":_vm.searchfilter,\"items-per-page\":_vm.itemsPerPage,\"footer-props\":{ itemsPerPageOptions: _vm.itemsPerPageOptions }},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-simple-table',{staticClass:\"mt-2 text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',{staticStyle:{\"background-color\":\"#e3f2fd\"}},[_c('tr',[_c('th'),_c('th',[_vm._v(\"上傳紀錄\")]),_c('th',[_vm._v(\"評估日期\")]),_c('th',[_vm._v(\"紀錄人\")]),_c('th',[_vm._v(\"修改紀錄\")])])]),_c('tbody',_vm._l((props.items),function(item,index){return _c('tr',{key:index},[_c('td',[_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\"功能\")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.edit(item)}}},[_c('v-list-item-title',[_vm._v(\"修改\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.del(item)}}},[_c('v-list-item-title',[_vm._v(\"刪除\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.pushToMOHW(item)}}},[_c('v-list-item-title',[_vm._v(\"上傳衛福部\")])],1),(item.uploadData)?_c('v-list-item',{on:{\"click\":function($event){return _vm.checkMOHWData(item)}}},[_c('v-list-item-title',[_vm._v(\"確認上傳資料狀況\")])],1):_vm._e()],1)],1)],1),_c('td',[(!item.uploadData)?_c('div',[_c('span',[_vm._v(\"未上傳\")])]):_c('div',[_c('span',[_vm._v(\"已上傳\")]),(!item.uploadState)?_c('span',[_vm._v(\"(未確認)\")]):_vm._e(),(item.uploadState)?_c('span',[_vm._v(\"(已確認-\"+_vm._s(_vm.returnState(item))+\")\")]):_vm._e()])]),_c('td',[_vm._v(_vm._s(item.Date))]),_c('td',[_vm._v(_vm._s(item.create_man))]),_c('td',[_vm._v(_vm._s(item.edit_man))])])}),0)]},proxy:true}],null,true)})]}}])})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"HealthyHabitsAdd\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"red lighten-2\",\"dark\":\"\"},on:{\"click\":_vm.addProcess}},on),[_vm._v(\"mdi-plus-circle\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{class:_vm.titleStyle,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"評估日期\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.Date),callback:function ($$v) {_vm.$set(_vm.list, \"Date\", $$v)},expression:\"list.Date\"}}),_c('v-autocomplete',{attrs:{\"label\":\"是否有長期使用藥物\",\"items\":_vm.LongUseingItems},model:{value:(_vm.list.LongUseing),callback:function ($$v) {_vm.$set(_vm.list, \"LongUseing\", $$v)},expression:\"list.LongUseing\"}}),(_vm.list.LongUseing == '有')?_c('div',[_c('div',{staticClass:\"d-flex\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.YnItems2,\"label\":\"目前使用中的藥物種類\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq1),callback:function ($$v) {_vm.$set(_vm.list, \"qq1\", $$v)},expression:\"list.qq1\"}}),(_vm.list.qq1 == '有')?_c('v-text-field',{staticClass:\"mx-2\",attrs:{\"type\":\"number\",\"label\":\"總共幾種\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq1Statement1),callback:function ($$v) {_vm.$set(_vm.list, \"qq1Statement1\", $$v)},expression:\"list.qq1Statement1\"}}):_vm._e()],1),_c('v-autocomplete',{attrs:{\"items\":_vm.YnItems,\"label\":\"使用精神用藥\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq2),callback:function ($$v) {_vm.$set(_vm.list, \"qq2\", $$v)},expression:\"list.qq2\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.YnItems,\"label\":\"使用止痛用藥\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq3),callback:function ($$v) {_vm.$set(_vm.list, \"qq3\", $$v)},expression:\"list.qq3\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.YnKindItems,\"label\":\"是否存在多重用藥問題(自動判讀)\",\"readonly\":\"\"},model:{value:(_vm.list.qq4),callback:function ($$v) {_vm.$set(_vm.list, \"qq4\", $$v)},expression:\"list.qq4\"}}),_c('div',{staticClass:\"d-flex\"},[_c('v-autocomplete',{attrs:{\"items\":_vm.YnItems,\"label\":\"目前是否使用有自行購藥(電台、他人介紹…等非醫療院所取得)\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq5),callback:function ($$v) {_vm.$set(_vm.list, \"qq5\", $$v)},expression:\"list.qq5\"}}),(_vm.list.qq5 == '有')?_c('v-text-field',{staticClass:\"mx-2\",attrs:{\"type\":\"number\",\"label\":\"總共幾種\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.qq5Statement5),callback:function ($$v) {_vm.$set(_vm.list, \"qq5Statement5\", $$v)},expression:\"list.qq5Statement5\"}}):_vm._e()],1)],1):_vm._e(),_c('v-alert',{staticClass:\"ma-0 pa-1\",attrs:{\"color\":\"primary\",\"outlined\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('h2',[_vm._v(\"使用中之藥物\")]),_c('v-btn',{staticClass:\"success mx-2\",attrs:{\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.addMedicine()}}},[_c('v-icon',[_vm._v(\"mdi-plus\")]),_vm._v(\" 新增\")],1)],1),_c('v-divider',{staticClass:\"my-2\"}),_vm._l((_vm.list.DrugInUses),function(item,index){return _c('div',{key:index,staticClass:\"grey lighten-3 pa-2 mt-1\",staticStyle:{\"border-radius\":\"5px\"}},[_c('div',{staticClass:\"d-flex justify-space-between\"},[_c('span',[_vm._v(\"#\"+_vm._s(index+1))]),_c('v-btn',{staticClass:\"error\",attrs:{\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.delMedicine(index)}}},[_c('v-icon',[_vm._v(\"mdi-close\")]),_vm._v(\" 刪除\")],1)],1),_c('v-text-field',{attrs:{\"label\":\"品項\",\"rules\":_vm.emptyRules},model:{value:(item.Name),callback:function ($$v) {_vm.$set(item, \"Name\", $$v)},expression:\"item.Name\"}}),_c('div',{staticClass:\"d-flex\"},[_c('v-text-field',{attrs:{\"label\":\"劑量\",\"rules\":_vm.emptyRules},model:{value:(item.Volume),callback:function ($$v) {_vm.$set(item, \"Volume\", $$v)},expression:\"item.Volume\"}}),_c('v-text-field',{staticClass:\"mx-2\",attrs:{\"label\":\"頻率\",\"rules\":_vm.emptyRules},model:{value:(item.Frequency),callback:function ($$v) {_vm.$set(item, \"Frequency\", $$v)},expression:\"item.Frequency\"}}),_c('v-text-field',{attrs:{\"label\":\"目的\",\"rules\":_vm.emptyRules},model:{value:(item.Purpose),callback:function ($$v) {_vm.$set(item, \"Purpose\", $$v)},expression:\"item.Purpose\"}})],1),_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(item.Remark),callback:function ($$v) {_vm.$set(item, \"Remark\", $$v)},expression:\"item.Remark\"}})],1)})],2)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.processType == 'add')?_c('v-btn',{staticClass:\"primary\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.addOK}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.processType == 'edit')?_c('v-btn',{staticClass:\"success\",attrs:{\"loading\":_vm.loading,\"disabled\":_vm.loading},on:{\"click\":_vm.editOK}},[_vm._v(\"確認修改\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"HealthyHabitsAdd\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-2\" dark v-on=\"on\" @click=\"addProcess\"\r\n          >mdi-plus-circle</v-icon\r\n        >\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title :class=\"titleStyle\" primary-title>{{\r\n          title\r\n        }}</v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-form ref=\"form\" class=\"mt-3\">\r\n            <v-text-field\r\n              type=\"date\"\r\n              label=\"評估日期\"\r\n              v-model=\"list.Date\"\r\n              :rules=\"emptyRules\"\r\n            ></v-text-field>\r\n            <v-autocomplete\r\n              label=\"是否有長期使用藥物\"\r\n              :items=\"LongUseingItems\"\r\n              v-model=\"list.LongUseing\"\r\n            ></v-autocomplete>\r\n            <div v-if=\"list.LongUseing == '有'\">\r\n              <div class=\"d-flex\">\r\n                <v-autocomplete\r\n                  :items=\"YnItems2\"\r\n                  label=\"目前使用中的藥物種類\"\r\n                  v-model=\"list.qq1\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-autocomplete>\r\n                <v-text-field\r\n                  type=\"number\"\r\n                  label=\"總共幾種\"\r\n                  v-model=\"list.qq1Statement1\"\r\n                  :rules=\"emptyRules\"\r\n                  v-if=\"list.qq1 == '有'\"\r\n                  class=\"mx-2\"\r\n                ></v-text-field>\r\n              </div>\r\n              <v-autocomplete\r\n                :items=\"YnItems\"\r\n                label=\"使用精神用藥\"\r\n                v-model=\"list.qq2\"\r\n                :rules=\"emptyRules\"\r\n              ></v-autocomplete>\r\n              <v-autocomplete\r\n                :items=\"YnItems\"\r\n                label=\"使用止痛用藥\"\r\n                v-model=\"list.qq3\"\r\n                :rules=\"emptyRules\"\r\n              ></v-autocomplete>\r\n              <v-autocomplete\r\n                :items=\"YnKindItems\"\r\n                label=\"是否存在多重用藥問題(自動判讀)\"\r\n                v-model=\"list.qq4\"\r\n                readonly\r\n              ></v-autocomplete>\r\n              <div class=\"d-flex\">\r\n                <v-autocomplete\r\n                  :items=\"YnItems\"\r\n                  label=\"目前是否使用有自行購藥(電台、他人介紹…等非醫療院所取得)\"\r\n                  v-model=\"list.qq5\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-autocomplete>\r\n                <v-text-field\r\n                  type=\"number\"\r\n                  label=\"總共幾種\"\r\n                  v-model=\"list.qq5Statement5\"\r\n                  :rules=\"emptyRules\"\r\n                  v-if=\"list.qq5 == '有'\"\r\n                  class=\"mx-2\"\r\n                ></v-text-field>\r\n              </div>\r\n            </div>\r\n            <v-alert color=\"primary\" class=\"ma-0 pa-1\" outlined>\r\n              <div class=\"d-flex align-center\">\r\n                <h2>使用中之藥物</h2>\r\n                <v-btn class=\"success mx-2\" small @click.stop=\"addMedicine()\"><v-icon>mdi-plus</v-icon> 新增</v-btn>\r\n              </div>\r\n              <v-divider class=\"my-2\"></v-divider>\r\n              <div v-for=\"item,index in list.DrugInUses\" :key=\"index\" class=\"grey lighten-3 pa-2 mt-1\" style=\"border-radius:5px;\">\r\n                <div class=\"d-flex justify-space-between\">\r\n                  <span>#{{ index+1 }}</span>\r\n                  <v-btn class=\"error\" small @click.stop=\"delMedicine(index)\"><v-icon>mdi-close</v-icon> 刪除</v-btn>\r\n                </div>\r\n                <v-text-field label=\"品項\" v-model=\"item.Name\" :rules=\"emptyRules\"></v-text-field>\r\n                <div class=\"d-flex\">\r\n                  <v-text-field label=\"劑量\" v-model=\"item.Volume\" :rules=\"emptyRules\"></v-text-field>\r\n                  <v-text-field label=\"頻率\" v-model=\"item.Frequency\" class=\"mx-2\" :rules=\"emptyRules\"></v-text-field>\r\n                  <v-text-field label=\"目的\" v-model=\"item.Purpose\" :rules=\"emptyRules\"></v-text-field>\r\n                </div>\r\n                <v-text-field label=\"備註\" v-model=\"item.Remark\"></v-text-field>\r\n              </div>\r\n            </v-alert>\r\n          </v-form>\r\n          <!-- {{ list }} -->\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn\r\n            class=\"primary\"\r\n            @click=\"addOK\"\r\n            v-if=\"processType == 'add'\"\r\n            :loading=\"loading\"\r\n            :disabled=\"loading\"\r\n            >確認新增</v-btn\r\n          >\r\n          <v-btn\r\n            class=\"success\"\r\n            @click=\"editOK\"\r\n            v-if=\"processType == 'edit'\"\r\n            :loading=\"loading\"\r\n            :disabled=\"loading\"\r\n            >確認修改</v-btn\r\n          >\r\n        </v-card-actions>\r\n        <!-- <pre>{{this.$store.state.uData}}</pre>  -->\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  props: [\"useDataBase\",\"items\"], //本表單使用的主要資料庫;用於讀取,新增,修改,刪除时指定的資料庫名\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {}, //表單內資料\r\n      processType: \"\", //存放頁面執行是add新增或edit修改\r\n      title: \"\",\r\n      titleStyle: \"\",\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      loading: false,\r\n\r\n      LongUseingItems:[\"有\",\"無\"],\r\n      YnItems: [\"無\", \"有\", \"不知道\"],\r\n      YnItems2: [\"有\", \"不知道\"],\r\n      YnKindItems: [\"無\", \"≧5種\", \"≧9種\", \"不知道\"],\r\n    };\r\n  },\r\n\r\n  watch: {\r\n    list: {\r\n      handler(val) {\r\n        if (val.qq1 == \"不知道\") {\r\n          this.$set(val, \"qq4\", \"不知道\");\r\n        } else {\r\n          if (val.qq1Statement1 < 5 || val.qq1 == \"無\") {\r\n            this.$set(val, \"qq4\", \"無\");\r\n          }\r\n          if (val.qq1Statement1 >= 5) {\r\n            if (val.qq1Statement1 >= 9) {\r\n              this.$set(val, \"qq4\", \"≧9種\");\r\n            }else{\r\n              this.$set(val, \"qq4\", \"≧5種\");\r\n            }\r\n          }\r\n          \r\n        }\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    addProcess() {\r\n      this.processType = \"add\";\r\n      this.title = \"新增資料\";\r\n      this.titleStyle = \"font-weight-black error lighten-2\";\r\n      this.list = {\r\n        DrugInUses:[],\r\n      };\r\n      if (this.items.length){\r\n        this.list = JSON.parse(JSON.stringify(this.items[0]))\r\n        delete this.list.snkey;\r\n        delete this.list.user_snkey;\r\n        delete this.list.create_man;\r\n        delete this.list.create_man_snkey;\r\n        delete this.list.edit_man;\r\n        delete this.list.uploadData;\r\n        delete this.list.uploadState;\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.form.resetValidation();\r\n      });\r\n    },\r\n    editProcess(item) {\r\n      this.dialog = true;\r\n      this.processType = \"edit\";\r\n      this.title = \"修改資料\";\r\n      this.titleStyle = \"font-weight-black success lighten-2\";\r\n      this.list = JSON.parse(JSON.stringify(item)); //複制一份實際修改資料內容\r\n    },\r\n    addOK() {\r\n      //確認新增\r\n      if (this.$refs.form.validate()) {\r\n        this.list.user_snkey = this.$store.state.uData.snkey;\r\n        this.list.create_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        this.list.create_man_snkey = this.$store.state.pData.snkey;\r\n        var postData = {\r\n          datalist: JSON.stringify(this.list),\r\n        };\r\n        this.loading = true;\r\n        this.$api.options(\r\n          \"general/add/\" +\r\n            this.$store.state.databaseName +\r\n            \"/\" +\r\n            this.useDataBase,\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.$emit(\"getAllData\");\r\n            this.dialog = false;\r\n            this.loading = false;\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n    editOK() {\r\n      //確認修改\r\n      if (this.$refs.form.validate()) {\r\n        if (!this.list.edit_man) {\r\n          this.list.edit_man = \"\";\r\n        }\r\n        this.list.edit_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\" +\r\n          this.list.edit_man;\r\n        let postData = {\r\n          snkey: this.list.snkey,\r\n          datalist: JSON.stringify(this.list),\r\n          edit_man: \"pass\",\r\n        };\r\n\r\n        this.loading = true;\r\n        this.$api.options(\r\n          \"general/edit/\" +\r\n            this.$store.state.databaseName +\r\n            \"/\" +\r\n            this.useDataBase,\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            let pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.$emit(\"getAllData\");\r\n            this.loading = false;\r\n            this.dialog = false;\r\n          }\r\n        });\r\n      } else {\r\n        let pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n\r\n    //新增使用中藥物\r\n    addMedicine(){\r\n      this.list.DrugInUses.push({\r\n        \"Name\": \"\",\r\n        \"Volume\": \"\",\r\n        \"Frequency\": \"\",\r\n        \"Purpose\": \"\",\r\n        \"Remark\": \"\"\r\n      })\r\n    },\r\n    delMedicine(index){\r\n      this.list.DrugInUses.splice(index,1)\r\n    }\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=99b3aff6&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VForm,VIcon,VSpacer,VTextField})\n","<template>\r\n  <div class=\"DrugSafetiesList\">\r\n    <v-card class=\"mt-2\">\r\n      <v-card-title>\r\n        <v-row>\r\n          <v-col cols=\"12\" md=\"8\">\r\n            <h2 class=\"subheading grey--text\">\r\n              <v-icon class=\"mx-1\">fas fa-file-alt</v-icon>\r\n              <span>\r\n                {{ this.$store.state.uData.p_code }} /\r\n                {{ this.$store.state.uData.name }}\r\n              </span>\r\n              <span>藥物安全性評估表</span>\r\n            </h2>\r\n          </v-col>\r\n          <v-col cols=\"12\" md=\"4\">\r\n            <!-- 功能表 -->\r\n            <v-toolbar dense rounded>\r\n              <v-text-field\r\n                hide-details\r\n                prepend-icon=\"mdi-magnify\"\r\n                single-line\r\n                label=\"搜尋\"\r\n                v-model=\"searchKey\"\r\n              ></v-text-field>\r\n\r\n              <popupadd ref=\"childFn\" @getAllData=\"getAllData\" :useDataBase=\"useDataBase\" :items=\"items\"></popupadd>\r\n            </v-toolbar>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-title>\r\n      <v-card-text>\r\n        <v-card class=\"mt-2\">\r\n          <v-card-text>\r\n            <!-- 表單內容 -->\r\n            <v-data-iterator\r\n              :items=\"searchfilter\"\r\n              :items-per-page.sync=\"itemsPerPage\"\r\n              :footer-props=\"{ itemsPerPageOptions }\"\r\n            >\r\n              <template v-slot:default=\"props\">\r\n                <v-simple-table fixed-header class=\"mt-2 text-no-wrap\">\r\n                  <template v-slot:default>\r\n                    <thead style=\"background-color: #e3f2fd\">\r\n                      <tr>\r\n                        <th></th>\r\n                        <th>上傳紀錄</th>\r\n                        <th>評估日期</th>\r\n                        \r\n                        <th>紀錄人</th>\r\n                        <th>修改紀錄</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr v-for=\"(item, index) in props.items\" :key=\"index\">\r\n                        <td>\r\n                          <v-menu transition=\"scale-transition\" offset-y>\r\n                            <template v-slot:activator=\"{ on }\">\r\n                              <v-btn color=\"primary\" dark v-on=\"on\">功能</v-btn>\r\n                            </template>\r\n                            <v-list>\r\n                              <v-list-item @click=\"edit(item)\">\r\n                                <v-list-item-title>修改</v-list-item-title>\r\n                              </v-list-item>\r\n                              <v-list-item @click=\"del(item)\">\r\n                                <v-list-item-title>刪除</v-list-item-title>\r\n                              </v-list-item>\r\n                              <v-list-item @click=\"pushToMOHW(item)\">\r\n                                <v-list-item-title\r\n                                  >上傳衛福部</v-list-item-title\r\n                                >\r\n                              </v-list-item>\r\n                              <v-list-item\r\n                                @click=\"checkMOHWData(item)\"\r\n                                v-if=\"item.uploadData\"\r\n                              >\r\n                                <v-list-item-title\r\n                                  >確認上傳資料狀況</v-list-item-title\r\n                                >\r\n                              </v-list-item>\r\n                            </v-list>\r\n                          </v-menu>\r\n                        </td>\r\n                        <td>\r\n                          <div v-if=\"!item.uploadData\">\r\n                            <span>未上傳</span> \r\n                          </div>\r\n                          <div v-else>\r\n                            <span>已上傳</span>\r\n                            <span v-if=\"!item.uploadState\">(未確認)</span>\r\n                            <span v-if=\"item.uploadState\">(已確認-{{ returnState(item) }})</span>\r\n                          </div>\r\n                        </td>\r\n                        <td>{{ item.Date }}</td>\r\n                        \r\n                        <td>{{ item.create_man }}</td>\r\n                        <td>{{ item.edit_man }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </template>\r\n                </v-simple-table>\r\n              </template>\r\n            </v-data-iterator>\r\n          </v-card-text>\r\n        </v-card>\r\n      </v-card-text>\r\n    </v-card>\r\n<!-- {{items}} -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport popupadd from \"@/views/document/mohw/DrugSafeties/Add\";\r\nimport dayjs from \"dayjs\";\r\nimport mohwFn from '@/assets/js/mohwFn'\r\n\r\nexport default {\r\n  components: { popupadd },\r\n  data() {\r\n    return {\r\n      useDataBase: 'drugsafeties',\r\n      items: [], //目前讀取進來的資料庫\r\n      searchKey: \"\",\r\n      itemsPerPageOptions: [10, 20, 30],\r\n      itemsPerPage: 10,\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    searchfilter() {\r\n      var keys = this.searchKey.split(\" \");\r\n      var str = \"\";\r\n      return keys.reduce(function (prev, element) {\r\n        return prev.filter((item) => {\r\n          str = JSON.stringify(item).toUpperCase();\r\n          if (str.includes(element.toUpperCase())) {\r\n            return item;\r\n          }\r\n        });\r\n      }, this.items);\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    getAllData() {\r\n      //取得指定病歷的資料\r\n      this.$api.options(\r\n        \"general/getAll/\" + this.$store.state.databaseName + \"/\" + this.useDataBase\r\n      ).then((rs) => {\r\n        this.items = rs\r\n          .map((i) => {\r\n            return {\r\n              ...JSON.parse(i.datalist),\r\n              snkey: i.snkey,\r\n            };\r\n          })\r\n          .filter((i) => i.user_snkey == this.$store.state.uData.snkey)\r\n          .sort((a,b)=>a.Date < b.Date ? 1 : -1);\r\n      });\r\n    },\r\n    edit(item) {\r\n      //修改功能\r\n      this.$refs.childFn.editProcess(item);\r\n    },\r\n    del(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        delData.delman =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        var postData = {\r\n          snkey: delData.snkey,\r\n          tablename: this.useDataBase,\r\n          info: JSON.stringify(delData),\r\n        };\r\n\r\n        if (res) {\r\n          this.$api.options(\r\n            \"general/delv3/\" +\r\n              this.$store.state.databaseName +\r\n              \"/\" +\r\n              postData.tablename,\r\n            postData\r\n          ).then((rs) => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.getAllData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n    //上傳資料到衛福部 -> 紀錄成功的ticket\r\n    async pushToMOHW(postItem){\r\n      const res = await this.$confirm('確認上傳資料到衛福部?');\r\n      if (res){\r\n        mohwFn.pushToMOHW(postItem,this.useDataBase,JSON.stringify(this.dataToJson(postItem)))\r\n        .then(rs=>{ if (rs){ this.getAllData() }\r\n        })\r\n      }\r\n    },\r\n    //判斷上傳到衛福部的狀態\r\n    checkMOHWData(postItem) {\r\n        mohwFn.checkMOHWData(postItem,this.useDataBase)\r\n        .then(rs=>{ if (rs){ this.getAllData() }})\r\n    },\r\n    //資料轉成適合的JSON檔\r\n    dataToJson(postItem) {\r\n      //判斷護理人員身分證字號 ;不存在時先用預設值\r\n      let findNurse = this.$store.state.personnelItems.find(\r\n        (i) => i.snkey == postItem.create_man_snkey\r\n      );\r\n\r\n      let finalPostData = {}\r\n      finalPostData.Date = postItem.Date;\r\n      \r\n      if (findNurse && findNurse.idNum) {\r\n        finalPostData.NurseID = findNurse.idNum;\r\n      } else {\r\n        finalPostData.NurseID = \"N223456789\";\r\n      }\r\n      finalPostData.AssessmentNo = this.items.length; //目前資料筆數\r\n      \r\n      if (postItem.LongUseing == '有'){\r\n        finalPostData.Questions = [\r\n          {\r\n            \"Question\": \"是否有長期使用藥物\",\r\n            \"Answer\": \"有\",\r\n            \"Statement1\": \"\"\r\n          },\r\n          {\r\n            \"Question\": \"目前使用中的藥物種類\",\r\n            \"Answer\": `有`,\r\n            \"Statement1\": `${postItem.qq1Statement1}`\r\n          },\r\n          {\r\n            \"Question\": \"使用精神用藥\",\r\n            \"Answer\": postItem.qq2,\r\n            \"Statement1\": \"\"\r\n          },\r\n          {\r\n            \"Question\": \"使用止痛用藥\",\r\n            \"Answer\": postItem.qq3,\r\n            \"Statement1\": \"\"\r\n          },\r\n          {\r\n            \"Question\": \"是否存在多重用藥問題\",\r\n            \"Answer\": postItem.qq4,\r\n            \"Statement1\": \"\"\r\n          },\r\n          {\r\n            \"Question\": \"目前是否使用有自行購藥(電台、他人介紹..等非醫療院所取得)\",\r\n            \"Answer\": postItem.qq5,\r\n            \"Statement1\": postItem.qq5 == '有' ? postItem.qq5Statement5 : ''\r\n          }\r\n        ]\r\n      }else{\r\n        finalPostData.Questions = [\r\n          {\r\n            \"Question\": \"是否有長期使用藥物\",\r\n            \"Answer\": \"無\",\r\n            \"Statement1\": \"\"\r\n          }\r\n        ]\r\n      }\r\n      \r\n      finalPostData.DrugInUses =  postItem.DrugInUses\r\n\r\n      return {\r\n        DataList: [\r\n          {\r\n            CaseID: this.$store.state.uData.id_num,\r\n            EndDate: this.$store.state.uData.in_date,\r\n            HealthyHabits: [],\r\n            MedicalHistories: [],\r\n            DrugSafeties: [finalPostData],\r\n            BodyEvaluations: [],\r\n            PressureInjuries: [],\r\n            FallRisks: [],\r\n            ADLs: [],\r\n            IADLs: [],\r\n            Dementias: [],\r\n            GeriatricDepressionScales: [],\r\n            MNASFs: [],\r\n            PainEvaluations: [],\r\n            SOFs: [],\r\n          },\r\n        ],\r\n      };\r\n    },\r\n    //回覆回傳後的時間\r\n    returnState(item){\r\n      let data = JSON.parse(item.uploadState.data)\r\n      return dayjs(data[0].log_date).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.DrugSafetiesList {\r\n  h2 {\r\n    span {\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  thead {\r\n    th {\r\n      font-size: 1.2rem;\r\n    }\r\n  }\r\n  tbody {\r\n    td {\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=009324c1&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VCol,VDataIterator,VIcon,VList,VListItem,VListItemTitle,VMenu,VRow,VSimpleTable,VTextField,VToolbar})\n"],"sourceRoot":""}