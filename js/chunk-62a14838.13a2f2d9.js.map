{"version":3,"sources":["webpack:///./src/views/print/MedicationEvaluationPrint.vue?80d1","webpack:///./src/components/MedicationList.vue?4716","webpack:///./src/views/print/MedicationEvaluationPrint.vue?0bed","webpack:///src/views/print/MedicationEvaluationPrint.vue","webpack:///./src/views/print/MedicationEvaluationPrint.vue?fe06","webpack:///./src/views/print/MedicationEvaluationPrint.vue","webpack:///./src/components/MedicationList.vue?8f1f","webpack:///src/components/MedicationList.vue","webpack:///./src/components/MedicationList.vue?bd69","webpack:///./src/components/MedicationList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","list","_v","_s","cData","company_name","userData","p_code","bed_name","name","_e","ref","attrs","returnAge","birthday","margin_date","sex","height","weight","hadadisease","returnuDiagnosis","diagnosis","date","branch","visit1","visit2","visit3","visit4","visit5","visit6","visit7","visit8","visit9","visit10","visit11","visit12","visit13","visit14","evaluation1","toString","evaluation2","evaluation3","evaluation4","evaluation5","evaluation6","_l","returnMedicalArr","medical_snkey","key","snkey","filterMatchMedical","medicalData","hospital_name","branch_name","doctor_name","item","start_date","dosage","quantity","unit_name","eat_medicine_timeData","method_name","isNaN","medicine_counts","returnMathFromStr","time","split","length","day","toFixed","staticStyle","pharmacistSuggest","nursingSuggest","medication","tel","license","pharmacyName","address","staticRenderFns","components","data","dialog","processType","title","titleStyle","emptyRules","loading","ynItems","visit1Items","visit5Items","visit8Items","visit10Items","visit11Items","evaluation1Items","evaluation2Items","evaluation3Items","evaluation4Items","evaluation6Items","userMedicineItems","userMedicalRecordItems","eat_medicine_timeItems","pData","computed","checkAllNeedDataOK","medicationItems","$store","state","map","text","buildMatchDayMedicines","a","b","medicineEndDay","i","medicineEndInfo","slice","newMedicineItems","filter","mounted","JSON","parse","sessionStorage","getItem","$route","query","dispatch","getUserMedicine","getUserMedicalRecord","getItems","methods","newItems","Set","returnMedicalData","find","returnEatMedicineTime","postData","value","$api","options","values","addProcess","$nextTick","editProcess","addOK","$refs","form","validate","user_snkey","uData","create_man","datalist","stringify","rs","pop","msg","type","theme","commit","editOK","edit_man","component","VCol","VDivider","VForm","VRow","VSimpleTable","scopedSlots","_u","fn","on","_g","$event","stopPropagation","model","callback","$$v","expression","processModel","$set","editModal","del","items","newItem","created","getAllData","u_snkey","databaseName","$confirm","then","delData","delman","tablename","info","res","VBtn","VCard","VCardActions","VCardText","VCardTitle","VDialog","VIcon","VSpacer","VTextField"],"mappings":"gHAAA,W,oCCAA,W,yCCAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,6BAA6B,CAAEN,EAAIO,KAAa,SAAEH,EAAG,KAAK,CAACE,YAAY,eAAe,CAACF,EAAG,OAAO,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIU,MAAMC,cAAc,MAAMX,EAAIS,GAAGT,EAAIY,SAASC,QAAQ,MAAMb,EAAIS,GAAGT,EAAIY,SAASE,UAAU,MAAMd,EAAIS,GAAGT,EAAIY,SAASG,MAAM,OAAOX,EAAG,OAAO,CAACJ,EAAIQ,GAAG,eAAeR,EAAIgB,KAAKZ,EAAG,YAAY,CAACE,YAAY,SAAUN,EAAIO,KAAa,SAAEH,EAAG,SAAS,CAACa,IAAI,OAAOX,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,aAAaA,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,OAAOR,EAAIS,GAAGT,EAAIY,SAASG,SAASX,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,OAAOR,EAAIS,GAAGT,EAAIY,SAASE,aAAaV,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,OAAOR,EAAIS,GAAGT,EAAImB,UAAUnB,EAAIY,SAASQ,cAAchB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,SAASR,EAAIS,GAAGT,EAAIY,SAASS,gBAAgBjB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,OAAOR,EAAIS,GAAGT,EAAIY,SAASU,QAAQlB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,SAASR,EAAIS,GAAGT,EAAIY,SAASQ,aAAahB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,YAAYR,EAAIS,GAAGT,EAAIY,SAASW,QAAQ,MAAMvB,EAAIS,GAAGT,EAAIY,SAASY,WAAWpB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,OAAO,CAAClB,EAAIQ,GAAG,SAASR,EAAIS,GAAGT,EAAIY,SAASa,aAAa,OAAOrB,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,OAAO,CAAClB,EAAIQ,GAAG,SAASR,EAAIS,GAAGT,EAAI0B,iBAAiB1B,EAAIY,SAASe,YAAY,QAAQ,IAAI,GAAGvB,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,SAASR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKqB,MAAM,UAAU5B,EAAIS,GAAGT,EAAIO,KAAKA,KAAKsB,aAAazB,EAAG,MAAM,CAACE,YAAY,+BAA+B,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,aAAaA,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,YAAYR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKuB,QAAQ,OAAO1B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,mBAAmBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwB,QAAQ,OAAO3B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKyB,QAAQ,OAAO5B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,sBAAsBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK0B,QAAQ,OAAO7B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK2B,QAAQ,OAAO9B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK4B,QAAQ,OAAO/B,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,kBAAkBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK6B,QAAQ,OAAOhC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK8B,QAAQ,OAAOjC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,0BAA0BR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK+B,QAAQ,OAAOlC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,mBAAmBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKgC,SAAS,OAAOnC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,aAAaR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKiC,SAAS,OAAOpC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,iBAAiBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKkC,SAAS,OAAOrC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,iBAAiBR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKmC,SAAS,OAAOtC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,WAAWR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKoC,SAAS,QAAQ,IAAI,GAAGvC,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,aAAaA,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,aAAaR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKqC,YAAc5C,EAAIO,KAAKA,KAAKqC,YAAYC,WAAa,IAAI,OAAOzC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,YAAYR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKuC,aAAa,OAAO1C,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,WAAWR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwC,YAAc/C,EAAIO,KAAKA,KAAKwC,YAAYF,WAAa,IAAI,OAAOzC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKyC,YAAchD,EAAIO,KAAKA,KAAKyC,YAAYH,WAAa,IAAI,OAAOzC,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK0C,aAAa,OAAO7C,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,cAAcR,EAAIS,GAAGT,EAAIO,KAAKA,KAAK2C,YAAclD,EAAIO,KAAKA,KAAK2C,YAAYL,WAAa,IAAI,QAAQ,IAAI,GAAI7C,EAAsB,mBAAEI,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAcJ,EAAG,aAAaJ,EAAImD,GAAInD,EAAIoD,oBAAoB,SAASC,GAAe,OAAOjD,EAAG,MAAM,CAACkD,IAAID,EAAcE,MAAMjD,YAAY,QAAQ,CAACF,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACN,EAAIQ,GAAG,UAAWR,EAAIwD,mBAAmBH,GAAe,GAAc,YAAEjD,EAAG,MAAM,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIwD,mBAAmBH,GAAe,GAAGI,YAAY7B,MAAM,IAAI5B,EAAIS,GAAGT,EAAIwD,mBAAmBH,GAAe,GAAGI,YAAYC,eAAe,IAAI1D,EAAIS,GAAGT,EAAIwD,mBAAmBH,GAAe,GAAGI,YAAYE,aAAa,QAAQ3D,EAAIS,GAAGT,EAAIwD,mBAAmBH,GAAe,GAAGI,YAAYG,aAAa,OAAO5D,EAAIgB,OAAOZ,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,QAAQJ,EAAImD,GAAInD,EAAIwD,mBAAmBH,IAAgB,SAASQ,GAAM,OAAOzD,EAAG,KAAK,CAACkD,IAAIO,EAAKN,OAAO,CAACnD,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKC,eAAe1D,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAK9C,MAAM,IAAIf,EAAIS,GAAGoD,EAAKE,WAAW3D,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKG,UAAU,IAAIhE,EAAIS,GAAGoD,EAAKI,cAAc7D,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKK,sBAAwBL,EAAKK,sBAAsBnD,KAAO,cAAcX,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKM,gBAAgB/D,EAAG,KAAK,CAAEyD,EAA0B,sBAAEzD,EAAG,OAAO,CAACJ,EAAIQ,GAAG,IAAIR,EAAIS,GAAG2D,MAAMP,EAAKG,UAAYH,EAAKG,UAAYH,EAAKQ,gBAAkBrE,EAAIsE,kBAAkBT,EAAKG,UAAYH,EAAKK,sBAAsBK,KAAKC,MAAM,KAAKC,OAASZ,EAAKK,sBAAsBQ,KAAKC,QAAQ,IAAI,OAAOvE,EAAG,OAAO,CAACJ,EAAIQ,GAAG,eAAeJ,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKQ,yBAAwB,MAAM,OAAM,GAAGrE,EAAIgB,KAAKZ,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,aAAaJ,EAAG,aAAaA,EAAG,KAAK,CAACwE,YAAY,CAAC,cAAc,aAAa,CAAC5E,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKsE,mBAAmB,QAAQ,GAAGzE,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,oBAAoBJ,EAAG,aAAaA,EAAG,KAAK,CAACwE,YAAY,CAAC,cAAc,aAAa,CAAC5E,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKuE,oBAAoB,GAAG1E,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAAEN,EAAIO,KAAKA,KAAe,WAAEH,EAAG,MAAM,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,aAAaA,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,QAAQR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwE,WAAWhE,MAAM,OAAOX,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,QAAQR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwE,WAAWC,KAAK,OAAO5E,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,UAAUR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwE,WAAWE,SAAS,OAAO7E,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,UAAUR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwE,WAAWG,cAAc,OAAO9E,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAAClB,EAAIQ,GAAG,QAAQR,EAAIS,GAAGT,EAAIO,KAAKA,KAAKwE,WAAWI,SAAS,QAAQ,IAAI,GAAGnF,EAAIgB,SAAShB,EAAIgB,MAAM,IAC5oNoE,EAAkB,G,61BCoLtB,gBAIA,OACEC,WAAY,CAAd,uBACEC,KAFF,WAGI,MAAO,CACLC,QAAQ,EACRhF,KAAM,GACNiF,YAAa,GACbC,MAAO,GACPC,WAAY,GACZC,WAAY,CAAC,SAAnB,uBAEMC,SAAS,EAETC,QAAS,CAAC,GAAI,IAAK,KACnBC,YAAa,CAAC,GAAI,OAAQ,OAAQ,OAAQ,WAC1CC,YAAa,CAAC,GAAI,IAAK,IAAK,SAAU,UACtCC,YAAa,CAAC,GAAI,IAAK,KAAM,OAC7BC,aAAc,CAAC,GAAI,UAAW,KAC9BC,aAAc,CAAC,GAAI,SAAU,WAAY,OAAQ,OAEjDC,iBAAkB,CACxB,IACA,KACA,OACA,OACA,OACA,OACA,QAEMC,iBAAkB,CAAC,GAAI,KAAM,KAAM,MACnCC,iBAAkB,CACxB,IACA,IACA,OACA,KACA,KACA,KACA,MAEMC,iBAAkB,CAAC,IAAK,OAAQ,OAAQ,QACxCC,iBAAkB,CACxB,OACA,WACA,SACA,SACA,UAGMC,kBAAmB,KACnBC,uBAAwB,KACxBC,uBAAwB,KACxBhG,MAAO,GACPiG,MAAO,KAIXC,SAAU,CAERC,mBAFJ,WAGM,OACN,8BACA,mCACA,mCAQIjG,SAdJ,WAeM,OAAOX,KAAKM,KAAKK,UAGnBkG,gBAlBJ,WAmBM,OAAO7G,KAAK8G,OAAOC,MAAMF,gBAAgBG,KAAI,SAAnD,GACQ,IAAR,yBACQ,OAAO,EAAf,GACA,EADA,CAEUC,KAAM,GAAhB,0EAKIC,uBA5BJ,WA4BA,WAEA,yBACA,oBACQ,OAAOC,EAAEtD,WAAauD,EAAEvD,WAAa,GAA7C,KAEA,iBACQ,OAAO,EAAf,GACA,EADA,CAEUwD,eAAgBC,EAAEC,gBAAgBC,MAAM,EAAG,SA6B/C,OAxBAC,EAAmBA,EAAiBC,QAAO,SAAjD,UACA,gCACA,qCACA,sBACA,KACA,SAWMD,EAAmBA,EAAiBT,KAAI,SAA9C,GACQ,OAAO,EAAf,GACA,EADA,CAEUxD,YAAa,EAAvB,qBACUS,sBAAuB,EAAjC,8BAIawD,IAIXE,QA9HF,WA+HI3H,KAAKS,MAAQmH,KAAKC,MAAMC,eAAeC,QAAQ,UAC/C/H,KAAK0G,MAAQkB,KAAKC,MAAMC,eAAeC,QAAQ,UAC/C/H,KAAKM,KAAOsH,KAAKC,MAAM7H,KAAKgI,OAAOC,MAAM5C,MAEzCrF,KAAK8G,OAAOoB,SAAS,WAAY,cAEjClI,KAAKmI,kBACLnI,KAAKoI,uBACLpI,KAAKqI,SAAS,sBAGhBC,QAAS,CAEPnF,iBAFJ,WAGM,IAAN,yEAGM,OAFAoF,EAAW,IAAIC,IAAID,GACnBA,EAAW,OAAjB,OAAiB,CAAjB,GACaA,GAGThF,mBATJ,SASA,GACM,OAAOvD,KAAKkH,uBAAuBQ,QACzC,YAAQ,OAAR,uBAIIe,kBAfJ,SAeA,GACM,OAAOzI,KAAKwG,uBAAuBkC,MACzC,YAAQ,OAAR,6BAIIC,sBArBJ,SAqBA,GACM,OAAO3I,KAAKyG,uBAAuBiC,MACzC,YAAQ,OAAR,uCAIIrE,kBA3BJ,SA2BA,GACM,OAAO,EAAb,SAII8D,gBAhCJ,WAgCA,WACUS,EAAW,CACbvF,IAAK,aACLwF,MAAO7I,KAAKW,SAAS2C,OAEvBtD,KAAK8I,KAAKC,QAChB,0DACA,GACA,kBACQ,EAAR,wBAIIX,qBA7CJ,WA6CA,WACMpI,KAAK8I,KAAKC,QAChB,iCACA,+BACA,IACA,qBACA,kBACQ,EAAR,6BAIIV,SAxDJ,SAwDA,cACMrI,KAAK8I,KAAKC,QAChB,wDACA,kBACQ,EAAR,iBAIItH,iBAhEJ,SAgEA,GACM,IAAN,mBACM,OAAOuH,EAAOpG,YAWhB1B,UA7EJ,SA6EA,GACM,OAAO,MAAb,sCAEI+H,WAhFJ,WAgFA,WAEMjJ,KAAKuF,YAAc,MACnBvF,KAAKwF,MAAQ,OACbxF,KAAKyF,WAAa,oCAClBzF,KAAKM,KAAO,CACVqB,KAAM,MAAd,sBAEM3B,KAAKkJ,WAAU,WACb,EAAR,iCAGIC,YA5FJ,SA4FA,GAEMnJ,KAAKuF,YAAc,OACnBvF,KAAKwF,MAAQ,OACbxF,KAAKyF,WAAa,sCAClBzF,KAAKM,KAAO,EAAlB,OAGI8I,MApGJ,WAoGA,WACM,GAAIpJ,KAAKqJ,MAAMC,KAAKC,WAAY,CAC9BvJ,KAAKM,KAAKkJ,WAAaxJ,KAAK8G,OAAOC,MAAM0C,MAAMnG,MAC/CtD,KAAKM,KAAKoJ,WAClB,iCACA,IACA,oCACA,IACQ,IAAId,EAAW,CACbY,WAAYxJ,KAAK8G,OAAOC,MAAM0C,MAAMnG,MACpCqG,SAAU/B,KAAKgC,UAAU5J,KAAKM,OAGhCN,KAAK2F,SAAU,EACf3F,KAAK8I,KAAKC,QAClB,eACA,+BACA,uBACA,GACA,kBACU,GAAgB,GAAZc,EAAG9C,MAAY,CACjB,IAAI+C,EAAM,CAAtB,mCACY,EAAZ,4BACY,EAAZ,UACY,EAAZ,oBACY,EAAZ,mBAGA,CACQ,IAAIA,EAAM,CACRC,IAAK,mBACLC,MAAM,EACNC,MAAO,WAETjK,KAAK8G,OAAOoD,OAAO,WAAYJ,KAGnCK,OAzIJ,WAyIA,WAEM,GAAInK,KAAKqJ,MAAMC,KAAKC,WAAY,CAGzBvJ,KAAKM,KAAK8J,WACbpK,KAAKM,KAAK8J,SAAW,IAEvBpK,KAAKM,KAAK8J,SAClB,iCACA,IACA,oCACA,IACA,mBACQ,IAAIxB,EAAW,CACbtF,MAAOtD,KAAKM,KAAKgD,MACjBqG,SAAU/B,KAAKgC,UAAU5J,KAAKM,MAC9B8J,SAAU,IAGZpK,KAAK2F,SAAU,EACf3F,KAAK8I,KAAKC,QAClB,gBACA,+BACA,uBACA,GACA,kBACU,GAAgB,GAAZc,EAAG9C,MAAY,CACjB,IAAI+C,EAAM,CAAtB,mCACY,EAAZ,4BACY,EAAZ,UACY,EAAZ,WACY,EAAZ,4BAGA,CACQ,IAAIA,EAAM,CACRC,IAAK,mBACLC,MAAM,EACNC,MAAO,WAETjK,KAAK8G,OAAOoD,OAAO,WAAYJ,OCrfyY,I,yGCQ5aO,EAAY,eACd,EACAvK,EACAqF,GACA,EACA,KACA,WACA,MAIa,aAAAkF,EAAiB,QAShC,IAAkBA,EAAW,CAACC,OAAA,KAAKC,WAAA,KAASC,QAAA,KAAMC,OAAA,KAAKC,eAAA,Q,2DC5BvD,IAAI5K,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,WAAW,CAACc,MAAM,CAAC,MAAQ,OAAO0J,YAAY5K,EAAI6K,GAAG,CAAC,CAACvH,IAAI,YAAYwH,GAAG,SAAS7J,GAC/N,IAAI8J,EAAK9J,EAAI8J,GACb,MAAO,CAAC3K,EAAG,QAAQJ,EAAIgL,GAAG,CAAC1K,YAAY,UAAUyK,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOC,kBAAyBlL,EAAIkJ,gBAAgB6B,GAAI,CAAC/K,EAAIQ,GAAG,kBAAkB2K,MAAM,CAACrC,MAAO9I,EAAU,OAAEoL,SAAS,SAAUC,GAAMrL,EAAIuF,OAAO8F,GAAKC,WAAW,WAAW,CAAClL,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,YAAY,mDAAmD,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,cAAiC,QAAlBR,EAAIuL,aAAsBnL,EAAG,MAAM,CAACE,YAAY,yBAAyBsE,YAAY,CAAC,gBAAgB,QAAQ,CAAC5E,EAAIQ,GAAG,cAAcR,EAAIgB,KAAKZ,EAAG,YAAYA,EAAG,SAAS,CAAC2K,GAAG,CAAC,MAAQ,SAASE,GAAQA,EAAOC,kBAAkBlL,EAAIuF,QAAUvF,EAAIuF,UAAU,CAACvF,EAAIQ,GAAG,gBAAgB,GAAGJ,EAAG,aAAaA,EAAG,cAAc,CAACA,EAAG,SAAS,CAACa,IAAI,QAAQ,CAACb,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAACd,EAAG,eAAe,CAACc,MAAM,CAAC,MAAQ,KAAK,MAAQlB,EAAI2F,YAAYwF,MAAM,CAACrC,MAAO9I,EAAIO,KAAS,KAAE6K,SAAS,SAAUC,GAAMrL,EAAIwL,KAAKxL,EAAIO,KAAM,OAAQ8K,IAAMC,WAAW,gBAAgB,GAAGlL,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAACd,EAAG,eAAe,CAACc,MAAM,CAAC,MAAQ,KAAK,MAAQlB,EAAI2F,YAAYwF,MAAM,CAACrC,MAAO9I,EAAIO,KAAQ,IAAE6K,SAAS,SAAUC,GAAMrL,EAAIwL,KAAKxL,EAAIO,KAAM,MAAO8K,IAAMC,WAAW,eAAe,GAAGlL,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAACd,EAAG,eAAe,CAACc,MAAM,CAAC,MAAQ,OAAO,MAAQlB,EAAI2F,YAAYwF,MAAM,CAACrC,MAAO9I,EAAIO,KAAY,QAAE6K,SAAS,SAAUC,GAAMrL,EAAIwL,KAAKxL,EAAIO,KAAM,UAAW8K,IAAMC,WAAW,mBAAmB,GAAGlL,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,MAAM,CAACd,EAAG,eAAe,CAACc,MAAM,CAAC,MAAQ,OAAO,MAAQlB,EAAI2F,YAAYwF,MAAM,CAACrC,MAAO9I,EAAIO,KAAiB,aAAE6K,SAAS,SAAUC,GAAMrL,EAAIwL,KAAKxL,EAAIO,KAAM,eAAgB8K,IAAMC,WAAW,wBAAwB,GAAGlL,EAAG,QAAQ,CAACc,MAAM,CAAC,KAAO,OAAO,CAACd,EAAG,eAAe,CAACc,MAAM,CAAC,MAAQ,KAAK,MAAQlB,EAAI2F,YAAYwF,MAAM,CAACrC,MAAO9I,EAAIO,KAAY,QAAE6K,SAAS,SAAUC,GAAMrL,EAAIwL,KAAKxL,EAAIO,KAAM,UAAW8K,IAAMC,WAAW,mBAAmB,IAAI,IAAI,GAAGlL,EAAG,iBAAiB,CAACA,EAAG,YAAiC,OAApBJ,EAAIuL,aAAuBnL,EAAG,QAAQ,CAACE,YAAY,UAAUyK,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOC,kBAAyBlL,EAAIqJ,MAAM4B,MAAW,CAACjL,EAAIQ,GAAG,UAAUR,EAAIgB,KAA0B,QAApBhB,EAAIuL,aAAwBnL,EAAG,QAAQ,CAACE,YAAY,UAAUyK,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOC,kBAAyBlL,EAAIoK,OAAOa,MAAW,CAACjL,EAAIQ,GAAG,UAAUR,EAAIgB,MAAM,GAAGZ,EAAG,aAAaA,EAAG,MAAM,CAACE,YAAY,oCAAoC,CAACF,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,QAAQJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,UAAUJ,EAAG,KAAK,CAACJ,EAAIQ,GAAG,YAAYJ,EAAG,QAAQJ,EAAImD,GAAInD,EAAS,OAAE,SAAS6D,GAAM,OAAOzD,EAAG,KAAK,CAACkD,IAAIO,EAAKN,OAAO,CAACnD,EAAG,KAAK,CAACA,EAAG,SAAS,CAACE,YAAY,UAAUyK,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOC,kBAAyBlL,EAAIyL,UAAU5H,MAAS,CAAC7D,EAAIQ,GAAG,gBAAgBJ,EAAG,SAAS,CAACE,YAAY,aAAayK,GAAG,CAAC,MAAQ,SAASE,GAAiC,OAAzBA,EAAOC,kBAAyBlL,EAAI0L,IAAI7H,MAAS,CAAC7D,EAAIQ,GAAG,eAAeR,EAAIQ,GAAG,IAAIR,EAAIS,GAAGoD,EAAK9C,MAAM,MAAM,GAAGX,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKmB,QAAQ5E,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKoB,YAAY7E,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKqB,iBAAiB9E,EAAG,KAAK,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGoD,EAAKsB,iBAAgB,MAAM,IAAI,IAAI,IAAI,IAAI,IACjiGC,EAAkB,G,qrBC8GtB,OACEE,KADF,WAEI,MAAO,CACLiG,aAAc,MACd5F,WAAY,CAAC,SAAnB,uBACMJ,QAAQ,EACRhF,KAAM,KAIVqG,SAAU,CACR+E,MADJ,WAEM,OAAO1L,KAAK8G,OAAOC,MAAMF,gBAAgBG,KAAI,SAAnD,GACQ,IAAR,yBAEQ,OADA2E,EAAQrI,MAAQgE,EAAEhE,MACXqI,OAKbC,QApBF,WAqBI5L,KAAK6L,cAGPvD,QAAS,CACPuD,WADJ,WAEM7L,KAAK8G,OAAOoB,SAAS,WAAY,eAEnCe,WAJJ,WAIA,WACMjJ,KAAKsL,aAAX,MACMtL,KAAKM,KAAO,GACZN,KAAKkJ,WAAU,WACb,EAAR,iCAGIE,MAXJ,WAWA,WACM,GAAIpJ,KAAKqJ,MAAMC,KAAKC,WAAY,CAC9BvJ,KAAKM,KAAKwL,QAAU9L,KAAK8G,OAAOC,MAAM0C,MAAMnG,MAC5CtD,KAAKM,KAAKoJ,WAClB,iCACA,IACA,oCACA,IAEQ,IAAId,EAAW,CACbe,SAAU/B,KAAKgC,UAAU5J,KAAKM,OAGhCN,KAAK8I,KAAKC,QAClB,4DACA,GACA,kBACU,GAAgB,GAAZc,EAAG9C,MAAY,CACjB,IAAI+C,EAAM,CAAtB,mCACY,EAAZ,4BACY,EAAZ,QACY,EAAZ,aACY,EAAZ,qCAGA,CACQ,IAAIA,EAAM,CACRC,IAAK,mBACLC,MAAM,EACNC,MAAO,WAETjK,KAAK8G,OAAOoD,OAAO,WAAYJ,KAGnC0B,UA7CJ,SA6CA,GACMxL,KAAKsL,aAAe,OACpBtL,KAAKM,KAAO,EAAlB,OAEI6J,OAjDJ,WAiDA,WACM,GAAInK,KAAKqJ,MAAMC,KAAKC,WAAY,CACzBvJ,KAAKM,KAAK8J,WAAvB,uBACQpK,KAAKM,KAAK8J,SAClB,iCACA,IACA,oCACA,uBACQ,IAAIxB,EAAW,CACbtF,MAAOtD,KAAKM,KAAKgD,MACjBqG,SAAU/B,KAAKgC,UAAU5J,KAAKM,MAC9B8J,SAAV,IAGQpK,KAAK8I,KAAKC,QAAQ,gBAAkB/I,KAAK8G,OAAOC,MAAMgF,aAAe,cAAenD,GAC5F,kBACU,GAAgB,GAAZiB,EAAG9C,MAAY,CACjB,IAAI+C,EAAM,CAAtB,mCACY,EAAZ,4BACY,EAAZ,QACY,EAAZ,mBACY,EAAZ,aACY,EAAZ,qCAGA,CACQ,IAAIA,EAAM,CACRC,IAAK,mBACLC,MAAM,EACNC,MAAO,WAETjK,KAAK8G,OAAOoD,OAAO,WAAYJ,KAInC2B,IApFJ,SAoFA,cACMzL,KAAKgM,SAAS,SAASC,MAAK,SAAlC,GACQC,EAAQC,OAChB,8BACA,IACA,oCACA,IACQ,IAAIvD,EAAW,CACbtF,MAAO4I,EAAQ5I,MACf8I,UAAW,aACXC,KAAMzE,KAAKgC,UAAUsC,IAGnBI,GACF,EAAV,aACA,6DACA,GACA,kBACY,GAAgB,GAAZzC,EAAG9C,MAAY,CACjB,IAAI+C,EAAM,CAAxB,mCACc,EAAd,4BACc,EAAd,uBClPmZ,I,6LCQ/YO,EAAY,eACd,EACAvK,EACAqF,GACA,EACA,KACA,WACA,MAIa,OAAAkF,EAAiB,QAkBhC,IAAkBA,EAAW,CAACkC,OAAA,KAAKC,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWrC,OAAA,KAAKsC,UAAA,KAAQrC,WAAA,KAASC,QAAA,KAAMqC,QAAA,KAAMpC,OAAA,KAAKC,eAAA,KAAaoC,UAAA,KAAQC,aAAA,Q","file":"js/chunk-62a14838.13a2f2d9.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationPrint.vue?vue&type=style&index=0&id=0eed3d67&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=style&index=0&id=98a0cea8&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MedicationEvaluationPrint\"},[(_vm.list.userData)?_c('h1',{staticClass:\"text-center\"},[_c('span',[_vm._v(\" \"+_vm._s(_vm.cData.company_name)+\" / \"+_vm._s(_vm.userData.p_code)+\" / \"+_vm._s(_vm.userData.bed_name)+\" / \"+_vm._s(_vm.userData.name)+\" \")]),_c('span',[_vm._v(\"用藥評估紀錄表\")])]):_vm._e(),_c('v-divider',{staticClass:\"my-2\"}),(_vm.list.userData)?_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[_c('div',{staticClass:\"grey lighten-3 pa-2 rounded\"},[_c('h2',[_vm._v(\"基本資料\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"姓名: \"+_vm._s(_vm.userData.name))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"床號: \"+_vm._s(_vm.userData.bed_name))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"年齡: \"+_vm._s(_vm.returnAge(_vm.userData.birthday)))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"入住日期: \"+_vm._s(_vm.userData.margin_date))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"性別: \"+_vm._s(_vm.userData.sex))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"出生日期: \"+_vm._s(_vm.userData.birthday))]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\"身高 / 體重: \"+_vm._s(_vm.userData.height)+\" / \"+_vm._s(_vm.userData.weight))]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\"過去病史: \"+_vm._s(_vm.userData.hadadisease)+\" \")]),_c('v-col',{attrs:{\"cols\":\"12\"}},[_vm._v(\"主要診斷: \"+_vm._s(_vm.returnuDiagnosis(_vm.userData.diagnosis))+\" \")])],1)],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"訪視日期: \"+_vm._s(_vm.list.list.date)+\" 看診科別: \"+_vm._s(_vm.list.list.branch))])]),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded\"},[_c('h2',[_vm._v(\"訪視項目\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 1.行動能力: \"+_vm._s(_vm.list.list.visit1)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 2.目前是否正常用藥物治療: \"+_vm._s(_vm.list.list.visit2)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 3.意識是否清醒: \"+_vm._s(_vm.list.list.visit3)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 4.藥歷(藥袋)及內容物是否完整: \"+_vm._s(_vm.list.list.visit4)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 5.是否自行服藥: \"+_vm._s(_vm.list.list.visit5)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 6.是否按時服藥: \"+_vm._s(_vm.list.list.visit6)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 7.是否有使用非口服藥品: \"+_vm._s(_vm.list.list.visit7)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 8.藥品保存狀況: \"+_vm._s(_vm.list.list.visit8)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 9.是否同時服用其他非處方藥物或健康食品: \"+_vm._s(_vm.list.list.visit9)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 10.是否出現藥物不良反應: \"+_vm._s(_vm.list.list.visit10)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 11.治療狀況: \"+_vm._s(_vm.list.list.visit11)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 12.建議定期檢查項目: \"+_vm._s(_vm.list.list.visit12)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 13.建議定期檢查項目: \"+_vm._s(_vm.list.list.visit13)+\" \")]),_c('v-col',{attrs:{\"cols\":\"9\"}},[_vm._v(\" 14.其他: \"+_vm._s(_vm.list.list.visit14)+\" \")])],1)],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"用藥評估\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 1.處方不清楚: \"+_vm._s(_vm.list.list.evaluation1 ? _vm.list.list.evaluation1.toString() : '')+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 2.藥物種類: \"+_vm._s(_vm.list.list.evaluation2)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 3.副作用: \"+_vm._s(_vm.list.list.evaluation3 ? _vm.list.list.evaluation3.toString() : '')+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 4.藥品重覆使用: \"+_vm._s(_vm.list.list.evaluation4 ? _vm.list.list.evaluation4.toString() : '')+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 5.藥品交互作用: \"+_vm._s(_vm.list.list.evaluation5)+\" \")]),_c('v-col',{attrs:{\"cols\":\"3\"}},[_vm._v(\" 6.下次訪視項目: \"+_vm._s(_vm.list.list.evaluation6 ? _vm.list.list.evaluation6.toString() : '')+\" \")])],1)],1),(_vm.checkAllNeedDataOK)?_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"藥物諮詢指導紀錄\")]),_c('v-divider'),_vm._l((_vm.returnMedicalArr()),function(medical_snkey){return _c('div',{key:medical_snkey.snkey,staticClass:\"my-3\"},[_c('h3',{staticClass:\"d-flex mb-1 pl-2\"},[_vm._v(\" 處方日: \"),(_vm.filterMatchMedical(medical_snkey)[0].medicalData)?_c('div',[_vm._v(\" \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.date)+\" \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.hospital_name)+\"-\"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.branch_name)+\" 醫師: \"+_vm._s(_vm.filterMatchMedical(medical_snkey)[0].medicalData.doctor_name)+\" \")]):_vm._e()]),_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"用藥日期\")]),_c('th',[_vm._v(\"藥名\")]),_c('th',[_vm._v(\"次量\")]),_c('th',[_vm._v(\"頻率\")]),_c('th',[_vm._v(\"途徑\")]),_c('th',[_vm._v(\"天數\")]),_c('th',[_vm._v(\"總量\")])])]),_c('tbody',_vm._l((_vm.filterMatchMedical(medical_snkey)),function(item){return _c('tr',{key:item.snkey},[_c('td',[_vm._v(_vm._s(item.start_date))]),_c('td',[_vm._v(_vm._s(item.name)+\" \"+_vm._s(item.dosage))]),_c('td',[_vm._v(_vm._s(item.quantity)+\" \"+_vm._s(item.unit_name))]),_c('td',[_vm._v(_vm._s(item.eat_medicine_timeData ? item.eat_medicine_timeData.name : '未指定給藥時間'))]),_c('td',[_vm._v(_vm._s(item.method_name))]),_c('td',[(item.eat_medicine_timeData)?_c('span',[_vm._v(\" \"+_vm._s(isNaN(item.quantity) ? item.quantity : (item.medicine_counts / _vm.returnMathFromStr(item.quantity) / item.eat_medicine_timeData.time.split(\",\").length / item.eat_medicine_timeData.day).toFixed(0))+\" \")]):_c('span',[_vm._v(\"未指定給藥時間\")])]),_c('td',[_vm._v(_vm._s(item.medicine_counts))])])}),0)])],1)})],2):_vm._e(),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"藥師建議事項:\")]),_c('v-divider'),_c('h4',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(\" \"+_vm._s(_vm.list.list.pharmacistSuggest)+\" \")])],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"處方醫師及機構主護回覆說明:\")]),_c('v-divider'),_c('h4',{staticStyle:{\"white-space\":\"pre-wrap\"}},[_vm._v(_vm._s(_vm.list.list.nursingSuggest))])],1),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[(_vm.list.list.medication)?_c('div',[_c('h2',[_vm._v(\"照護藥師資料\")]),_c('v-divider'),_c('v-row',{staticClass:\"contentStyle\"},[_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 姓名: \"+_vm._s(_vm.list.list.medication.name)+\" \")]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 電話: \"+_vm._s(_vm.list.list.medication.tel)+\" \")]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 藥師證號: \"+_vm._s(_vm.list.list.medication.license)+\" \")]),_c('v-col',{attrs:{\"cols\":\"4\"}},[_vm._v(\" 藥局名稱: \"+_vm._s(_vm.list.list.medication.pharmacyName)+\" \")]),_c('v-col',{attrs:{\"cols\":\"8\"}},[_vm._v(\" 地址: \"+_vm._s(_vm.list.list.medication.address)+\" \")])],1)],1):_vm._e()])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MedicationEvaluationPrint\">\r\n    <h1 class=\"text-center\" v-if=\"list.userData\">\r\n      <span>\r\n        {{ cData.company_name }} / {{ userData.p_code }} / {{ userData.bed_name }} /\r\n        {{ userData.name }}\r\n      </span>\r\n      <span>用藥評估紀錄表</span>\r\n    </h1>\r\n\r\n    <v-divider class=\"my-2\"></v-divider>\r\n\r\n    <v-form ref=\"form\" class=\"mt-3\" v-if=\"list.userData\">\r\n      <div class=\"grey lighten-3 pa-2 rounded\">\r\n        <h2>基本資料</h2>\r\n        <v-divider></v-divider>\r\n        <v-row class=\"contentStyle\">\r\n          <v-col cols=\"3\">姓名: {{ userData.name }}</v-col>\r\n          <v-col cols=\"3\">床號: {{ userData.bed_name }}</v-col>\r\n          <v-col cols=\"3\">年齡: {{ returnAge(userData.birthday) }}</v-col>\r\n          <v-col cols=\"3\">入住日期: {{ userData.margin_date }}</v-col>\r\n          <v-col cols=\"3\">性別: {{ userData.sex }}</v-col>\r\n          <v-col cols=\"3\">出生日期: {{ userData.birthday }}</v-col>\r\n          <v-col cols=\"3\"\r\n            >身高 / 體重: {{ userData.height }} / {{ userData.weight }}</v-col\r\n          >\r\n          <v-col cols=\"12\">過去病史: {{ userData.hadadisease }} </v-col>\r\n          <v-col cols=\"12\"\r\n            >主要診斷: {{ returnuDiagnosis(userData.diagnosis) }}\r\n          </v-col>\r\n        </v-row>\r\n      </div>\r\n\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n        <h2>訪視日期: {{ list.list.date }} 看診科別: {{ list.list.branch }}</h2>\r\n      </div>\r\n\r\n      <div class=\"grey lighten-3 pa-2 rounded\">\r\n        <h2>訪視項目</h2>\r\n        <v-divider></v-divider>\r\n        <v-row class=\"contentStyle\">\r\n          <v-col cols=\"3\"> 1.行動能力: {{ list.list.visit1 }} </v-col>\r\n          <v-col cols=\"3\">\r\n            2.目前是否正常用藥物治療: {{ list.list.visit2 }}\r\n          </v-col>\r\n          <v-col cols=\"3\"> 3.意識是否清醒: {{ list.list.visit3 }} </v-col>\r\n          <v-col cols=\"3\">\r\n            4.藥歷(藥袋)及內容物是否完整: {{ list.list.visit4 }}\r\n          </v-col>\r\n          <v-col cols=\"3\"> 5.是否自行服藥: {{ list.list.visit5 }} </v-col>\r\n          <v-col cols=\"3\"> 6.是否按時服藥: {{ list.list.visit6 }} </v-col>\r\n          <v-col cols=\"3\">\r\n            7.是否有使用非口服藥品: {{ list.list.visit7 }}\r\n          </v-col>\r\n          <v-col cols=\"3\"> 8.藥品保存狀況: {{ list.list.visit8 }} </v-col>\r\n          <v-col cols=\"3\">\r\n            9.是否同時服用其他非處方藥物或健康食品: {{ list.list.visit9 }}\r\n          </v-col>\r\n          <v-col cols=\"3\">\r\n            10.是否出現藥物不良反應: {{ list.list.visit10 }}\r\n          </v-col>\r\n          <v-col cols=\"3\"> 11.治療狀況: {{ list.list.visit11 }} </v-col>\r\n          <v-col cols=\"3\"> 12.建議定期檢查項目: {{ list.list.visit12 }} </v-col>\r\n          <v-col cols=\"3\"> 13.建議定期檢查項目: {{ list.list.visit13 }} </v-col>\r\n          <v-col cols=\"9\"> 14.其他: {{ list.list.visit14 }} </v-col>\r\n        </v-row>\r\n      </div>\r\n\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n        <h2>用藥評估</h2>\r\n        <v-divider></v-divider>\r\n        <v-row class=\"contentStyle\">\r\n          <v-col cols=\"3\"> 1.處方不清楚: {{ list.list.evaluation1 ? list.list.evaluation1.toString() : '' }} </v-col>\r\n          <v-col cols=\"3\"> 2.藥物種類: {{ list.list.evaluation2 }} </v-col>\r\n          <v-col cols=\"3\"> 3.副作用: {{ list.list.evaluation3 ? list.list.evaluation3.toString() : '' }} </v-col>\r\n          <v-col cols=\"3\"> 4.藥品重覆使用: {{ list.list.evaluation4 ? list.list.evaluation4.toString() : '' }} </v-col>\r\n          <v-col cols=\"3\"> 5.藥品交互作用: {{ list.list.evaluation5 }} </v-col>\r\n          <v-col cols=\"3\"> 6.下次訪視項目: {{ list.list.evaluation6 ? list.list.evaluation6.toString() : '' }} </v-col>\r\n        </v-row>\r\n      </div>\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\" v-if=\"checkAllNeedDataOK\">\r\n        <h2>藥物諮詢指導紀錄</h2>\r\n        <v-divider></v-divider>\r\n        <div\r\n          v-for=\"medical_snkey in returnMedicalArr()\"\r\n          :key=\"medical_snkey.snkey\"\r\n          class=\"my-3\"\r\n        >\r\n          <h3 class=\"d-flex mb-1 pl-2\">\r\n            處方日:\r\n            <div v-if=\"filterMatchMedical(medical_snkey)[0].medicalData\">\r\n              {{ filterMatchMedical(medical_snkey)[0].medicalData.date }}\r\n              {{\r\n                filterMatchMedical(medical_snkey)[0].medicalData.hospital_name\r\n              }}-{{\r\n                filterMatchMedical(medical_snkey)[0].medicalData.branch_name\r\n              }}\r\n              醫師:\r\n              {{ filterMatchMedical(medical_snkey)[0].medicalData.doctor_name }}\r\n            </div>\r\n          </h3>\r\n\r\n          <v-simple-table>\r\n            <thead>\r\n              <tr>\r\n                <th>用藥日期</th>\r\n                <th>藥名</th>\r\n                <th>次量</th>\r\n                <th>頻率</th>\r\n                <th>途徑</th>\r\n                <th>天數</th>\r\n                <th>總量</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr\r\n                v-for=\"item in filterMatchMedical(medical_snkey)\"\r\n                :key=\"item.snkey\"\r\n              >\r\n                <td>{{ item.start_date }}</td>\r\n                <td>{{ item.name }} {{ item.dosage }}</td>\r\n                <td>{{ item.quantity }} {{ item.unit_name }}</td>\r\n                <td>{{ item.eat_medicine_timeData ?  item.eat_medicine_timeData.name : '未指定給藥時間' }}</td>\r\n                <td>{{ item.method_name }}</td>\r\n                <td>\r\n                  <span v-if=\"item.eat_medicine_timeData\">\r\n                          {{isNaN(item.quantity) \r\n                        ? item.quantity \r\n                        : (item.medicine_counts /\r\n                          returnMathFromStr(item.quantity) /\r\n                          item.eat_medicine_timeData.time.split(\",\").length /\r\n                          item.eat_medicine_timeData.day).toFixed(0)\r\n                        }}\r\n                        </span>\r\n                        <span v-else>未指定給藥時間</span>\r\n                </td>\r\n                <td>{{ item.medicine_counts }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </v-simple-table>\r\n        </div>\r\n      </div>\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n        <h2>藥師建議事項:</h2>\r\n        <v-divider></v-divider>\r\n        <h4 style=\"white-space: pre-wrap\">\r\n          {{ list.list.pharmacistSuggest }}\r\n        </h4>\r\n      </div>\r\n\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n        <h2>處方醫師及機構主護回覆說明:</h2>\r\n        <v-divider></v-divider>\r\n        <h4 style=\"white-space: pre-wrap\">{{ list.list.nursingSuggest }}</h4>\r\n      </div>\r\n\r\n      <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n        <div v-if=\"list.list.medication\">\r\n          <h2>照護藥師資料</h2>\r\n          <v-divider></v-divider>\r\n          <v-row class=\"contentStyle\">\r\n            <v-col cols=\"4\"> 姓名: {{ list.list.medication.name }} </v-col>\r\n            <v-col cols=\"4\"> 電話: {{ list.list.medication.tel }} </v-col>\r\n            <v-col cols=\"4\">\r\n              藥師證號: {{ list.list.medication.license }}\r\n            </v-col>\r\n            <v-col cols=\"4\">\r\n              藥局名稱: {{ list.list.medication.pharmacyName }}\r\n            </v-col>\r\n            <v-col cols=\"8\"> 地址: {{ list.list.medication.address }} </v-col>\r\n          </v-row>\r\n        </div>\r\n      </div>\r\n    </v-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MedicationList from \"@/components/MedicationList\";\r\nimport dayjs from \"dayjs\";\r\nimport isBetween from \"dayjs/plugin/isBetween\";\r\ndayjs.extend(isBetween);\r\n\r\nimport * as math from \"mathjs\"; //引入mathjs,處理浮點相乘產生的問題\r\n\r\nexport default {\r\n  components: { MedicationList },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {}, //表單內資料\r\n      processType: \"\", //存放頁面執行是add新增或edit修改\r\n      title: \"\",\r\n      titleStyle: \"\",\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n\r\n      loading: false,\r\n\r\n      ynItems: [\"\", \"是\", \"否\"],\r\n      visit1Items: [\"\", \"獨立行走\", \"長期臥床\", \"輪椅助行\", \"使用其他輔助具\"],\r\n      visit5Items: [\"\", \"是\", \"否\", \"部分依賴他人\", \"完全依賴他人\"],\r\n      visit8Items: [\"\", \"佳\", \"尚可\", \"需改進\"],\r\n      visit10Items: [\"\", \"是(接ADR)\", \"否\"],\r\n      visit11Items: [\"\", \"改善(穩定)\", \"無改善(不穩定)\", \"時好時壞\", \"不清楚\"],\r\n\r\n      evaluation1Items: [\r\n        \"無\",\r\n        \"劑量\",\r\n        \"給藥途徑\",\r\n        \"藥物錯誤\",\r\n        \"用法不當\",\r\n        \"給藥次數\",\r\n        \"藥品劑量\",\r\n      ],\r\n      evaluation2Items: [\"\", \"適量\", \"過高\", \"過低\"],\r\n      evaluation3Items: [\r\n        \"無\",\r\n        \"有\",\r\n        \"胃腸不適\",\r\n        \"腹瀉\",\r\n        \"咳嗽\",\r\n        \"暈眩\",\r\n        \"其他\",\r\n      ],\r\n      evaluation4Items: [\"無\", \"相同成本\", \"相同類別\", \"相同療效\"],\r\n      evaluation6Items: [\r\n        \"定期回診\",\r\n        \"檢查項目是否正常\",\r\n        \"持續監測血壓\",\r\n        \"持續監測血糖\",\r\n        \"持續監測血脂\",\r\n      ],\r\n\r\n      userMedicineItems: null, //住民使用藥物 -> 依 uData snkey取得\r\n      userMedicalRecordItems: null, //住民就診紀錄 -> 依 uData snkey取得\r\n      eat_medicine_timeItems: null,\r\n      cData: \"\",\r\n      pData: \"\",\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    //判斷資料是否都讀取OK\r\n    checkAllNeedDataOK() {\r\n      if (\r\n        this.userMedicineItems != null &&\r\n        this.userMedicalRecordItems != null &&\r\n        this.eat_medicine_timeItems != null\r\n      ) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    //住民資料\r\n    userData() {\r\n      return this.list.userData;\r\n    },\r\n    //藥師資料\r\n    medicationItems() {\r\n      return this.$store.state.medicationItems.map((i) => {\r\n        let newItem = JSON.parse(i.datalist);\r\n        return {\r\n          ...newItem,\r\n          text: `${newItem.name} / ${newItem.license} / ${newItem.pharmacyName}`,\r\n        };\r\n      });\r\n    },\r\n    //重新整理符合目前選擇日期的藥物資料 內容: 1.建構藥物結束時間 2.選擇的日期在藥物使用區間內 3.拚出就醫資料,藥物資料 4.拚出用藥頻率\r\n    buildMatchDayMedicines() {\r\n      //1.\r\n      let newMedicineItems = this.userMedicineItems\r\n      .sort((a,b)=>{\r\n        return a.start_date > b.start_date ? 1: -1\r\n      })\r\n      .map((i) => {\r\n        return {\r\n          ...i,\r\n          medicineEndDay: i.medicineEndInfo.slice(3, 13),\r\n        };\r\n      });\r\n\r\n      //2.2021.10.26 調整為選擇的日期的前九十天內,還在使用的藥物\r\n      newMedicineItems = newMedicineItems.filter((i) =>\r\n        dayjs(i.medicineEndDay).isBetween(\r\n          dayjs(this.list.list.date).add(-90,'day'),\r\n          dayjs(this.list.list.date),\r\n          null,\r\n          \"[]\"\r\n        )\r\n        // dayjs(this.list.list.date).isBetween(\r\n        //   i.start_date,\r\n        //   dayjs(i.medicineEndDay),\r\n        //   null,\r\n        //   \"[]\"\r\n        // )\r\n      );\r\n\r\n      //3. 4.\r\n      newMedicineItems = newMedicineItems.map((i) => {\r\n        return {\r\n          ...i,\r\n          medicalData: this.returnMedicalData(i),\r\n          eat_medicine_timeData: this.returnEatMedicineTime(i),\r\n        };\r\n      });\r\n\r\n      return newMedicineItems;\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.cData = JSON.parse(sessionStorage.getItem(\"cData\"));\r\n    this.pData = JSON.parse(sessionStorage.getItem(\"pData\"));\r\n    this.list = JSON.parse(this.$route.query.data);\r\n\r\n    this.$store.dispatch(\"getItems\", \"medication\"); //讀入資料 -> 放在 store裡 medicationItems\r\n\r\n    this.getUserMedicine(); //取得住民使用藥物\r\n    this.getUserMedicalRecord(); //取得住民就診紀錄\r\n    this.getItems(\"eat_medicine_time\"); //取得用藥\r\n  },\r\n\r\n  methods: {\r\n    //回傳就診的陣列\r\n    returnMedicalArr() {\r\n      let newItems = this.buildMatchDayMedicines.map((i) => i.medical_snkey);\r\n      newItems = new Set(newItems);\r\n      newItems = [...newItems];\r\n      return newItems;\r\n    },\r\n    //回傳指定就診資料\r\n    filterMatchMedical(snkey) {\r\n      return this.buildMatchDayMedicines.filter(\r\n        (i) => i.medical_snkey == snkey\r\n      );\r\n    },\r\n    //回傳指定藥物的就診紀錄資料\r\n    returnMedicalData(item) {\r\n      return this.userMedicalRecordItems.find(\r\n        (i) => i.snkey == item.medical_snkey\r\n      );\r\n    },\r\n    //回傳指定藥物的用藥頻率資料\r\n    returnEatMedicineTime(item) {\r\n      return this.eat_medicine_timeItems.find(\r\n        (i) => i.snkey == item.eat_medicine_time_snkey\r\n      );\r\n    },\r\n    //如果內容是字串型的運算式時.透過這個去計算\r\n    returnMathFromStr(val) {\r\n      return math.evaluate(val);\r\n      // math.derivative('1/4')\r\n    },\r\n    //取得住民使用藥物\r\n    getUserMedicine() {\r\n      var postData = {\r\n        key: \"user_snkey\",\r\n        value: this.userData.snkey,\r\n      };\r\n      this.$api.options(\r\n        \"medicinerecord/getByKey/\" + this.$store.state.databaseName,\r\n        postData\r\n      ).then((rs) => {\r\n        this.userMedicineItems = rs;\r\n      });\r\n    },\r\n    //取得住民就醫紀錄\r\n    getUserMedicalRecord() {\r\n      this.$api.options(\r\n        \"medicinerecord/getByUserSnkey/\" +\r\n          this.$store.state.databaseName +\r\n          \"/\" +\r\n          this.userData.snkey\r\n      ).then((rs) => {\r\n        this.userMedicalRecordItems = rs;\r\n      });\r\n    },\r\n    //取得指定datatable資料\r\n    getItems(datatable) {\r\n      this.$api.options(\r\n        \"general/getAll/\" + this.$store.state.databaseName + \"/\" + datatable\r\n      ).then((rs) => {\r\n        this[datatable + \"Items\"] = rs;\r\n      });\r\n    },\r\n    //回傳過去病史\r\n    returnuDiagnosis(item) {\r\n      let values = Object.values(item);\r\n      return values.toString();\r\n      // let str = \"\";\r\n      // values.forEach((i, index) => {\r\n      //   if (index > 0) {\r\n      //     str += \",\";\r\n      //   }\r\n      //   str += i;\r\n      // });\r\n      // return str;\r\n    },\r\n    //回傳年齡\r\n    returnAge(birthday) {\r\n      return dayjs().format(\"YYYY\") - dayjs(birthday).format(\"YYYY\");\r\n    },\r\n    addProcess() {\r\n      //進入畫面時,執行的是新增作業\r\n      this.processType = \"add\";\r\n      this.title = \"新增資料\";\r\n      this.titleStyle = \"font-weight-black error lighten-2\";\r\n      this.list = {\r\n        date: dayjs().format(\"YYYY-MM-DD\"),\r\n      };\r\n      this.$nextTick(() => {\r\n        this.$refs.form.resetValidation();\r\n      });\r\n    },\r\n    editProcess(item) {\r\n      //進入畫面時,執行的是修改作業\r\n      this.processType = \"edit\";\r\n      this.title = \"修改資料\";\r\n      this.titleStyle = \"font-weight-black success lighten-2\";\r\n      this.list = { ...item }; //複制一份實際修改資料內容\r\n    },\r\n    //確認新增\r\n    addOK() {\r\n      if (this.$refs.form.validate()) {\r\n        this.list.user_snkey = this.$store.state.uData.snkey;\r\n        this.list.create_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\"; //執行動作的人,時間,內容\r\n        var postData = {\r\n          user_snkey: this.$store.state.uData.snkey,\r\n          datalist: JSON.stringify(this.list),\r\n        };\r\n\r\n        this.loading = true;\r\n        this.$api.options(\r\n          \"general/add/\" +\r\n            this.$store.state.databaseName +\r\n            \"/medicationevalution\",\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.dialog = false;\r\n            this.$emit(\"getAllData\");\r\n            this.loading = false;\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n    editOK() {\r\n      //確認修改\r\n      if (this.$refs.form.validate()) {\r\n        // this.list[\"edit_man\"] =\r\n        //   this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\"; //執行動作的人,時間,內容\r\n        if (!this.list.edit_man) {\r\n          this.list.edit_man = \"\";\r\n        }\r\n        this.list.edit_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\" +\r\n          this.list.edit_man; //執行動作的人,時間,內容\r\n        var postData = {\r\n          snkey: this.list.snkey,\r\n          datalist: JSON.stringify(this.list),\r\n          edit_man: \"\",\r\n        };\r\n\r\n        this.loading = true;\r\n        this.$api.options(\r\n          \"general/edit/\" +\r\n            this.$store.state.databaseName +\r\n            \"/medicationevalution\",\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.dialog = false;\r\n            this.loading = false;\r\n            this.$emit(\"getAllData\");\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ntbody {\r\n  tr:hover {\r\n    background-color: transparent !important;\r\n  }\r\n}\r\n\r\n.rounded {\r\n  border-radius: 5px;\r\n}\r\n\r\n.contentStyle {\r\n  font-size: 1.2rem;\r\n}\r\n\r\n.theme--light.v-data-table thead tr th {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.theme--light.v-data-table tbody tr td {\r\n  font-size: 1rem;\r\n  height: 2rem;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationPrint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationEvaluationPrint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MedicationEvaluationPrint.vue?vue&type=template&id=0eed3d67&scoped=true&\"\nimport script from \"./MedicationEvaluationPrint.vue?vue&type=script&lang=js&\"\nexport * from \"./MedicationEvaluationPrint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MedicationEvaluationPrint.vue?vue&type=style&index=0&id=0eed3d67&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0eed3d67\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\ninstallComponents(component, {VCol,VDivider,VForm,VRow,VSimpleTable})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MedicationList\"},[_c('v-dialog',{attrs:{\"width\":\"90%\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"primary\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addProcess()}}},on),[_vm._v(\"照護師資料維護\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"font-weight-black primary lighten-2 white--text\"},[_c('h2',[_vm._v(\"照護藥師資料維護\")]),(_vm.processModel=='edit')?_c('div',{staticClass:\"success px-4 pa-1 mx-2\",staticStyle:{\"border-radius\":\"5px\"}},[_vm._v(\"修改模式中...\")]):_vm._e(),_c('v-spacer'),_c('v-icon',{on:{\"click\":function($event){$event.stopPropagation();_vm.dialog = !_vm.dialog}}},[_vm._v(\"mdi-close\")])],1),_c('v-divider'),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"姓名\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", $$v)},expression:\"list.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"電話\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.tel),callback:function ($$v) {_vm.$set(_vm.list, \"tel\", $$v)},expression:\"list.tel\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"藥師證號\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.license),callback:function ($$v) {_vm.$set(_vm.list, \"license\", $$v)},expression:\"list.license\"}})],1),_c('v-col',{attrs:{\"cols\":\"6\"}},[_c('v-text-field',{attrs:{\"label\":\"藥局名稱\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.pharmacyName),callback:function ($$v) {_vm.$set(_vm.list, \"pharmacyName\", $$v)},expression:\"list.pharmacyName\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"地址\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.address),callback:function ($$v) {_vm.$set(_vm.list, \"address\", $$v)},expression:\"list.address\"}})],1)],1)],1),_c('v-card-actions',[_c('v-spacer'),(_vm.processModel == 'add')?_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){$event.stopPropagation();return _vm.addOK($event)}}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.processModel == 'edit')?_c('v-btn',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.editOK($event)}}},[_vm._v(\"確認修改\")]):_vm._e()],1),_c('v-divider'),_c('div',{staticClass:\"grey lighten-3 pa-2 rounded my-2\"},[_c('h2',[_vm._v(\"醫師資料\")]),_c('v-divider'),_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"電話\")]),_c('th',[_vm._v(\"藥師證號\")]),_c('th',[_vm._v(\"藥局名稱\")]),_c('th',[_vm._v(\"地址\")])])]),_c('tbody',_vm._l((_vm.items),function(item){return _c('tr',{key:item.snkey},[_c('td',[_c('v-icon',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.editModal(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{staticClass:\"error mx-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.del(item)}}},[_vm._v(\"mdi-close\")]),_vm._v(\" \"+_vm._s(item.name)+\" \")],1),_c('td',[_vm._v(_vm._s(item.tel))]),_c('td',[_vm._v(_vm._s(item.license))]),_c('td',[_vm._v(_vm._s(item.pharmacyName))]),_c('td',[_vm._v(_vm._s(item.address))])])}),0)])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MedicationList\">\r\n    <v-dialog v-model=\"dialog\" width=\"90%\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn class=\"primary\" v-on=\"on\" @click.stop=\"addProcess()\">照護師資料維護</v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title class=\"font-weight-black primary lighten-2 white--text\"\r\n          ><h2>照護藥師資料維護</h2>\r\n          <div v-if=\"processModel=='edit'\" class=\"success px-4 pa-1 mx-2\" style=\"border-radius:5px\">修改模式中...</div>\r\n          <v-spacer></v-spacer>\r\n          <v-icon @click.stop=\"dialog = !dialog\"\r\n            >mdi-close</v-icon\r\n          ></v-card-title\r\n        >\r\n        <v-divider></v-divider>\r\n        <v-card-text>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"姓名\"\r\n                  v-model=\"list.name\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"電話\"\r\n                  v-model=\"list.tel\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"藥師證號\"\r\n                  v-model=\"list.license\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"6\">\r\n                <v-text-field\r\n                  label=\"藥局名稱\"\r\n                  v-model=\"list.pharmacyName\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field\r\n                  label=\"地址\"\r\n                  v-model=\"list.address\"\r\n                  :rules=\"emptyRules\"\r\n                ></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              class=\"primary\"\r\n              @click.stop=\"addOK\"\r\n              v-if=\"processModel == 'add'\"\r\n              >確認新增</v-btn\r\n            >\r\n            <v-btn\r\n              class=\"success\"\r\n              @click.stop=\"editOK\"\r\n              v-if=\"processModel == 'edit'\"\r\n              >確認修改</v-btn\r\n            >\r\n          </v-card-actions>\r\n          <v-divider></v-divider>\r\n\r\n          <div class=\"grey lighten-3 pa-2 rounded my-2\">\r\n            <h2>醫師資料</h2>\r\n            <v-divider></v-divider>\r\n            <v-simple-table>\r\n              <thead>\r\n                <tr>\r\n                  <th>姓名</th>\r\n                  <th>電話</th>\r\n                  <th>藥師證號</th>\r\n                  <th>藥局名稱</th>\r\n                  <th>地址</th>\r\n                </tr>\r\n              </thead>\r\n\r\n              <tbody>\r\n                <tr v-for=\"item in items\" :key=\"item.snkey\">\r\n                  <td>\r\n                    <v-icon class=\"success\" @click.stop=\"editModal(item)\">mdi-pencil</v-icon>\r\n                    <v-icon class=\"error mx-1\" @click.stop=\"del(item)\">mdi-close</v-icon>\r\n                    {{ item.name }}\r\n                  </td>\r\n                  <td>{{ item.tel }}</td>\r\n                  <td>{{ item.license }}</td>\r\n                  <td>{{ item.pharmacyName }}</td>\r\n                  <td>{{ item.address }}</td>\r\n                </tr>\r\n              </tbody>\r\n            </v-simple-table>\r\n          </div>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      processModel: \"add\",\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      dialog: false,\r\n      list: {},\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    items() {\r\n      return this.$store.state.medicationItems.map((i) => {\r\n        let newItem = JSON.parse(i.datalist);\r\n        newItem.snkey = i.snkey;\r\n        return newItem;\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    getAllData() {\r\n      this.$store.dispatch(\"getItems\", \"medication\"); //讀入資料 -> 放在 store裡 medicationItems\r\n    },\r\n    addProcess(){\r\n      this.processModel= \"add\";\r\n      this.list = {};\r\n      this.$nextTick(() => {\r\n        this.$refs.form.resetValidation();\r\n      });\r\n    },\r\n    addOK() {\r\n      if (this.$refs.form.validate()) {\r\n        this.list.u_snkey = this.$store.state.uData.snkey;\r\n        this.list.create_man =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\"; //執行動作的人,時間,內容\r\n\r\n        var postData = {\r\n          datalist: JSON.stringify(this.list),\r\n        };\r\n\r\n        this.$api.options(\r\n          \"general/add/\" + this.$store.state.databaseName + \"/medication\",\r\n          postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.list = {};\r\n            this.getAllData();\r\n            this.$refs.form.resetValidation();\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n    editModal(item){\r\n      this.processModel = 'edit';\r\n      this.list = {...item};\r\n    },\r\n    editOK() {\r\n      if (this.$refs.form.validate()) {\r\n        if (!this.list.edit_man){this.list.edit_man = ''}\r\n        this.list.edit_man = \r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\" + this.list.edit_man; //執行動作的人,時間,內容\r\n        var postData = {\r\n          snkey: this.list.snkey,\r\n          datalist: JSON.stringify(this.list),\r\n          edit_man:\"\"\r\n        };\r\n\r\n        this.$api.options(\"general/edit/\" + this.$store.state.databaseName + \"/medication\", postData\r\n        ).then((rs) => {\r\n          if (rs.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.list = {};\r\n            this.processModel = 'add'\r\n            this.getAllData();\r\n            this.$refs.form.resetValidation();\r\n          }\r\n        });\r\n      } else {\r\n        var pop = {\r\n          msg: \"資料輸入不完全!!請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n        //刪除預約內容\r\n    del(delData) {\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        delData.delman =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        var postData = {\r\n          snkey: delData.snkey,\r\n          tablename: \"medication\",\r\n          info: JSON.stringify(delData),\r\n        };\r\n\r\n        if (res) {\r\n          this.$api.options(\r\n            \"general/delv3/\" + this.$store.state.databaseName + \"/\" + postData.tablename,\r\n            postData\r\n          ).then((rs) => {\r\n            if (rs.state == 1) {\r\n              var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.getAllData();\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.theme--light.v-data-table thead tr th {\r\n  font-size: 1.1rem;\r\n}\r\n\r\n.theme--light.v-data-table tbody tr td {\r\n  font-size: 1rem;\r\n  height: 2rem;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MedicationList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MedicationList.vue?vue&type=template&id=98a0cea8&scoped=true&\"\nimport script from \"./MedicationList.vue?vue&type=script&lang=js&\"\nexport * from \"./MedicationList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MedicationList.vue?vue&type=style&index=0&id=98a0cea8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"98a0cea8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VDivider,VForm,VIcon,VRow,VSimpleTable,VSpacer,VTextField})\n"],"sourceRoot":""}