(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-342cc710"],{3580:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signlifelistmulti"},[n("h2",{staticClass:"grey--text d-flex justify-space-between py-3 px-4"},[n("div",[n("v-icon",{staticClass:"mx-1"},[t._v("mdi-table-large")]),n("span",[t._v("生命徵象紀錄單(多筆)")])],1),n("v-spacer"),n("div",{staticClass:"white px-2 red--text",staticStyle:{"border-radius":"5px"}},[t._v(" 目前編輯: "+t._s(t.editingData())+" ")])],1),n("v-form",{ref:"form"},[n("v-card",[n("v-card-title",[n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{type:"date",label:"評估日期",rules:t.emptyRules},model:{value:t.nowday,callback:function(e){t.nowday=e},expression:"nowday"}})],1),n("v-col",{attrs:{cols:"12",md:"2"}},[n("v-text-field",{attrs:{type:"time",label:"評估時間",rules:t.emptyRules},model:{value:t.nowtime,callback:function(e){t.nowtime=e},expression:"nowtime"}})],1),n("v-btn",{staticClass:"primary",on:{click:function(e){return t.saveData()}}},[t._v("存入資料")]),n("v-btn",{staticClass:"success ml-1",on:{click:function(e){return t.emptyData()}}},[t._v("清空資料")]),n("v-spacer"),t.isSignlifeSession?n("v-btn",{staticClass:"primary",on:{click:function(e){return t.getSessionData()}}},[t._v(" 載入暫存資料")]):t._e(),n("v-btn",{staticClass:"error ml-1",on:{click:function(e){return t.delData()}}},[t._v("刪除評估日期所有資料")]),n("v-btn",{staticClass:"warning ml-1",on:{click:function(e){return t.checkIsAdd(!0)}}},[t._v("判斷指定日期資料狀態")])],1),n("v-card-text",[n("v-simple-table",{staticClass:"mt-2 text-no-wrap",attrs:{"fixed-header":"",height:"62vh"},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",{staticClass:"title"},[n("tr",[n("th",[t._v("床號 / 姓名")]),n("th",[t._v("血壓(H)")]),n("th",[t._v("血壓(L)")]),n("th",[t._v("脈搏")]),n("th",[t._v("體溫")]),n("th",[t._v("呼吸")]),n("th",[t._v("血糖")]),n("th",[t._v("血氧濃度")]),n("th",[t._v("疼痛指數")]),n("th",[t._v("GCS-E")]),n("th",[t._v("GCS-V")]),n("th",[t._v("GCS-M")]),n("th",[t._v("大便次數")]),n("th",[t._v("體重")])])]),n("tbody",t._l(t.tempData,(function(e,o){return n("tr",{key:o,on:{click:function(e){e.stopPropagation(),t.editCol=o}}},[n("td",[t._v(" "+t._s(e.bed_name)+" / "+t._s(e.name)+" "),e.isAddInfo?n("div",{staticClass:"white--text d-inline"},[e.isAddInfo.state?n("span",{staticClass:"primary pa-1"},[t._v("[資料已存檔]")]):n("span",{staticClass:"error pa-1"},[t._v("[資料未建立]")])]):t._e()]),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].bp_h))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.pb_h_Rules},on:{focus:function(e){t.editRow=0}},model:{value:t.tempData[o].bp_h,callback:function(e){t.$set(t.tempData[o],"bp_h",e)},expression:"tempData[index].bp_h"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].bp_l))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.pb_l_Rules},on:{focus:function(e){t.editRow=1}},model:{value:t.tempData[o].bp_l,callback:function(e){t.$set(t.tempData[o],"bp_l",e)},expression:"tempData[index].bp_l"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].pulse))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.pulse_Rules},on:{focus:function(e){t.editRow=2}},model:{value:t.tempData[o].pulse,callback:function(e){t.$set(t.tempData[o],"pulse",e)},expression:"tempData[index].pulse"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].temperature))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.temperature_Rules},on:{focus:function(e){t.editRow=3}},model:{value:t.tempData[o].temperature,callback:function(e){t.$set(t.tempData[o],"temperature",e)},expression:"tempData[index].temperature"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].breath))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.breath_Rules},on:{focus:function(e){t.editRow=4}},model:{value:t.tempData[o].breath,callback:function(e){t.$set(t.tempData[o],"breath",e)},expression:"tempData[index].breath"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].blood_sugar))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,on:{focus:function(e){t.editRow=5}},model:{value:t.tempData[o].blood_sugar,callback:function(e){t.$set(t.tempData[o],"blood_sugar",e)},expression:"tempData[index].blood_sugar"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].blood_oxygen))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.blood_oxygen_Rules},on:{focus:function(e){t.editRow=6}},model:{value:t.tempData[o].blood_oxygen,callback:function(e){t.$set(t.tempData[o],"blood_oxygen",e)},expression:"tempData[index].blood_oxygen"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].pain))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.pain_Rules},on:{focus:function(e){t.editRow=7}},model:{value:t.tempData[o].pain,callback:function(e){t.$set(t.tempData[o],"pain",e)},expression:"tempData[index].pain"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].gcs_e))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.gcs_e_Rules},on:{focus:function(e){t.editRow=8}},model:{value:t.tempData[o].gcs_e,callback:function(e){t.$set(t.tempData[o],"gcs_e",e)},expression:"tempData[index].gcs_e"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].gcs_v))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.gcs_v_Rules},on:{focus:function(e){t.editRow=9}},model:{value:t.tempData[o].gcs_v,callback:function(e){t.$set(t.tempData[o],"gcs_v",e)},expression:"tempData[index].gcs_v"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].gcs_m))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.gcs_m_Rules},on:{focus:function(e){t.editRow=10}},model:{value:t.tempData[o].gcs_m,callback:function(e){t.$set(t.tempData[o],"gcs_m",e)},expression:"tempData[index].gcs_m"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].stool))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,attrs:{rules:t.twoLength_Rules},on:{focus:function(e){t.editRow=11}},model:{value:t.tempData[o].stool,callback:function(e){t.$set(t.tempData[o],"stool",e)},expression:"tempData[index].stool"}}):t._e()],1),n("td",{on:{keyup:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"up",38,e.key,["Up","ArrowUp"])?null:t.changeCol("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.changeCol("++")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?null:"button"in e&&0!==e.button?null:t.changeRow("--")},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"right",39,e.key,["Right","ArrowRight"])?null:"button"in e&&2!==e.button?null:t.changeRow("++")}]}},[o!=t.editCol?n("span",[t._v(t._s(t.tempData[o].weight))]):t._e(),o==t.editCol?n("v-text-field",{ref:"focuspoint",refInFor:!0,on:{focus:function(e){t.editRow=12}},model:{value:t.tempData[o].weight,callback:function(e){t.$set(t.tempData[o],"weight",e)},expression:"tempData[index].weight"}}):t._e()],1)])})),0)]},proxy:!0}])})],1)],1)],1)],1)},i=[],r=(n("99af"),n("4de4"),n("7db0"),n("caad"),n("d81d"),n("4e827"),n("b0c0"),n("07ac"),n("2532"),n("159b"),n("4328"),n("5a0c")),a=n.n(r),u={data:function(){return{isSignlifeSession:!1,useritems:[],serachKey:"",tempData:[],feeItems:[],nowday:a()().format("YYYY-MM-DD"),nowtime:a()().format("HH:mm:ss"),emptyRules:[function(t){return!!t||"不可空白"}],pb_h_Rules:[function(t){return""==t||t.length<4&&!t.includes(".")||"數值不合法"}],pb_l_Rules:[function(t){return""==t||t>0&&t<150||"數值不合法"}],pulse_Rules:[function(t){return""==t||t.length<4&&!t.includes(".")||"數值不合法"}],temperature_Rules:[function(t){return""==t||t<=42&&t.length<=4&&!t.includes("..")||"數值不合法"}],breath_Rules:[function(t){return""==t||t<=40&&!t.includes(".")||"數值不合法"}],blood_oxygen_Rules:[function(t){return""==t||t<=100&&!t.includes(".")||"數值不合法"}],pain_Rules:[function(t){return""==t||t<=10&&!(t%2)||"只接受2,4,6,8,10"}],gcs_e_Rules:[function(t){return""==t||t>=1&&t<=4||"只接受1-4"}],gcs_v_Rules:[function(t){return""==t||t>=1&&t<=5||"T"==t||"A"==t||"E"==t||"只接受1-5,A,T,E"}],gcs_m_Rules:[function(t){return""==t||t>=1&&t<=6||"只接受1-6"}],twoLength_Rules:[function(t){return""==t||t.length<=2||"數值不合法"}],editCol:0,editRow:0}},watch:{editCol:function(){this.editCol<0&&(this.editCol=0),this.editCol>this.tempData.length-1&&(this.editCol=this.tempData.length-1),this.setfocus()},editRow:function(){this.editRow<0&&(this.editCol--,this.editRow=12),this.editRow>12&&(this.editCol++,this.editRow=0),this.setfocus()}},mounted:function(){this.auth=this.$store.state.pData,this.getAllData(),this.getFee(),this.isSignlifeSession=!!sessionStorage.getItem("signlifts")},methods:{getSessionData:function(){this.tempData=JSON.parse(sessionStorage.getItem("signlifts"))},emptyData:function(){var t=this;this.$confirm("確認清空資料?").then((function(e){e&&t.getAllData()}))},checkIsAdd:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.tempData.filter((function(t){delete t.isAddInfo;var e=JSON.stringify(Object.values(t)).length-t.bed_name.length-t.name.length-t.u_snkey.length;return e>58}));e&&(n=this.tempData);var o={key:"date='"+this.nowday+"'"},i="general/searchByWhere/".concat(this.$store.state.databaseName,"/signlife");this.$api.options(i,o).then((function(o){var i=!1;if(n.forEach((function(e){var n=o.find((function(t){return t.u_snkey==e.u_snkey}));n?t.$set(e,"isAddInfo",{state:!0}):(t.$set(e,"isAddInfo",{state:!1}),i=!0)})),i&&!e){var r={msg:"新增資料過程有誤,部分資料未建立,請重新建構 [資料未建立] 的資料!!",type:!0,theme:"error"};t.$store.commit("snackbar",r)}}))},getFee:function(){var t=this;this.$api.get("fee").then((function(e){t.feeItems=e}))},changeCol:function(t){this.$refs.form.validate()&&("--"==t?this.editCol--:this.editCol++)},changeRow:function(t){this.$refs.form.validate()&&("--"==t?this.editRow--:this.editRow++)},editingData:function(){if(this.tempData.length>0)return"".concat(this.tempData[this.editCol].bed_name," / ").concat(this.tempData[this.editCol].name)},setfocus:function(){var t=this;this.$nextTick((function(){t.$refs.focuspoint[t.editRow].focus()}))},getAllData:function(){var t=this;this.$api.options("user/getAll/"+this.$store.state.databaseName+"/user").then((function(e){var n=e.filter((function(t){return!!t.bed_name})).sort((function(t,e){t=t.bed_name,e=e.bed_name;return t===e?0:null===t?1:null===e?-1:t>e?1:-1}));t.tempData=n.map((function(t){return{u_snkey:t.snkey,name:t.name,bed_name:t.bed_name,time:"",result:"",weight:"",bp_h:"",bp_l:"",pulse:"",temperature:"",breath:"",blood_sugar:"",blood_oxygen:"",pain:"",gcs_e:"",gcs_v:"",gcs_m:"",stool:"",note:""}}))}))},saveData:function(){var t=this;if(0==this.nowday.length){var e={msg:"評估日期不可為空白!!",type:!0,theme:"warning"};return this.$store.commit("snackbar",e),!1}if(0==this.nowtime.length){e={msg:"評估時間不可為空白!!",type:!0,theme:"warning"};return this.$store.commit("snackbar",e),!1}sessionStorage.setItem("signlifts",JSON.stringify(this.tempData)),this.isSignlifeSession=!0,this.$confirm("確認存入資料?").then((function(e){if(e){t.$store.commit("getTime");var n=t.$store.state.pData.username+"("+t.$store.state.time+")",o=t.tempData.filter((function(t){delete t.isAddInfo;var e=JSON.stringify(Object.values(t)).length-t.bed_name.length-t.name.length-t.u_snkey.length;return e>58})),i=JSON.parse(JSON.stringify(o));if(i=i.map((function(e){return e["date"]=t.nowday,e["time"]=t.nowtime,e["create_man"]=n,delete e.name,delete e.bed_name,delete e.isAddInfo,e})),0!=i.length)t.$api.options("general/addMulti/"+t.$store.state.databaseName+"/signlife",i).then((function(e){if(1==e.state){var n={msg:"已新增",type:!0,theme:"success"};t.$store.commit("snackbar",n),t.checkIsAdd(),t.checkBloodSugar(i)}}));else{var r={msg:"未輸入任何資料!!請重新確認!!",type:!0,theme:"warning"};t.$store.commit("snackbar",r)}}}))},checkBloodSugar:function(t){var e=this,n=this.feeItems.find((function(t){return t.name.includes("驗血糖/次")}));if(!n)return alert("未建立[驗血糖/次]的會計項目,請通知會計或系統工程師!!"),!1;var o=t.filter((function(t){return!!t.blood_sugar}));if(o.length>0){t=[];o.forEach((function(o){t.push({user_snkey:o.u_snkey,fee_snkey:n.snkey,date:e.nowday,start_day:e.nowday,end_day:e.nowday,quantity:1,price:n.price,note:"(A)Multi",create_man:e.$store.state.pData.username+"("+a()().format("YYYY-MM-DD HH:mm:ss")+")"})})),t=t.filter((function(t){return a()(t.date).format("DD")>=26&&(t.note=t.date+"調整為"+a()(t.date).add(1,"month").format("YYYY-MM-01")+t.note,t.date=a()(t.date).add(1,"month").format("YYYY-MM-01")),t}))}this.$api.options("general/addMulti/"+this.$store.state.databaseName+"/accounting",t).then((function(t){if(1==t.state){var n={msg:"紀錄已新增 ; 會計費用[驗血糖/次]已新增]",type:!0,theme:"success"};e.$store.commit("snackbar",n)}}))},delData:function(){var t=this;if(0==this.nowday.length){var e={msg:"評估日期不可為空白!!",type:!0,theme:"warning"};return this.$store.commit("snackbar",e),!1}this.$confirm("確認刪除指定評估日期的所有資料?").then((function(e){if(e){t.$store.commit("getTime");var n={date:t.nowday,info:t.$store.state.pData.username+"("+t.$store.state.time+")("+t.nowday+")"};t.$api.options("signlife/delMultiv2/"+t.$store.state.databaseName+"/signlife",n).then((function(e){if(1==e.state){var n={msg:"已刪除",type:!0,theme:"success"};t.$store.commit("snackbar",n),t.checkIsAdd(!0)}if("nomatch"==e.state){n={msg:"無符合的日期!!",type:!0,theme:"warning"};t.$store.commit("snackbar",n)}}))}}))}}},s=u,l=(n("4376"),n("2877")),c=n("6544"),f=n.n(c),d=n("8336"),h=n("b0af"),p=n("99d9"),y=n("62ad"),k=n("4bd4"),m=n("132d"),g=n("1f4f"),_=n("2fa4"),w=n("8654"),v=Object(l["a"])(s,o,i,!1,null,null,null);e["default"]=v.exports;f()(v,{VBtn:d["a"],VCard:h["a"],VCardText:p["d"],VCardTitle:p["e"],VCol:y["a"],VForm:k["a"],VIcon:m["a"],VSimpleTable:g["a"],VSpacer:_["a"],VTextField:w["a"]})},4376:function(t,e,n){"use strict";n("cd00")},"5a0c":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";var t="millisecond",e="second",n="minute",o="hour",i="day",r="week",a="month",u="quarter",s="year",l=/^(\d{4})-?(\d{1,2})-?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d{1,3})?$/,c=/\[([^\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(t,e,n){var o=String(t);return!o||o.length>=e?t:""+Array(e+1-o.length).join(n)+t},d={s:f,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),o=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+f(o,2,"0")+":"+f(i,2,"0")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(n,a),i=e-o<0,r=t.clone().add(n+(i?-1:1),a);return Number(-(n+(e-o)/(i?o-r:r-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:a,y:s,w:r,d:i,D:"date",h:o,m:n,s:e,ms:t,Q:u}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p="en",y={};y[p]=h;var k=function(t){return t instanceof w},m=function(t,e,n){var o;if(!t)return p;if("string"==typeof t)y[t]&&(o=t),e&&(y[t]=e,o=t);else{var i=t.name;y[i]=t,o=i}return!n&&o&&(p=o),o||!n&&p},g=function(t,e,n){if(k(t))return t.clone();var o=e?"string"==typeof e?{format:e,pl:n}:e:{};return o.date=t,new w(o)},_=d;_.l=m,_.i=k,_.w=function(t,e){return g(t,{locale:e.$L,utc:e.$u,$offset:e.$offset})};var w=function(){function f(t){this.$L=this.$L||m(t.locale,null,!0),this.parse(t)}var d=f.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(_.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var o=e.match(l);if(o)return n?new Date(Date.UTC(o[1],o[2]-1,o[3]||1,o[4]||0,o[5]||0,o[6]||0,o[7]||0)):new Date(o[1],o[2]-1,o[3]||1,o[4]||0,o[5]||0,o[6]||0,o[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return _},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=g(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return g(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<g(t)},d.$g=function(t,e,n){return _.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,"$y",s)},d.month=function(t){return this.$g(t,"$M",a)},d.day=function(t){return this.$g(t,"$W",i)},d.date=function(t){return this.$g(t,"$D","date")},d.hour=function(t){return this.$g(t,"$H",o)},d.minute=function(t){return this.$g(t,"$m",n)},d.second=function(t){return this.$g(t,"$s",e)},d.millisecond=function(e){return this.$g(e,"$ms",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,u){var l=this,c=!!_.u(u)||u,f=_.p(t),d=function(t,e){var n=_.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return c?n:n.endOf(i)},h=function(t,e){return _.w(l.toDate()[t].apply(l.toDate(),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},p=this.$W,y=this.$M,k=this.$D,m="set"+(this.$u?"UTC":"");switch(f){case s:return c?d(1,0):d(31,11);case a:return c?d(1,y):d(0,y+1);case r:var g=this.$locale().weekStart||0,w=(p<g?p+7:p)-g;return d(c?k-w:k+(6-w),y);case i:case"date":return h(m+"Hours",0);case o:return h(m+"Minutes",1);case n:return h(m+"Seconds",2);case e:return h(m+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(r,u){var l,c=_.p(r),f="set"+(this.$u?"UTC":""),d=(l={},l[i]=f+"Date",l.date=f+"Date",l[a]=f+"Month",l[s]=f+"FullYear",l[o]=f+"Hours",l[n]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[c],h=c===i?this.$D+(u-this.$W):u;if(c===a||c===s){var p=this.clone().set("date",1);p.$d[d](h),p.init(),this.$d=p.set("date",Math.min(this.$D,p.daysInMonth())).toDate()}else d&&this.$d[d](h);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[_.p(t)]()},d.add=function(t,u){var l,c=this;t=Number(t);var f=_.p(u),d=function(e){var n=g(c);return _.w(n.date(n.date()+Math.round(e*t)),c)};if(f===a)return this.set(a,this.$M+t);if(f===s)return this.set(s,this.$y+t);if(f===i)return d(1);if(f===r)return d(7);var h=(l={},l[n]=6e4,l[o]=36e5,l[e]=1e3,l)[f]||1,p=this.$d.getTime()+t*h;return _.w(p,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=_.z(this),i=this.$locale(),r=this.$H,a=this.$m,u=this.$M,s=i.weekdays,l=i.months,f=function(t,o,i,r){return t&&(t[o]||t(e,n))||i[o].substr(0,r)},d=function(t){return _.s(r%12||12,t,"0")},h=i.meridiem||function(t,e,n){var o=t<12?"AM":"PM";return n?o.toLowerCase():o},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:u+1,MM:_.s(u+1,2,"0"),MMM:f(i.monthsShort,u,l,3),MMMM:l[u]||l(this,n),D:this.$D,DD:_.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,s,2),ddd:f(i.weekdaysShort,this.$W,s,3),dddd:s[this.$W],H:String(r),HH:_.s(r,2,"0"),h:d(1),hh:d(2),a:h(r,a,!0),A:h(r,a,!1),m:String(a),mm:_.s(a,2,"0"),s:String(this.$s),ss:_.s(this.$s,2,"0"),SSS:_.s(this.$ms,3,"0"),Z:o};return n.replace(c,(function(t,e){return e||p[t]||o.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,l,c){var f,d=_.p(l),h=g(t),p=6e4*(h.utcOffset()-this.utcOffset()),y=this-h,k=_.m(this,h);return k=(f={},f[s]=k/12,f[a]=k,f[u]=k/3,f[r]=(y-p)/6048e5,f[i]=(y-p)/864e5,f[o]=y/36e5,f[n]=y/6e4,f[e]=y/1e3,f)[d]||y,c?k:_.a(k)},d.daysInMonth=function(){return this.endOf(a).$D},d.$locale=function(){return y[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),o=m(t,e,!0);return o&&(n.$L=o),n},d.clone=function(){return _.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}();return g.prototype=w.prototype,g.extend=function(t,e){return t(e,w,g),g},g.locale=m,g.isDayjs=k,g.unix=function(t){return g(1e3*t)},g.en=y[p],g.Ls=y,g}))},cd00:function(t,e,n){}}]);
//# sourceMappingURL=chunk-342cc710.39abd1d4.js.map