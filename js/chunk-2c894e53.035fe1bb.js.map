{"version":3,"sources":["webpack:///./src/views/print/UserListOutput.vue?e041","webpack:///./src/components/MohwStateList.vue?4b0b","webpack:///src/components/MohwStateList.vue","webpack:///./src/components/MohwStateList.vue?1964","webpack:///./src/components/MohwStateList.vue","webpack:///./src/components/MohwStateCheck.vue?3fa1","webpack:///src/components/MohwStateCheck.vue","webpack:///./src/components/MohwStateCheck.vue?2a96","webpack:///./src/components/MohwStateCheck.vue","webpack:///./src/components/MohwSelectUpload.vue?7907","webpack:///src/components/MohwSelectUpload.vue","webpack:///./src/components/MohwSelectUpload.vue?6f7d","webpack:///./src/components/MohwSelectUpload.vue","webpack:///src/views/print/UserListOutput.vue","webpack:///./src/views/print/UserListOutput.vue?e045","webpack:///./src/views/print/UserListOutput.vue","webpack:///./src/components/MohwStateList.vue?2eac","webpack:///./src/components/MohwStateCheck.vue?bbfa"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$store","state","cData","company_name","attrs","model","value","callback","$$v","searchKey","expression","liveing","searchfilter","returnCheck","on","$event","stopPropagation","exportExcel","exportUsers","selectMonth","printAssessment","_e","itemsPerPage","itemsPerPageOptions","scopedSlots","_u","key","fn","props","selectAll","_l","user","index","$set","pushUserDataToApi","in_date","name","id_num","sex","birthday","cphone","returnCity","caddress","returnZone","returnAddress","nursingassessmentData","returnEducation","returnMarry","marry7","faith","returnOccupation","crelationship","cman","proxy","dataReady","staticStyle","directives","rawName","_m","staticRenderFns","ref","_g","showDialog","mohw_url","includes","dialog","getNursingHomeGetLog","startDate","getItems","length","item","log_date","log_content","data","methods","console","log","sKEY","aID","msg","type","theme","commit","pop","SecretKey","id","url","AGENCY_ID","formData","start_date","$api","options","postData","then","component","VBtn","VCard","VCardText","VCardTitle","VDialog","VSimpleTable","VSpacer","VTextField","feedbackMsg","code","JSON","parse","mohwDocumentsArr","users","$confirm","checkUserCount","list","text","database","confirmUpload","endDate","mohwDocuments","el","VAlert","VCheckbox","VDivider","components","items","userItems","nursingassessmentItems","nursingrecordItems","selectedFile","haveChecked","watch","val","forEach","i","computed","keys","split","str","prev","filter","stringify","toUpperCase","element","match","month","snkey","p_code","bed_name","window","open","routeData","href","rs","res","errorMsg","error","datas","push","alert","mohwFn","userDataToJson","EndDate","CaseName","CaseID","Sex","Value","Other","Birthdate","Refuse","Date","PhoneNumber","Address","City","Area","Lane","Education","Marriage","Religion","ExJob","Economic","HasWelfare","Welfare","CaregiverID","CaregiverName","CaregiverAddress","CaregiverTel","EgyContactRelation","EgyContactName","EgyContactTel1","EgyContactTel2","DecisionMakerRelation","MEvent","MEventItem","CaseDesc","nursingrecordData","CreateID","address","arr","returnIdentity","identity1","occupation1","occupation2","occupation3","occupation4","occupation5","occupation6","occupation7","marry1","marry2","marry3","marry4","marry5","marry6","education1","education2","education3","education4","education5","education6","education7","education8","e","workbook","getByKey","VDataIterator","VIcon","VSwitch"],"mappings":"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","file":"js/chunk-2c894e53.035fe1bb.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"UserListOutput\"},[_c('div',{staticClass:\"d-flex justify-space-between align-center pa-2\"},[_c('h2',[_vm._v(_vm._s(this.$store.state.cData.company_name)+\" - 衛福部綜合功能 \")]),_c('v-text-field',{staticClass:\"mx-5 pa-0\",attrs:{\"label\":\"搜尋...\",\"hide-details\":\"\",\"prepend-icon\":\"fas fa-search\"},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}}),_c('MohwStateList',{staticClass:\"ml-2\"})],1),_c('hr'),(_vm.dataReady)?_c('div',[_c('div',{staticClass:\"searchClass ma-2 d-flex justify-space-between align-center\"},[_c('v-switch',{attrs:{\"hide-details\":\"\",\"label\":_vm.liveing\n            ? (\"入住中(\" + (this.searchfilter.length) + \")\")\n            : (\"全部(\" + (this.searchfilter.length) + \")\")},model:{value:(_vm.liveing),callback:function ($$v) {_vm.liveing=$$v},expression:\"liveing\"}}),(_vm.returnCheck.length)?_c('div',{staticClass:\"toolBar d-flex align-center\"},[_c('v-btn',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.exportExcel($event)}}},[_vm._v(\"輸出EXCEL檔\")]),_c('v-btn',{staticClass:\"primary mx-2\",on:{\"click\":function($event){$event.stopPropagation();return _vm.exportUsers($event)}}},[_vm._v(\"上傳基本資料\")]),_c('MohwSelectUpload',{staticClass:\"mr-2\",attrs:{\"users\":_vm.returnCheck}}),_c('MohwStateCheck',{staticClass:\"mr-2\",attrs:{\"users\":_vm.returnCheck}}),_c('v-alert',{staticClass:\"pa-0 ma-0\",attrs:{\"color\":\"primary\",\"outlined\":\"\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-text-field',{staticClass:\"ml-5\",attrs:{\"label\":\"月份選擇\",\"type\":\"month\",\"hide-details\":\"\"},model:{value:(_vm.selectMonth),callback:function ($$v) {_vm.selectMonth=$$v},expression:\"selectMonth\"}}),_c('v-btn',{staticClass:\"primary mx-1\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printAssessment()}}},[_vm._v(\"列印全人評估\")])],1)])],1):_vm._e()],1),_c('v-data-iterator',{attrs:{\"items\":_vm.searchfilter,\"items-per-page\":_vm.itemsPerPage,\"footer-props\":{ itemsPerPageOptions: _vm.itemsPerPageOptions }},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-simple-table',{staticClass:\"text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',{staticClass:\"font-weight-bold\"},[_c('tr',[_c('th',[_c('v-checkbox',{staticClass:\"my-0\",attrs:{\"label\":(\"全選/全不選(\" + (_vm.returnCheck.length) + \")\"),\"hide-details\":\"\"},on:{\"change\":_vm.selectAll}})],1),_c('th',{staticClass:\"title\"},[_vm._v(\"收案日期\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"身分證字號\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"性別\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"其他性別\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"出生年月日\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"聯絡電話\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址_縣市\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址_區域\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"教育程度\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"教育程度其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"婚姻狀況\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"婚姻狀況其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"宗教信仰\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"宗教信仰其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"過去職業\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"過去職業其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"家庭經濟狀況\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"家庭經濟狀況其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利種類\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利種類其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址_縣市\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址_區域\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者電話\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急連絡人姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人電話1\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人電話2\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要醫療決定者\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要醫療決定者姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生_項目\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生 其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"個案描述\")])])]),_c('tbody',_vm._l((props.items),function(user,index){return _c('tr',{key:index},[_c('td',{staticClass:\"d-flex align-center\"},[_c('v-checkbox',{staticClass:\"my-0\",attrs:{\"hide-details\":\"\"},model:{value:(user.checked),callback:function ($$v) {_vm.$set(user, \"checked\", $$v)},expression:\"user.checked\"}}),_c('v-btn',{on:{\"click\":function($event){$event.stopPropagation();return _vm.pushUserDataToApi(user)}}},[_vm._v(\"上傳\")])],1),_c('td',[_vm._v(_vm._s(user.in_date))]),_c('td',[_vm._v(_vm._s(user.name))]),_c('td',[_vm._v(_vm._s(user.id_num))]),_c('td',[_vm._v(_vm._s(user.sex))]),_c('td'),_c('td',[_vm._v(_vm._s(user.birthday))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td',[_vm._v(_vm._s(_vm.returnCity(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnZone(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnAddress(user.caddress[1])))]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnEducation(user.nursingassessmentData) : \"\")+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnEducation(user.nursingassessmentData) == \"其他\" ? _vm.returnEducation(user.nursingassessmentData) : \"\" : \"\")+\" \")]),_c('td',[_vm._v(_vm._s(_vm.returnMarry(user)))]),_c('td',[_vm._v(_vm._s(user.marry7 ? user.marry7 : \"其他\"))]),_c('td',[_vm._v(\" \"+_vm._s(user.faith ? user.faith == \"道教\" ? \"道教或民間傳統信仰\" : user.faith : \"無\")+\" \")]),_c('td',[_vm._v(_vm._s(user.faith == \"其他\" ? \"其他\" : \"\"))]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnOccupation(user.nursingassessmentData) : \"\")+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnOccupation(user.nursingassessmentData) == \"其他\" ? _vm.returnOccupation(user.nursingassessmentData) : \"\" : \"\")+\" \")]),_c('td',[_vm._v(\"其他\")]),_c('td',[_vm._v(\"無資料\")]),_c('td',[_vm._v(\"無\")]),_c('td'),_c('td'),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td',[_vm._v(_vm._s(_vm.returnCity(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnZone(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnAddress(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td'),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td'),_c('td'),_c('td'),_c('td')])}),0)]},proxy:true}],null,true)})]}}],null,false,3744173440)})],1):_vm._e(),(!_vm.dataReady)?_c('div',{staticClass:\"d-flex justify-center align-center\",staticStyle:{\"height\":\"100vh\"}},[_c('span',[_vm._v(\" 資料讀取&處理中... \"),_c('v-icon',[_vm._v(\"fas fa-spinner fa-spin\")])],1)]):_vm._e(),(_vm.dataReady)?_c('div',[_c('table',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"id\":\"outputtable\"}},[_vm._m(0),_c('tbody',_vm._l((_vm.returnCheck),function(user,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(user.in_date))]),_c('td',[_vm._v(_vm._s(user.name))]),_c('td',[_vm._v(_vm._s(user.id_num))]),_c('td',[_vm._v(_vm._s(user.sex))]),_c('td'),_c('td',[_vm._v(_vm._s(user.birthday))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td',[_vm._v(_vm._s(_vm.returnCity(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnZone(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnAddress(user.caddress[1])))]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnEducation(user.nursingassessmentData) : \"\")+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnEducation(user.nursingassessmentData) == \"其他\" ? _vm.returnEducation(user.nursingassessmentData) : \"\" : \"\")+\" \")]),_c('td',[_vm._v(_vm._s(_vm.returnMarry(user)))]),_c('td',[_vm._v(_vm._s(user.marry7 ? user.marry7 : \"其他\"))]),_c('td',[_vm._v(\" \"+_vm._s(user.faith ? user.faith == \"道教\" ? \"道教或民間傳統信仰\" : user.faith : \"無\")+\" \")]),_c('td',[_vm._v(_vm._s(user.faith == \"其他\" ? \"其他\" : \"\"))]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnOccupation(user.nursingassessmentData) : \"\")+\" \")]),_c('td',[_vm._v(\" \"+_vm._s(user.nursingassessmentData ? _vm.returnOccupation(user.nursingassessmentData) == \"其他\" ? _vm.returnOccupation(user.nursingassessmentData) : \"\" : \"\")+\" \")]),_c('td',[_vm._v(\"其他\")]),_c('td',[_vm._v(\"無資料\")]),_c('td',[_vm._v(\"無\")]),_c('td'),_c('td'),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td',[_vm._v(_vm._s(_vm.returnCity(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnZone(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(_vm.returnAddress(user.caddress[1])))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td',[_vm._v(_vm._s(user.cphone[1]))]),_c('td'),_c('td',[_vm._v(_vm._s(user.crelationship[1]))]),_c('td',[_vm._v(_vm._s(user.cman[1]))]),_c('td'),_c('td'),_c('td'),_c('td')])}),0)])]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"font-weight-bold\"},[_c('tr',[_c('th',{staticClass:\"title\"},[_vm._v(\"收案日期\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"身分證字號\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"性別\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"其他性別\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"出生年月日\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"聯絡電話\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址_縣市\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址_區域\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"通訊地址\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"教育程度\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"教育程度其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"婚姻狀況\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"婚姻狀況其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"宗教信仰\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"宗教信仰其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"過去職業\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"過去職業其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"家庭經濟狀況\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"家庭經濟狀況其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利種類\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"福利種類其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址_縣市\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址_區域\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者地址\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要照顧者電話\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急連絡人姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人電話1\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"緊急聯絡人電話2\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要醫療決定者\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"主要醫療決定者姓名\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生_項目\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"一年內有無重大事件發生 其他說明\")]),_c('th',{staticClass:\"title\"},[_vm._v(\"個案描述\")])])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MohwStateList\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({on:{\"click\":_vm.showDialog}},on),[_vm._v(\"顯示上傳狀態 (\"+_vm._s(_vm.$store.state.mohw_url.includes('NursingHome') ? '測試機' : '正式機')+\")\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('h3',{staticClass:\"font-weight-bold\"},[_vm._v(\"衛福部上傳資料訊息\")]),_c('v-spacer'),_c('v-text-field',{attrs:{\"type\":\"date\",\"label\":\"選擇日期(起)\"},on:{\"change\":function($event){return _vm.getNursingHomeGetLog()}},model:{value:(_vm.startDate),callback:function ($$v) {_vm.startDate=$$v},expression:\"startDate\"}})],1),_c('v-card-text',[_vm._v(\" 顯示筆數: \"+_vm._s(_vm.getItems.length)+\" \"),_c('v-simple-table',[_c('thead',[_c('tr',{staticClass:\"grey lighten-2\"},[_c('th',{staticClass:\"text-no-wrap\"},[_vm._v(\"log_date 日期/時間\")]),_c('th',[_vm._v(\"log_content 狀態\")])])]),_c('tbody',_vm._l((_vm.getItems),function(item,index){return _c('tr',{key:index},[_c('td',{staticClass:\"text-no-wrap\"},[_vm._v(_vm._s(item.log_date))]),_c('td',[_vm._v(_vm._s(item.log_content))])])}),0)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MohwStateList\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-btn v-on=\"on\" @click=\"showDialog\">顯示上傳狀態 ({{ $store.state.mohw_url.includes('NursingHome') ? '測試機' : '正式機'}})</v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title>\r\n          <h3 class=\"font-weight-bold\">衛福部上傳資料訊息</h3>\r\n          <v-spacer></v-spacer>\r\n          <v-text-field type=\"date\" label=\"選擇日期(起)\" v-model=\"startDate\" @change=\"getNursingHomeGetLog()\"></v-text-field>\r\n          <!-- <v-text-field type=\"date\" label=\"選擇日期(迄)\" v-model=\"endDate\"></v-text-field> -->\r\n          <!-- <v-btn @click=\"\">取得上傳狀況</v-btn> -->\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          顯示筆數: {{getItems.length}}\r\n          <v-simple-table>\r\n            <thead>\r\n              <tr class=\"grey lighten-2\">\r\n                <th class=\"text-no-wrap\">log_date 日期/時間</th>\r\n                <th>log_content 狀態</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item,index in getItems\" :key=\"index\">\r\n                <td class=\"text-no-wrap\">{{ item.log_date }}</td>\r\n                <td>{{ item.log_content }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </v-simple-table>\r\n\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from 'dayjs'\r\n\r\nexport default {\r\n  data(){\r\n    return {\r\n      dialog: false,\r\n      startDate: dayjs().format(\"YYYY-MM-DD\"),\r\n      // endDate: dayjs().format(\"YYYY-MM-DD\"),\r\n      getItems:[]\r\n    }\r\n  },\r\n\r\n  methods:{\r\n    showDialog(){\r\n      this.getNursingHomeGetLog()\r\n    },\r\n    getNursingHomeGetLog() {\r\n      console.log('run')\r\n      if (this.$store.state.cData.sKEY && this.$store.state.cData.aID) {\r\n        var SecretKey = this.$store.state.cData.sKEY;\r\n        var id = this.$store.state.cData.aID;\r\n      } else {\r\n        let pop = {\r\n          msg: \"衛福部授權碼不合法,請重新確認!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n        return false;\r\n      }\r\n\r\n      if (this.$store.state.mohw_url.includes('NursingHome')){\r\n        SecretKey = \"ApEy6o08+Ij3lCK/c+JSA55aSMarOb\";\r\n      }\r\n\r\n      let postData = {\r\n        url: `${this.$store.state.mohw_url}/GetLog`,\r\n        SecretKey: SecretKey,\r\n        AGENCY_ID: id,\r\n        formData: {\r\n          start_date: dayjs(this.startDate).format(\"YYYY/MM/DD\"),\r\n          // end_date: dayjs(this.endDate).format(\"YYYY/MM/DD\")\r\n        },\r\n      };\r\n      this.$api.options(\"posttoapi/getlog\", postData).then((rs) => {\r\n        // console.log(\"rs:\", rs);\r\n        this.getItems = JSON.parse(JSON.parse(rs).data).sort((a,b)=>a.log_date < b.log_date ? 1 : -1)\r\n        // this.$set(this,'getItems',newData)\r\n      });\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.theme--light.v-data-table thead tr th{\r\n  font-size:1.2rem;\r\n  font-weight: 600;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MohwStateList.vue?vue&type=template&id=515cc8a7&scoped=true&\"\nimport script from \"./MohwStateList.vue?vue&type=script&lang=js&\"\nexport * from \"./MohwStateList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MohwStateList.vue?vue&type=style&index=0&id=515cc8a7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"515cc8a7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDialog,VSimpleTable,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MohwStateCheck\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){return [_c('v-btn',{on:{\"click\":_vm.showDialog}},[_vm._v(\"確認已上傳資料狀態 (\"+_vm._s(_vm.$store.state.mohw_url.includes(\"NursingHome\") ? \"測試機\" : \"正式機\")+\")\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('h3',{staticClass:\"font-weight-bold\"},[_vm._v(\"已上傳資料狀態 本次判斷筆數 (\"+_vm._s(_vm.feedbackMsg.length)+\") \")]),_c('v-spacer')],1),_c('v-card-text',[_c('v-simple-table',[_c('thead',[_c('tr',{staticClass:\"grey lighten-2\"},[_c('th',[_vm._v(\"判斷碼\")]),_c('th',[_vm._v(\"訊息內容\")])])]),_c('tbody',_vm._l((_vm.feedbackMsg),function(item,index){return _c('tr',{key:index},[_c('td',[_vm._v(_vm._s(item.code))]),_c('td',[_vm._v(_vm._s(item.code == 200 ? JSON.parse(item.data)[0] : item.data))])])}),0)])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MohwStateCheck\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{}\">\r\n        <v-btn @click=\"showDialog\"\r\n          >確認已上傳資料狀態 ({{\r\n            $store.state.mohw_url.includes(\"NursingHome\") ? \"測試機\" : \"正式機\"\r\n          }})</v-btn\r\n        >\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title>\r\n          <h3 class=\"font-weight-bold\">已上傳資料狀態 本次判斷筆數 ({{feedbackMsg.length}}) </h3>\r\n          <v-spacer></v-spacer>\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-simple-table>\r\n            <thead>\r\n              <tr class=\"grey lighten-2\">\r\n                <th>判斷碼</th>\r\n                <th>訊息內容</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"item,index in feedbackMsg\" :key=\"index\">\r\n                <td>{{ item.code }}</td>\r\n                <td>{{ item.code == 200 ? JSON.parse(item.data)[0] : item.data }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </v-simple-table>\r\n        </v-card-text>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport mohwFn from '@/assets/js/mohwFn'\r\n\r\nexport default {\r\n  props:['users'],  //users為目前勾選的住民資料\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      feedbackMsg: [],  //回傳後資料狀態\r\n\r\n      mohwDocumentsArr: [\r\n        { text: \"健康習慣\", database: \"healthyhabits\" },\r\n        { text: \"疾病史\", database: \"medicalhistories\" },\r\n        { text: \"藥物安全評估\", database: \"drugsafeties\" },\r\n        { text: \"身體評估\", database: \"bodyevaluations\" },\r\n        { text: \"壓力性損傷危險評估\", database: \"pressureinjuries\" },\r\n        { text: \"跌倒危險性評估\", database: \"fallrisks\" },\r\n        { text: \"日常生活功能評估\", database: \"adls\" },\r\n        { text: \"工具性日常生活活動功能評估\", database: \"iadls\" },\r\n        { text: \"認知功能評估\", database: \"dementias\" },\r\n        { text: \"情緒問題評估\", database: \"geriatricdepressionscales\" },\r\n        { text: \"簡易營養評估\", database: \"mnasfs\" },\r\n        { text: \"疼痛評估\", database: \"painevaluations\" },\r\n        { text: \"衰弱評估\", database: \"sofs\" },\r\n      ], //各表格資料庫名稱\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    showDialog() {\r\n      if (this.users.length > 1){\r\n        let pop = {\r\n          msg: \"目前僅提供確認單一住民資料,請勿勾選超過二位住民!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }else{\r\n        this.$confirm(\"確認已上傳資料狀態? (僅判斷已上傳,但尚未確認資料)\").then(\r\n          (res) => {\r\n            if (res) {\r\n              this.dialog = true;\r\n              this.checkProcess();\r\n            }\r\n          }\r\n        );\r\n      }\r\n      \r\n    },\r\n    /*判斷已上傳,未確認資料 \r\n    1.全部表單都判斷一次\r\n    */\r\n    async checkProcess() {\r\n      let stateArr = []\r\n      let checkCounts = 0;  //判斷是否完全沒有資料\r\n\r\n      await Promise.all(\r\n        this.mohwDocumentsArr.map(async (document) => {\r\n          await this.$api.get(document.database).then(async (rs) => {\r\n            let match = await rs\r\n              .map((i) => {\r\n                return {\r\n                  ...JSON.parse(i.datalist),\r\n                  snkey: i.snkey,\r\n                };\r\n              })\r\n              .filter((i) => i.uploadData && !i.uploadState)\r\n              .filter((i) => i.user_snkey == this.users[0].snkey);  //2023.5.17目前設定只判斷一個住民資料\r\n              // console.log(document.database, match);\r\n            checkCounts += Number(match.length)\r\n\r\n            await Promise.all(\r\n              match.map(async postItem =>{\r\n                let msg = await mohwFn.checkMOHWData(postItem,document.database,false)\r\n                stateArr.push(msg)\r\n              })\r\n            )\r\n          });\r\n        })\r\n      )\r\n      // console.log('stateArr',stateArr)\r\n      this.feedbackMsg = stateArr;\r\n      if (checkCounts == 0){\r\n        let pop = {\r\n          msg: \"目前暫無任何未上傳資料..\",\r\n          type: true,\r\n          theme: \"success\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style scoped>\r\n.theme--light.v-data-table thead tr th{\r\n  font-size:1.2rem;\r\n  font-weight: 600;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateCheck.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateCheck.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MohwStateCheck.vue?vue&type=template&id=4cac86bc&scoped=true&\"\nimport script from \"./MohwStateCheck.vue?vue&type=script&lang=js&\"\nexport * from \"./MohwStateCheck.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MohwStateCheck.vue?vue&type=style&index=0&id=4cac86bc&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4cac86bc\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardText,VCardTitle,VDialog,VSimpleTable,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"MohwSelectUpload\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){return [_c('v-btn',{staticClass:\"warning\",on:{\"click\":function($event){return _vm.checkUserCount()}}},[_vm._v(\"上傳全人評估\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',[_c('h3',{staticClass:\"font-weight-bold\"},[_vm._v(\"衛福部全人評估表單 上傳資料選擇\")])]),_c('v-card-text',[_c('v-alert',{attrs:{\"color\":\"primary\",\"outlined\":\"\"}},[_c('div',{staticClass:\"d-flex\"},[_c('h3',{staticClass:\"font-weight-bold\"},[_vm._v(\"日期設定\")]),_c('v-text-field',{staticClass:\"ml-6\",attrs:{\"type\":\"date\",\"label\":\"日期(起)\"},model:{value:(_vm.list.startDate),callback:function ($$v) {_vm.$set(_vm.list, \"startDate\", $$v)},expression:\"list.startDate\"}}),_c('v-text-field',{staticClass:\"ml-2\",attrs:{\"type\":\"date\",\"label\":\"日期(迄)\"},model:{value:(_vm.list.endDate),callback:function ($$v) {_vm.$set(_vm.list, \"endDate\", $$v)},expression:\"list.endDate\"}})],1)]),_c('v-alert',{attrs:{\"color\":\"primary\",\"outlined\":\"\"}},[_c('div',[_c('div',{staticClass:\"d-flex justify-space-between align-center\"},[_c('h3',{staticClass:\"font-weight-bold\"},[_vm._v(\"全人評估表單選擇\")]),_c('v-checkbox',{staticClass:\"pa-0 red lighten-3 pa-2\",staticStyle:{\"border-radius\":\"5px\"},attrs:{\"label\":\"全選\",\"hide-details\":\"\"},on:{\"change\":_vm.selectAll}})],1),_c('div',{staticClass:\"d-flex flex-wrap justify-space-between\"},_vm._l((_vm.mohwDocumentsArr),function(item){return _c('v-checkbox',{key:item.text,staticClass:\"ml-3 pa-0\",attrs:{\"label\":item.text,\"value\":item.database,\"hide-details\":\"\"},model:{value:(_vm.list.mohwDocuments),callback:function ($$v) {_vm.$set(_vm.list, \"mohwDocuments\", $$v)},expression:\"list.mohwDocuments\"}})}),1)])]),_c('v-divider'),_c('div',{staticClass:\"mt-2 text-right\"},[_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){return _vm.confirmUpload()}}},[_vm._v(\"確認上傳\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"MohwSelectUpload\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{}\">\r\n        <v-btn class=\"warning\" @click=\"checkUserCount()\">上傳全人評估</v-btn>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title>\r\n          <h3 class=\"font-weight-bold\">衛福部全人評估表單 上傳資料選擇</h3>\r\n        </v-card-title>\r\n        <v-card-text>\r\n          <v-alert color=\"primary\" outlined>\r\n            <div class=\"d-flex\">\r\n              <h3 class=\"font-weight-bold\">日期設定</h3>\r\n              <v-text-field\r\n                type=\"date\"\r\n                label=\"日期(起)\"\r\n                v-model=\"list.startDate\"\r\n                class=\"ml-6\"\r\n              ></v-text-field>\r\n              <v-text-field\r\n                type=\"date\"\r\n                label=\"日期(迄)\"\r\n                v-model=\"list.endDate\"\r\n                class=\"ml-2\"\r\n              ></v-text-field>\r\n            </div>\r\n          </v-alert>\r\n\r\n          <v-alert color=\"primary\" outlined>\r\n            <div>\r\n              <div class=\"d-flex justify-space-between align-center\">\r\n                <h3 class=\"font-weight-bold\">全人評估表單選擇</h3>\r\n                <v-checkbox\r\n                  label=\"全選\"\r\n                  class=\"pa-0 red lighten-3 pa-2\"\r\n                  style=\"border-radius: 5px\"\r\n                  hide-details\r\n                  @change=\"selectAll\"\r\n                ></v-checkbox>\r\n              </div>\r\n              <div class=\"d-flex flex-wrap justify-space-between\">\r\n                <v-checkbox\r\n                  v-for=\"item in mohwDocumentsArr\"\r\n                  :key=\"item.text\"\r\n                  :label=\"item.text\"\r\n                  :value=\"item.database\"\r\n                  v-model=\"list.mohwDocuments\"\r\n                  class=\"ml-3 pa-0\"\r\n                  hide-details\r\n                ></v-checkbox>\r\n              </div>\r\n            </div>\r\n          </v-alert>\r\n\r\n          <v-divider></v-divider>\r\n          <div class=\"mt-2 text-right\">\r\n            <v-btn class=\"primary\" @click=\"confirmUpload()\">確認上傳</v-btn>\r\n          </div>\r\n        </v-card-text>\r\n\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport mohwFn from '@/assets/js/mohwFn'\r\n\r\nexport default {\r\n  props:['users'],  //users為目前勾選的住民資料\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {\r\n        startDate: dayjs().format(\"YYYY-MM-DD\"),\r\n        endDate: dayjs().format(\"YYYY-MM-DD\"),\r\n        mohwDocuments: [],\r\n      },\r\n      mohwDocumentsArr: [\r\n        { text: \"健康習慣\", database: \"healthyhabits\" },\r\n        { text: \"疾病史\", database: \"medicalhistories\" },\r\n        { text: \"藥物安全評估\", database: \"drugsafeties\" },\r\n        { text: \"身體評估\", database: \"bodyevaluations\" },\r\n        { text: \"壓力性損傷危險評估\", database: \"pressureinjuries\" },\r\n        { text: \"跌倒危險性評估\", database: \"fallrisks\" },\r\n        { text: \"日常生活功能評估\", database: \"adls\" },\r\n        { text: \"工具性日常生活活動功能評估\", database: \"iadls\" },\r\n        { text: \"認知功能評估\", database: \"dementias\" },\r\n        { text: \"情緒問題評估\", database: \"geriatricdepressionscales\" },\r\n        { text: \"簡易營養評估\", database: \"mnasfs\" },\r\n        { text: \"疼痛評估\", database: \"painevaluations\" },\r\n        { text: \"衰弱評估\", database: \"sofs\" },\r\n      ], //各表格資料庫名稱\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    //2023.5.13 目前有錯誤時,無法判斷出錯的內容是那個住民,所以暫時鎖定只能傳一個使用者\r\n    checkUserCount(){\r\n      if (this.users.length > 1){\r\n        let pop = {\r\n          msg: \"目前僅提供上傳單一住民資料,請勿勾選超過二位住民!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n      }else{\r\n        this.dialog = true;\r\n      }\r\n    },\r\n    //上傳作業開始\r\n    async confirmUpload() {\r\n      //判斷錯誤\r\n      if (this.list.mohwDocuments.length == 0){\r\n        let pop = {\r\n          msg: \"未選擇任何表單!!\",\r\n          type: true,\r\n          theme: \"warning\",\r\n        };\r\n        this.$store.commit(\"snackbar\", pop);\r\n        return false;\r\n      }\r\n\r\n      //確認上傳\r\n      await this.$confirm(\"確認上傳資料?\").then(async (res) => {\r\n        if  (res){\r\n          this.dialog = false; //直接關閉視窗\r\n          // //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n\r\n          let mohwDatas=[] //從後台取指定日期區間,符合資料的各項表單資料 {勾選的表單,資料s}\r\n          await Promise.all(\r\n            this.list.mohwDocuments.map(async (document)=>{\r\n              mohwDatas[document] = await this.getZoneData(document)\r\n            })\r\n          )\r\n\r\n\r\n          //取得指定日期區間的資料-> 開始比對各住民 相對應的表單資料\r\n          // console.log(2,mohwDatas)\r\n          let userMohwData = [] // {user:userdata,document:each document data ...} \r\n          this.users.forEach(user=>{\r\n            let dataTemp = [];\r\n            dataTemp['user'] = {\r\n              id_num :user.id_num, \r\n              in_date:user.in_date,\r\n              name: user.name,\r\n              snkey: user.snkey\r\n            }\r\n            this.list.mohwDocuments.map(document =>{\r\n              dataTemp[document] = mohwDatas[document].filter(i=>i.user_snkey == user.snkey)\r\n            })\r\n            userMohwData.push(dataTemp);\r\n          })\r\n\r\n\r\n          console.log('userMohwData',userMohwData)\r\n\r\n          /*\r\n          方案2 建構 每一筆單獨傳送到衛福,同時更新 資料庫的資料狀態 pushToMOHW(postItem, useDataBase, jsonfile)\r\n          無法處理多筆時json檔上傳問題,暫時棄用\r\n          */\r\n\r\n\r\n          /*\r\n          方案1 建構成array ,再一次上傳 ,上傳確認沒問題 -> 修改資料庫裡的資料狀態 \r\n          */\r\n          //建構各住民各表單 json格式 ,直接 array 進去-> 回傳一個組好的 array 回來 -> 上傳\r\n          let DataList = [];\r\n          userMohwData.forEach(item=>{\r\n            // console.log(item)\r\n            DataList.push({\r\n              CaseID: item.user.id_num,\r\n              EndDate: item.user.in_date,\r\n              HealthyHabits: item.healthyhabits ? mohwFn.returnHealthyHabitsJSON(item.healthyhabits) : [],\r\n              MedicalHistories: item.medicalhistories ? mohwFn.returnMedicalHistoriesJSON(item.medicalhistories) : [],\r\n              DrugSafeties: item.drugsafeties ? mohwFn.returnDrugSafetiesJSON(item.drugsafeties) : [],\r\n              BodyEvaluations: item.bodyevaluations ? mohwFn.returnBodyEvaluationsJSON(item.bodyevaluations) : [],\r\n              PressureInjuries: item.pressureinjuries ? mohwFn.returnPressureInjuriesJSON(item.pressureinjuries) : [],\r\n              FallRisks: item.fallrisks ? mohwFn.returnFallRisksJSON(item.fallrisks) : [],\r\n              ADLs: item.adls ? mohwFn.returnADLsJSON(item.adls) : [],\r\n              IADLs: item.iadls ? mohwFn.returnIADLsJSON(item.iadls) : [],\r\n              Dementias: item.dementias ? mohwFn.returnDementiasJSON(item.dementias) : [],\r\n              GeriatricDepressionScales: item.geriatricdepressionscales ? mohwFn.returnGeriatricDepressionScalesJSON(item.geriatricdepressionscales) : [],\r\n              MNASFs: item.mnasfs ? mohwFn.returnMNASFsJSON(item.mnasfs) : [],\r\n              PainEvaluations: item.painevaluations ? mohwFn.returnPainEvaluationsJSON(item.painevaluations) : [],\r\n              SOFs: item.sofs ? mohwFn.returnSOFsJSON(item.sofs) : [],\r\n            })\r\n          })\r\n          // console.log(DataList)\r\n\r\n          // //建構資料OK -> 上傳\r\n          let uploadRS = await mohwFn.uploadtoMOHW(DataList,'Evaluation')\r\n          // console.log('uploadRS',uploadRS)\r\n          //上傳成功 代號為200 -> 更新已上傳資料 uploadData\r\n          if (uploadRS.code == 200){\r\n            await Promise.all(\r\n                userMohwData.map(async item=>{\r\n                this.list.mohwDocuments.map(async (document)=>{\r\n                  item[document].map(async postItem=>{\r\n                    postItem.uploadData = uploadRS;\r\n                    if (postItem.uploadState) { delete postItem.uploadState }\r\n            \r\n                    let updateData = {\r\n                      snkey: postItem.snkey,\r\n                      datalist: JSON.stringify(postItem),\r\n                      edit_man: \"pass\",\r\n                    };\r\n                    await this.$api.options(\"general/edit/\" + this.$store.state.databaseName + \"/\" + document, updateData)\r\n\r\n                  })\r\n                })\r\n              })\r\n            )\r\n            // // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n          }\r\n          //方案1 建構成array ,再一次上傳 ,上傳確認沒問題 -> 修改資料庫裡的資料狀態 end\r\n          \r\n        }\r\n      })\r\n    },\r\n    //取得指定表單,指定日期資料\r\n    async getZoneData(database){\r\n      let postData = {\r\n        key: '\"Date\":\"',\r\n        start: dayjs(this.list.startDate).format(\"YYYY-MM-DD\"), //開始日期\r\n        end: dayjs(this.list.endDate).format(\"YYYY-MM-DD\"), //結束日期\r\n      };\r\n      let url = `general/getZoneData/${this.$store.state.databaseName}/${database}`;\r\n      return await this.$api.options(url, postData).then((rs) => {\r\n        return rs.map((i) => {\r\n          return {\r\n            ...JSON.parse(i.datalist),\r\n            snkey: i.snkey,\r\n          };\r\n        });\r\n      });\r\n    },\r\n    //全人評估表單選擇,全選/全不選\r\n    selectAll(el) {\r\n      if (el) {\r\n        this.list.mohwDocuments = [\r\n          \"healthyhabits\",\r\n          \"medicalhistories\",\r\n          \"drugsafeties\",\r\n          \"bodyevaluations\",\r\n          \"pressureinjuries\",\r\n          \"fallrisks\",\r\n          \"adls\",\r\n          \"iadls\",\r\n          \"dementias\",\r\n          \"geriatricdepressionscales\",\r\n          \"mnasfs\",\r\n          \"painevaluations\",\r\n          \"sofs\",\r\n        ];\r\n      } else {\r\n        this.list.mohwDocuments = [];\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwSelectUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwSelectUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MohwSelectUpload.vue?vue&type=template&id=8feaebfc&\"\nimport script from \"./MohwSelectUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./MohwSelectUpload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCardTitle,VCheckbox,VDialog,VDivider,VTextField})\n","<template>\r\n  <div class=\"UserListOutput\">\r\n    <!-- <v-btn @click.stop=\"getNursingHomeGetLog()\">GetLog</v-btn> -->\r\n    <div class=\"d-flex justify-space-between align-center pa-2\">\r\n      <h2>{{ this.$store.state.cData.company_name }} - \r\n         衛福部綜合功能\r\n      </h2>\r\n      <v-text-field\r\n          label=\"搜尋...\"\r\n          v-model=\"searchKey\"\r\n          hide-details\r\n          prepend-icon=\"fas fa-search\"\r\n          class=\"mx-5 pa-0\"\r\n        ></v-text-field>\r\n      <MohwStateList class=\"ml-2\" />\r\n      \r\n    </div>\r\n    <hr>\r\n    <div v-if=\"dataReady\">\r\n      <div class=\"searchClass ma-2 d-flex justify-space-between align-center\">\r\n        <v-switch\r\n          hide-details\r\n          :label=\"\r\n            liveing\r\n              ? `入住中(${this.searchfilter.length})`\r\n              : `全部(${this.searchfilter.length})`\r\n          \"\r\n          v-model=\"liveing\"\r\n        ></v-switch>\r\n        \r\n        <div v-if=\"returnCheck.length\" class=\"toolBar d-flex align-center\">\r\n          <v-btn\r\n            class=\"success\"\r\n            @click.stop=\"exportExcel\"\r\n            \r\n            >輸出EXCEL檔</v-btn\r\n          >\r\n\r\n          <v-btn class=\"primary mx-2\" @click.stop=\"exportUsers\">上傳基本資料</v-btn>\r\n\r\n          <MohwSelectUpload :users=\"returnCheck\" class=\"mr-2\" />\r\n          <MohwStateCheck :users=\"returnCheck\" class=\"mr-2\" />\r\n\r\n          <v-alert class=\"pa-0 ma-0\" color=\"primary\" outlined>\r\n            <div class=\"d-flex align-center\">\r\n              <v-text-field label=\"月份選擇\" type=\"month\" v-model=\"selectMonth\" hide-details class=\"ml-5\"></v-text-field>\r\n              <v-btn class=\"primary mx-1\" @click.stop=\"printAssessment()\" >列印全人評估</v-btn>\r\n            </div>\r\n          </v-alert>  \r\n        </div>\r\n        \r\n      </div>\r\n      <!-- 勾選資料用 -->\r\n      <v-data-iterator\r\n        :items=\"searchfilter\"\r\n        :items-per-page.sync=\"itemsPerPage\"\r\n        :footer-props=\"{ itemsPerPageOptions }\"\r\n      >\r\n        <template v-slot:default=\"props\">\r\n        <v-simple-table\r\n          class=\"text-no-wrap\"\r\n          fixed-header\r\n        >\r\n        <template v-slot:default>\r\n          <thead class=\"font-weight-bold\">\r\n            <tr>\r\n              <th >\r\n                <v-checkbox\r\n                  :label=\"`全選/全不選(${returnCheck.length})`\"\r\n                  hide-details\r\n                  class=\"my-0\"\r\n                  @change=\"selectAll\"\r\n                ></v-checkbox>\r\n              </th>\r\n              <th class=\"title\">收案日期</th>\r\n              <th class=\"title\">姓名</th>\r\n              <th class=\"title\">身分證字號</th>\r\n              <th class=\"title\">性別</th>\r\n              <th class=\"title\">其他性別</th>\r\n              <th class=\"title\">出生年月日</th>\r\n              <th class=\"title\">聯絡電話</th>\r\n              <th class=\"title\">通訊地址_縣市</th>\r\n              <th class=\"title\">通訊地址_區域</th>\r\n              <th class=\"title\">通訊地址</th>\r\n              <th class=\"title\">教育程度</th>\r\n              <th class=\"title\">教育程度其他說明</th>\r\n              <th class=\"title\">婚姻狀況</th>\r\n              <th class=\"title\">婚姻狀況其他說明</th>\r\n              <th class=\"title\">宗教信仰</th>\r\n              <th class=\"title\">宗教信仰其他說明</th>\r\n              <th class=\"title\">過去職業</th>\r\n              <th class=\"title\">過去職業其他說明</th>\r\n              <th class=\"title\">家庭經濟狀況</th>\r\n              <th class=\"title\">家庭經濟狀況其他說明</th>\r\n              <th class=\"title\">福利</th>\r\n              <th class=\"title\">福利種類</th>\r\n              <th class=\"title\">福利種類其他說明</th>\r\n              <th class=\"title\">主要照顧者</th>\r\n              <th class=\"title\">主要照顧者姓名</th>\r\n              <th class=\"title\">主要照顧者地址_縣市</th>\r\n              <th class=\"title\">主要照顧者地址_區域</th>\r\n              <th class=\"title\">主要照顧者地址</th>\r\n              <th class=\"title\">主要照顧者電話</th>\r\n              <th class=\"title\">緊急聯絡人</th>\r\n              <th class=\"title\">緊急連絡人姓名</th>\r\n              <th class=\"title\">緊急聯絡人電話1</th>\r\n              <th class=\"title\">緊急聯絡人電話2</th>\r\n              <th class=\"title\">主要醫療決定者</th>\r\n              <th class=\"title\">主要醫療決定者姓名</th>\r\n              <th class=\"title\">一年內有無重大事件發生</th>\r\n              <th class=\"title\">一年內有無重大事件發生_項目</th>\r\n              <th class=\"title\">一年內有無重大事件發生 其他說明</th>\r\n              <th class=\"title\">個案描述</th>\r\n            </tr>\r\n          </thead>\r\n\r\n          <tbody>\r\n            <tr v-for=\"(user, index) in props.items\" :key=\"index\">\r\n              <td  class=\"d-flex align-center\">\r\n                <v-checkbox\r\n                  v-model=\"user.checked\"\r\n                  hide-details\r\n                  class=\"my-0\"\r\n                ></v-checkbox>\r\n                <v-btn @click.stop=\"pushUserDataToApi(user)\">上傳</v-btn>\r\n                <!-- <v-btn @click.stop=\"pushAllpeopleDataToApi(user)\"\r\n                  >上傳全人評估</v-btn\r\n                > -->\r\n              </td>\r\n              <td>{{ user.in_date }}</td>\r\n              <td>{{ user.name }}</td>\r\n              <td>{{ user.id_num }}</td>\r\n              <td>{{ user.sex }}</td>\r\n              <td></td>\r\n              <td>{{ user.birthday }}</td>\r\n              <td>{{ user.cphone[1] }}</td>\r\n              <td>{{ returnCity(user.caddress[1]) }}</td>\r\n              <td>{{ returnZone(user.caddress[1]) }}</td>\r\n              <td>{{ returnAddress(user.caddress[1]) }}</td>\r\n              <td>\r\n                {{\r\n                  user.nursingassessmentData\r\n                    ? returnEducation(user.nursingassessmentData)\r\n                    : \"\"\r\n                }}\r\n              </td>\r\n              <!-- 教育程度其他說明 -->\r\n              <td>\r\n                {{  user.nursingassessmentData \r\n                ? returnEducation(user.nursingassessmentData) == \"其他\" \r\n                ? returnEducation(user.nursingassessmentData) : \"\"\r\n                    : \"\"\r\n                }}\r\n              </td>\r\n              <td>{{ returnMarry(user) }}</td>\r\n              <td>{{ user.marry7 ? user.marry7 : \"其他\" }}</td>\r\n              <td>\r\n                {{\r\n                  user.faith\r\n                    ? user.faith == \"道教\"\r\n                      ? \"道教或民間傳統信仰\"\r\n                      : user.faith\r\n                    : \"無\"\r\n                }}\r\n              </td>\r\n              <td>{{ user.faith == \"其他\" ? \"其他\" : \"\" }}</td>\r\n              <td>\r\n                {{\r\n                  user.nursingassessmentData\r\n                    ? returnOccupation(user.nursingassessmentData)\r\n                    : \"\"\r\n                }}\r\n              </td>\r\n              <!-- 過去職業其他說明 -->\r\n              <td>\r\n                {{\r\n                  user.nursingassessmentData\r\n                    ? returnOccupation(user.nursingassessmentData) == \"其他\"\r\n                      ? returnOccupation(user.nursingassessmentData)\r\n                      : \"\"\r\n                    : \"\"\r\n                }}\r\n              </td>\r\n              <!-- 家庭經濟狀況 -->\r\n              <td>其他</td>\r\n              <td>無資料</td>\r\n              <!-- 福利 -->\r\n              <td>無</td>\r\n              <td></td>\r\n              <td></td>\r\n              <!-- 主要照顧者 -->\r\n              <td>{{ user.crelationship[1] }}</td>\r\n              <td>{{ user.cman[1] }}</td>\r\n              <td>{{ returnCity(user.caddress[1]) }}</td>\r\n              <td>{{ returnZone(user.caddress[1]) }}</td>\r\n              <td>{{ returnAddress(user.caddress[1]) }}</td>\r\n              <td>{{ user.cphone[1] }}</td>\r\n              <!-- 緊急聯絡人 -->\r\n              <td>{{ user.crelationship[1] }}</td>\r\n              <td>{{ user.cman[1] }}</td>\r\n              <td>{{ user.cphone[1] }}</td>\r\n              <!-- 緊急聯絡人電話2 -->\r\n              <td></td>\r\n              <!-- 主要醫療決定者 -->\r\n              <td>{{ user.crelationship[1] }}</td>\r\n              <td>{{ user.cman[1] }}</td>\r\n              <!-- 一年內有無重大事件發生 -->\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n\r\n              <!-- 個案描述 護理紀錄的第一筆紀錄-->\r\n              <td>\r\n                <!-- {{\r\n                  user.nursingrecordData\r\n                    ? user.nursingrecordData[0]\r\n                      ? user.nursingrecordData[0].nursingrecord_content\r\n                      : \"\"\r\n                    : \"\"\r\n                }} -->\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </template>\r\n        </v-simple-table>\r\n        </template>\r\n      </v-data-iterator>\r\n      \r\n    </div>\r\n    <div\r\n      class=\"d-flex justify-center align-center\"\r\n      style=\"height: 100vh\"\r\n      v-if=\"!dataReady\"\r\n    >\r\n      <span> 資料讀取&處理中... <v-icon>fas fa-spinner fa-spin</v-icon> </span>\r\n    </div>\r\n\r\n    <!-- excel輸出區域 -->\r\n    <div v-if=\"dataReady\">\r\n      <table id=\"outputtable\" v-show=\"false\">\r\n        <thead class=\"font-weight-bold\">\r\n          <tr>\r\n            <th class=\"title\">收案日期</th>\r\n            <th class=\"title\">姓名</th>\r\n            <th class=\"title\">身分證字號</th>\r\n            <th class=\"title\">性別</th>\r\n            <th class=\"title\">其他性別</th>\r\n            <th class=\"title\">出生年月日</th>\r\n            <th class=\"title\">聯絡電話</th>\r\n            <th class=\"title\">通訊地址_縣市</th>\r\n            <th class=\"title\">通訊地址_區域</th>\r\n            <th class=\"title\">通訊地址</th>\r\n            <th class=\"title\">教育程度</th>\r\n            <th class=\"title\">教育程度其他說明</th>\r\n            <th class=\"title\">婚姻狀況</th>\r\n            <th class=\"title\">婚姻狀況其他說明</th>\r\n            <th class=\"title\">宗教信仰</th>\r\n            <th class=\"title\">宗教信仰其他說明</th>\r\n            <th class=\"title\">過去職業</th>\r\n            <th class=\"title\">過去職業其他說明</th>\r\n            <th class=\"title\">家庭經濟狀況</th>\r\n            <th class=\"title\">家庭經濟狀況其他說明</th>\r\n            <th class=\"title\">福利</th>\r\n            <th class=\"title\">福利種類</th>\r\n            <th class=\"title\">福利種類其他說明</th>\r\n            <th class=\"title\">主要照顧者</th>\r\n            <th class=\"title\">主要照顧者姓名</th>\r\n            <th class=\"title\">主要照顧者地址_縣市</th>\r\n            <th class=\"title\">主要照顧者地址_區域</th>\r\n            <th class=\"title\">主要照顧者地址</th>\r\n            <th class=\"title\">主要照顧者電話</th>\r\n            <th class=\"title\">緊急聯絡人</th>\r\n            <th class=\"title\">緊急連絡人姓名</th>\r\n            <th class=\"title\">緊急聯絡人電話1</th>\r\n            <th class=\"title\">緊急聯絡人電話2</th>\r\n            <th class=\"title\">主要醫療決定者</th>\r\n            <th class=\"title\">主要醫療決定者姓名</th>\r\n            <th class=\"title\">一年內有無重大事件發生</th>\r\n            <th class=\"title\">一年內有無重大事件發生_項目</th>\r\n            <th class=\"title\">一年內有無重大事件發生 其他說明</th>\r\n            <th class=\"title\">個案描述</th>\r\n          </tr>\r\n        </thead>\r\n\r\n        <tbody>\r\n          <tr v-for=\"(user, index) in returnCheck\" :key=\"index\">\r\n            <td>{{ user.in_date }}</td>\r\n            <td>{{ user.name }}</td>\r\n            <td>{{ user.id_num }}</td>\r\n            <td>{{ user.sex }}</td>\r\n            <td></td>\r\n            <td>{{ user.birthday }}</td>\r\n            <td>{{ user.cphone[1] }}</td>\r\n            <td>{{ returnCity(user.caddress[1]) }}</td>\r\n            <td>{{ returnZone(user.caddress[1]) }}</td>\r\n            <td>{{ returnAddress(user.caddress[1]) }}</td>\r\n            <td>\r\n              {{\r\n                user.nursingassessmentData\r\n                  ? returnEducation(user.nursingassessmentData)\r\n                  : \"\"\r\n              }}\r\n            </td>\r\n            <!-- 教育程度其他說明 -->\r\n            <td>\r\n              {{  user.nursingassessmentData \r\n              ? returnEducation(user.nursingassessmentData) == \"其他\" \r\n              ? returnEducation(user.nursingassessmentData) : \"\"\r\n                  : \"\"\r\n              }}\r\n            </td>\r\n            <td>{{ returnMarry(user) }}</td>\r\n            <td>{{ user.marry7 ? user.marry7 : \"其他\" }}</td>\r\n            <td>\r\n              {{\r\n                user.faith\r\n                  ? user.faith == \"道教\"\r\n                    ? \"道教或民間傳統信仰\"\r\n                    : user.faith\r\n                  : \"無\"\r\n              }}\r\n            </td>\r\n            <td>{{ user.faith == \"其他\" ? \"其他\" : \"\" }}</td>\r\n            <td>\r\n              {{\r\n                user.nursingassessmentData\r\n                  ? returnOccupation(user.nursingassessmentData)\r\n                  : \"\"\r\n              }}\r\n            </td>\r\n            <!-- 過去職業其他說明 -->\r\n            <td>\r\n              {{\r\n                user.nursingassessmentData\r\n                  ? returnOccupation(user.nursingassessmentData) == \"其他\"\r\n                    ? returnOccupation(user.nursingassessmentData)\r\n                    : \"\"\r\n                  : \"\"\r\n              }}\r\n            </td>\r\n            <!-- 家庭經濟狀況 -->\r\n            <td>其他</td>\r\n            <td>無資料</td>\r\n            <!-- 福利 -->\r\n            <td>無</td>\r\n            <td></td>\r\n            <td></td>\r\n            <!-- 主要照顧者 -->\r\n            <td>{{ user.crelationship[1] }}</td>\r\n            <td>{{ user.cman[1] }}</td>\r\n            <td>{{ returnCity(user.caddress[1]) }}</td>\r\n            <td>{{ returnZone(user.caddress[1]) }}</td>\r\n            <td>{{ returnAddress(user.caddress[1]) }}</td>\r\n            <td>{{ user.cphone[1] }}</td>\r\n            <!-- 緊急聯絡人 -->\r\n            <td>{{ user.crelationship[1] }}</td>\r\n            <td>{{ user.cman[1] }}</td>\r\n            <td>{{ user.cphone[1] }}</td>\r\n            <!-- 緊急聯絡人電話2 -->\r\n            <td></td>\r\n            <!-- 主要醫療決定者 -->\r\n            <td>{{ user.crelationship[1] }}</td>\r\n            <td>{{ user.cman[1] }}</td>\r\n            <!-- 一年內有無重大事件發生 -->\r\n            <td></td>\r\n            <td></td>\r\n            <td></td>\r\n\r\n            <!-- 個案描述 護理紀錄的第一筆紀錄-->\r\n            <td>\r\n              <!-- {{\r\n                user.nursingrecordData\r\n                  ? user.nursingrecordData[0]\r\n                    ? user.nursingrecordData[0].nursingrecord_content\r\n                    : \"\"\r\n                  : \"\"\r\n              }} -->\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <!-- excel輸出區域 end-->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport XLSX from \"xlsx\";\r\nimport dayjs from 'dayjs'\r\nimport mohwFn from '@/assets/js/mohwFn'\r\n\r\nimport MohwStateList from '@/components/MohwStateList' //顯示上傳狀態\r\nimport MohwStateCheck from '@/components/MohwStateCheck' //顯示上傳狀態\r\nimport MohwSelectUpload from '@/components/MohwSelectUpload' //上傳全人評估各項設定 \r\n\r\n\r\nexport default {\r\n  components:{ MohwStateList,MohwStateCheck, MohwSelectUpload },\r\n  data() {\r\n    return {\r\n      items: null,\r\n      userItems: null,\r\n      nursingassessmentItems: null,\r\n      nursingrecordItems: null,\r\n      searchKey: \"\",\r\n      itemsPerPageOptions: [10, 20, 30],\r\n      itemsPerPage: 10,\r\n      // outputConfirming: false,\r\n      liveing: true, //入住中\r\n      selectedFile: null,\r\n      haveChecked: [],\r\n      \r\n      selectMonth: dayjs().format(\"YYYY-MM\"),\r\n\r\n      // PressureInjuriesItemsQ1: [\r\n      //   \"完全受限：因為意識減弱或使用鎮定劑，對疼痛刺激沒有反應\",\r\n      //   \"大部分受限：只對疼痛刺激有反應；除了呻吟或焦躁不安，無法表達不適\",\r\n      //   \"稍微受限：對指令有反應；但有時無法表達不適；(一或兩個肢體對疼痛或不適的感覺能力受限)\",\r\n      //   \"沒有受損：對指令有反應；能表達不適\",\r\n      // ],\r\n      // PressureInjuriesItemsQ2: [\r\n      //   \"總是潮溼：皮膚總是被汗水、大小便等浸潤；每兩小時予病人翻身時，都會發現皮膚是潮溼的\",\r\n      //   \"經常潮溼：皮膚經常是浸潤的；衣褲/尿布/看護墊等至少每8小時需更換 ≧ 2次\",\r\n      //   \"偶爾潮溼：皮膚偶爾是浸潤的；衣褲/尿布/看護墊等至少每8小時需更換1次\",\r\n      //   \"很少潮溼：皮膚通常保持乾燥；衣褲/尿布/看護墊等只需要依常規的時間，每天更換一次\",\r\n      // ],\r\n      // PressureInjuriesItemsQ3: [\r\n      //   \"受限於床上\",\r\n      //   \"受限於椅子：無法行走或走路極為困難；無法支撐自己的體重\",\r\n      //   \"偶爾走動：但是步行短距離，有時需要協助；大部份時間在床上或椅子上\",\r\n      //   \"經常走動\",\r\n      // ],\r\n      // PressureInjuriesItemsQ4: [\r\n      //   \"完全無法自行移動\",\r\n      //   \"大部份需協助才能移動\",\r\n      //   \"少部份需協助才能移動\",\r\n      //   \"無限制\",\r\n      // ],\r\n      // PressureInjuriesItemsQ5: [\r\n      //   \"總攝取量 < 50%\",\r\n      //   \"50% ≦ 總攝取量 < 75%\",\r\n      //   \"總攝取量 ≧ 75%\",\r\n      //   \"總攝取量完整\",\r\n      // ],\r\n      // PressureInjuriesItemsQ6: [\r\n      //   \"有此問題：移動時需要中度到極大的協助；完全抬起來而不與床單接觸是不可能的\",\r\n      //   \"有潛在問題：移動時需要輕微協助\",\r\n      //   \"沒有明顯問題：可獨立在床上或椅子上移動\",\r\n      // ],\r\n    };\r\n  },\r\n\r\n  watch:{\r\n    dataReady(val){\r\n      if (val){\r\n        this.items.forEach(i=>{\r\n          i.nursingassessmentData = this.nursingassessmentItems.find(\r\n                (nItem) => nItem.u_snkey == i.snkey\r\n              )\r\n          // i.nursingrecordData = this.nursingrecordItems\r\n          //       .filter((nItem) => nItem.u_snkey == i.snkey)\r\n          //       .sort((a, b) => a.date > b.date)    \r\n        })\r\n      }\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    dataReady() {\r\n      if (\r\n        this.userItems != null \r\n        &&\r\n        this.nursingassessmentItems != null \r\n        // &&\r\n        // this.nursingrecordItems != null\r\n      ) {\r\n        this.items = this.userItems\r\n        // .map((i) => {\r\n        //   return {\r\n        //     ...i,\r\n        //     nursingassessmentData: this.nursingassessmentItems.find(\r\n        //       (nItem) => nItem.u_snkey == i.snkey\r\n        //     ),\r\n        //     nursingrecordData: this.nursingrecordItems\r\n        //       .filter((nItem) => nItem.u_snkey == i.snkey)\r\n        //       .sort((a, b) => a.date > b.date),\r\n        //   };\r\n        // });\r\n\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    },\r\n    searchfilter() {\r\n      var keys = this.searchKey.split(\" \");\r\n      var str = \"\";\r\n      let match = keys.reduce(function (prev, element) {\r\n        return prev.filter((item) => {\r\n          str = JSON.stringify(item).toUpperCase();\r\n          if (str.includes(element.toUpperCase())) {\r\n            return item;\r\n          }\r\n        });\r\n      }, this.items);\r\n\r\n      //處理顯示入住中或全部\r\n      if (this.liveing) {\r\n        return match.filter((i) => i.bed_name);\r\n      } else {\r\n        return match;\r\n      }\r\n    },\r\n    //回傳已勾選住民資料\r\n    returnCheck(){\r\n      return this.searchfilter.filter(i=>i.checked)\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    if (sessionStorage.getItem(\"pData\") != null) {\r\n      this.$store.commit(\r\n        \"setcData\",\r\n        JSON.parse(sessionStorage.getItem(\"cData\"))\r\n      );\r\n      this.$store.commit(\r\n        \"setpData\",\r\n        JSON.parse(sessionStorage.getItem(\"pData\"))\r\n      );\r\n\r\n      // this.$store.dispatch(\"getUsingItems\", \"user\");\r\n      await this.getUserItems();\r\n      await this.getData(\"nursingassessment\");\r\n      this.getData(\"nursingrecord\");\r\n    } else {\r\n      this.$router.push(\"/login\");\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    selectAll(el){\r\n      this.searchfilter.forEach((i) => {\r\n        if (el) {\r\n          this.$set(i,'checked',true)\r\n        } else {\r\n          this.$set(i,'checked',false)\r\n        }\r\n      });\r\n    },\r\n    //列印勾選資料的全人評估 1.個案資料 2.月份 傳過去的資料是這兩個就可以了\r\n    printAssessment(){\r\n      if (this.returnCheck.length){\r\n        let postData = {\r\n          month : this.selectMonth,\r\n          userItems : this.returnCheck.map(i=>{\r\n            return {\r\n              snkey: i.snkey,\r\n              name : i.name,\r\n              p_code : i.p_code,\r\n              bed_name : i.bed_name\r\n            }\r\n          })\r\n        }\r\n  \r\n        let routeData = this.$router.resolve(\r\n          {\r\n            path: \"/print/assessmentprint\",\r\n            query:{data:JSON.stringify(postData)}\r\n          });\r\n        window.open(routeData.href, \"_blank\");\r\n      }\r\n    },\r\n    //取得上傳狀況\r\n    getNursingHomeGetLog() {\r\n      //GetLog\r\n      let url = `http://114.34.167.172:49153/NursingHome/API/nhcApi/GetLog`;\r\n      let formData = {\r\n        start_date: \"2021/12/28\",\r\n      };\r\n      //GetLog end\r\n\r\n      //GetLogByTicket\r\n      // let url = 'http://114.34.167.172:49153/NursingHome/API/nhcApi/GetLogByTicket';\r\n      // let formData = {\r\n      //     ticket : '8869792'\r\n      // }\r\n      //GetLogByTicket end\r\n\r\n      let SecretKey = \"ApEy6o08+Ij3lCK/c+JSA55aSMarOb\";\r\n      let id = \"7405310211\";\r\n\r\n      let postData = {\r\n        url: url,\r\n        SecretKey: SecretKey,\r\n        AGENCY_ID: id,\r\n        formData: formData,\r\n      };\r\n\r\n      this.$api.options(\"posttoapi/getlog\", postData).then((rs) => {\r\n        console.log(\"rs:\", rs);\r\n      });\r\n    },\r\n    //上傳住民到衛福部(多筆) 1.取得勾選住民資料 2.建構住民資料\r\n    exportUsers() {\r\n      this.$confirm(\"確認上傳住民資料?\").then((res) => {\r\n        if (res) {\r\n          let datas = [];\r\n          let error = false;\r\n          let errorMsg = '';\r\n          this.returnCheck.forEach(user=>{\r\n            //判斷地址異常\r\n            if (\r\n              this.returnCity(user.caddress[1]) == 0 ||\r\n              this.returnZone(user.caddress[1]).length == 0 ||\r\n              this.returnAddress(user.caddress[1]).length == 0\r\n            ) {\r\n              errorMsg += user.name + '-地址不可空白或異常!! ';\r\n              error = true;\r\n            }\r\n\r\n             //判斷入院護理評估異常\r\n            if (!user.nursingassessmentData){\r\n              errorMsg += user.name + '入院護理評估未建檔!! ';\r\n              error = true;\r\n            }\r\n\r\n            if (error){\r\n              // alert(errorMsg);\r\n            }else {\r\n              datas.push(this.userDataToJson(user));\r\n            }\r\n          })\r\n\r\n          if (error){\r\n            alert(errorMsg);\r\n            return false;\r\n          }else{\r\n            // console.log(datas)\r\n            // this.uploadtoMOHW(datas,'BaseData')\r\n            mohwFn.uploadtoMOHW(datas,'BaseData')\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //建構上傳到衛福部的資料\r\n    // uploadtoMOHW(datas,mohwapi){\r\n    //   //資料建構完成-> 判斷衛服授權是否存在\r\n    //   if (this.$store.state.cData.sKEY && this.$store.state.cData.aID) {\r\n    //     var SecretKey = this.$store.state.cData.sKEY;\r\n    //     var id = this.$store.state.cData.aID;\r\n    //   } else {\r\n    //     let pop = {\r\n    //       msg: \"衛福部授權碼不合法,請重新確認!!\",\r\n    //       type: true,\r\n    //       theme: \"warning\",\r\n    //     };\r\n    //     this.$store.commit(\"snackbar\", pop);\r\n    //     return false;\r\n    //   }\r\n\r\n    //   let url = `${this.$store.state.mohw_url}/${mohwapi}`;\r\n\r\n    //   //透過判斷store,如果包含 NursingHome 就代表上傳到測試機;key就調整為測試機的key\r\n    //   if (this.$store.state.mohw_url.includes('NursingHome')){\r\n    //     SecretKey = \"ApEy6o08+Ij3lCK/c+JSA55aSMarOb\";\r\n    //   }\r\n    //   // test info zone\r\n    //     // url = `http://114.34.167.172:49153/NursingHome/API/nhcApi/BaseData`;\r\n    //     // id = \"7405310211\";\r\n    //   // test info zone end\r\n\r\n    //   let postData = {\r\n    //     url: url,\r\n    //     SecretKey: SecretKey,\r\n    //     AGENCY_ID: id,\r\n    //     jsonfile: JSON.stringify({ DataList: datas }),\r\n    //   };\r\n\r\n    //   this.$api.options(\"posttoapi/postjson\", postData).then((rs) => {\r\n    //     console.log(rs);\r\n    //     let newRs = JSON.parse(rs);\r\n    //     if (newRs.code == 200) {\r\n    //       alert(\"上傳成功!\");\r\n    //     }\r\n    //   });\r\n    // },\r\n    //上傳資料到衛福部(單筆)\r\n    pushUserDataToApi(user) {\r\n      this.$confirm(\"確認上傳人員資料(\" + user.name + \")到衛福部?\").then(\r\n        (res) => {\r\n          if (res) {\r\n            let datas = [];\r\n            let error = false;\r\n            let errorMsg = '';\r\n            //判斷地址異常\r\n            if (\r\n              this.returnCity(user.caddress[1]) == 0 ||\r\n              this.returnZone(user.caddress[1]).length == 0 ||\r\n              this.returnAddress(user.caddress[1]).length == 0\r\n            ) {\r\n              errorMsg += '\"地址不可空白或異常!!';\r\n              error = true;\r\n            }\r\n\r\n             //判斷入院護理評估異常\r\n            if (!user.nursingassessmentData){\r\n              errorMsg += '入院護理評估未建檔!!';\r\n              error = true;\r\n            }\r\n\r\n            if (error){\r\n              alert(errorMsg);\r\n              return false;\r\n            }else {\r\n              datas.push(this.userDataToJson(user));\r\n            }\r\n\r\n            if (this.$store.state.cData.sKEY && this.$store.state.cData.aID) {\r\n              var SecretKey = this.$store.state.cData.sKEY;\r\n              var id = this.$store.state.cData.aID;\r\n            } else {\r\n              let pop = {\r\n                msg: \"衛福部授權碼不合法,請重新確認!!\",\r\n                type: true,\r\n                theme: \"warning\",\r\n              };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              return false;\r\n            }\r\n            let url = `${this.$store.state.mohw_url}/BaseData`;\r\n\r\n            if (this.$store.state.mohw_url.includes('NursingHome')){\r\n              SecretKey = \"ApEy6o08+Ij3lCK/c+JSA55aSMarOb\";\r\n            }\r\n            // test info zone\r\n              // url = `http://114.34.167.172:49153/NursingHome/API/nhcApi/BaseData`;\r\n              // id = \"7405310211\";\r\n            // test info zone end\r\n\r\n            let postData = {\r\n              url: url,\r\n              SecretKey: SecretKey,\r\n              AGENCY_ID: id,\r\n              jsonfile: JSON.stringify({ DataList: datas }),\r\n            };\r\n\r\n            this.$api.options(\"posttoapi/postjson\", postData).then((rs) => {\r\n              console.log(rs);\r\n              let newRs = JSON.parse(rs);\r\n              if (newRs.code == 200) {\r\n                alert(\"上傳成功!\");\r\n              }\r\n            });\r\n          }\r\n        }\r\n      );\r\n    },\r\n\r\n    userDataToJson(user) {\r\n      return {\r\n        EndDate: user.in_date,\r\n        CaseName: user.name,\r\n        CaseID: user.id_num,\r\n        Sex: {\r\n          Value: user.sex,\r\n          Other: null,\r\n        },\r\n        Birthdate: {\r\n          Refuse: \"\",\r\n          Date: user.birthday,\r\n        },\r\n        PhoneNumber: {\r\n          Refuse: \"\",\r\n          Value: user.cphone[1],\r\n        },\r\n        Address: {\r\n          Refuse: \"\",\r\n          City: this.returnCity(user.caddress[1]),\r\n          Area: this.returnZone(user.caddress[1]),\r\n          Lane: this.returnAddress(user.caddress[1]),\r\n        },\r\n        Education: {\r\n          Value: this.returnEducation(user.nursingassessmentData),\r\n          Other: this.returnEducation(user.nursingassessmentData) == '其他' ? '其他' : '',\r\n        },\r\n        Marriage: {\r\n          Value: this.returnMarry(user),\r\n          Other: this.returnMarry(user) == \"其他\" ? this.returnMarry(user) : \"\",\r\n        },\r\n        Religion: {\r\n          Value: user.faith\r\n            ? user.faith == \"道教\"\r\n              ? \"道教或民間傳統信仰\"\r\n              : user.faith\r\n            : \"無\",\r\n          Other: user.faith == \"其他\" ? \"其他\" : null,\r\n        },\r\n        ExJob: {\r\n          Value: this.returnOccupation(user.nursingassessmentData),\r\n          Other:\r\n            this.returnOccupation(user.nursingassessmentData) == \"其他\"\r\n              ? this.returnOccupation(user.nursingassessmentData)\r\n              : \"\",\r\n        },\r\n        Economic: {\r\n          Value: \"其他\",\r\n          Other: \"無資料\",\r\n        },\r\n        HasWelfare: \"無\",\r\n        Welfare: null,\r\n        CaregiverID: \"其他\",\r\n        CaregiverName: user.cman[1],\r\n        CaregiverAddress: {\r\n          City: this.returnCity(user.caddress[1]),\r\n          Area: this.returnZone(user.caddress[1]),\r\n          Lane: this.returnAddress(user.caddress[1]),\r\n        },\r\n        CaregiverTel: user.cphone[1],\r\n        EgyContactRelation: \"其他\",\r\n        EgyContactName: user.cman[1],\r\n        EgyContactTel1: user.cphone[1],\r\n        EgyContactTel2: null,\r\n        DecisionMakerRelation: {\r\n          Value: \"其他\",\r\n          Other: user.crelationship[1],\r\n        },\r\n        MEvent: \"無\",\r\n        MEventItem: null,\r\n        CaseDesc: user.nursingrecordData\r\n          ? user.nursingrecordData[0]\r\n            ? user.nursingrecordData[0].nursingrecord_content\r\n            : \"\"\r\n          : \"\",\r\n        CreateID: \"\",\r\n      };\r\n    },\r\n    returnAddress(address) {\r\n      if (address.includes(\"區\")) {\r\n        return address.split(\"區\")[1];\r\n      } else {\r\n        if (address.includes(\"市\")) {\r\n          return address.split(\"市\")[1];\r\n        }\r\n        if (address.includes(\"縣\")) {\r\n          return address.split(\"縣\")[1];\r\n        }\r\n        return \"\";\r\n      }\r\n    },\r\n    returnZone(address) {\r\n      if (address.includes(\"區\")) {\r\n        let str = address.split(\"區\")[0];\r\n        if (str.includes(\"市\")) {\r\n          let arr = str.split(\"市\");\r\n          return arr[1] + \"區\";\r\n        }\r\n        if (str.includes(\"縣\")) {\r\n          let arr = str.split(\"縣\");\r\n          return arr[1] + \"縣\";\r\n        }\r\n        return str + \"區\";\r\n      } \r\n      if (address.includes(\"鄉\")) {\r\n        let str = address.split(\"鄉\")[0];\r\n        if (str.includes(\"縣\")) {\r\n          let arr = str.split(\"縣\");\r\n          return arr[1] + \"鄉\";\r\n        }\r\n        return str + \"鄉\";\r\n      } \r\n\r\n      return \"\"\r\n    },\r\n    returnCity(address) {\r\n      if (address.includes(\"市\")) {\r\n        let arr = address.split(\"市\");\r\n        return arr[0] + \"市\";\r\n      }\r\n      if (address.includes(\"縣\")) {\r\n        let arr = address.split(\"縣\");\r\n        return arr[0] + \"縣\";\r\n      }\r\n      return \"\";\r\n    },\r\n    returnIdentity(item) {\r\n      if (item.identity1) {\r\n        return \"一般\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"中低收入戶\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"低收入戶(一款)\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"低收入戶(二款)\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"低收入戶(三款)\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"原住民\";\r\n      }\r\n      if (item.identity1) {\r\n        return \"一般\";\r\n      }\r\n    },\r\n    returnOccupation(item) {\r\n      if (item.occupation1) {\r\n        return \"軍公教\";\r\n        // return \"公\";\r\n      }\r\n      if (item.occupation2) {\r\n        return \"工商服務業\";\r\n        // return \"商\";\r\n      }\r\n      if (item.occupation3) {\r\n        return \"工商服務業\";\r\n        // return \"工\";\r\n      }\r\n      if (item.occupation4) {\r\n        return \"軍公教\";\r\n        // return \"教\";\r\n      }\r\n      if (item.occupation5) {\r\n        return \"漁農牧業\";\r\n        // return \"農\";\r\n      }\r\n      if (item.occupation6) {\r\n        return \"無\";\r\n        // return \"自由業\";\r\n      }\r\n      if (item.occupation7) {\r\n        return \"其他\";\r\n      }\r\n      return \"無\";\r\n    },\r\n    returnMarry(item) {\r\n      if (item.marry1) {\r\n        return \"未婚\";\r\n      }\r\n      if (item.marry2) {\r\n        return \"已婚\";\r\n      }\r\n      if (item.marry3) {\r\n        return \"離異\";\r\n      }\r\n      if (item.marry4) {\r\n        return \"喪偶\";\r\n      }\r\n      if (item.marry5) {\r\n        return \"分居\";\r\n      }\r\n      if (item.marry6) {\r\n        return \"其他\";\r\n      }\r\n    },\r\n    returnEducation(item) {\r\n      if (item.education1) {\r\n        return \"不識字\";\r\n      }\r\n      if (item.education2) {\r\n        return \"識字未就學\";\r\n        // return \"國小以下\";\r\n      }\r\n      if (item.education3) {\r\n        return \"小學\";\r\n      }\r\n      if (item.education4) {\r\n        return \"初中(職)\";\r\n        // return \"國中\";\r\n      }\r\n      if (item.education5) {\r\n        return \"高中(職)\";\r\n      }\r\n      if (item.education6) {\r\n        return \"大學(專技)以上\";\r\n        // return \"大學/大專\";\r\n      }\r\n      if (item.education7) {\r\n        return \"大學(專技)以上\";\r\n        // return \"大學以上\";\r\n      }\r\n      if (item.education8) {\r\n        return \"其他\";\r\n        // return \"不確定\";\r\n      }\r\n      return \"其他\";\r\n    },\r\n    //輸出Excel檔\r\n    exportExcel() {\r\n      // this.outputConfirming = true;\r\n      this.$confirm(\"確認轉出EXCEL檔案?\").then((res) => {\r\n        if (res) {\r\n          let workbook = XLSX.utils.table_to_book(\r\n            document.getElementById(\"outputtable\")\r\n          );\r\n          let filename = `住民一覽表.xlsx`;\r\n          try {\r\n            // XLSX.writeFile(workbook, \"成本估算單.xlsx\");\r\n            XLSX.writeFile(workbook, filename);\r\n          } catch (e) {\r\n            console.log(e, workbook);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    \r\n    async getUserItems() {\r\n      await this.$api.options(\"user/getAll/\" + this.$store.state.databaseName).then(\r\n        (rs) => {\r\n          this.userItems = rs;\r\n        }\r\n      );\r\n    },\r\n    async getData(tableName) {\r\n      await this.$api.get(tableName).then((rs) => {\r\n        this[tableName + \"Items\"] = rs.map((i) => {\r\n          return {\r\n            u_snkey: i.u_snkey,\r\n            ...JSON.parse(i.datalist),\r\n          };\r\n        });\r\n      });\r\n    },\r\n    //依人名的snkey,取得相對應的表單值\r\n    getByKey(user, tableName) {\r\n      var postData = {\r\n        key: \"u_snkey\",\r\n        value: user.snkey,\r\n      };\r\n\r\n      return this.$api.options(\r\n        \"general/getByKey/\" + this.$store.state.databaseName + \"/\" + tableName,\r\n        postData\r\n      );\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListOutput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserListOutput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UserListOutput.vue?vue&type=template&id=8f7f304a&\"\nimport script from \"./UserListOutput.vue?vue&type=script&lang=js&\"\nexport * from \"./UserListOutput.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAlert,VBtn,VCheckbox,VDataIterator,VIcon,VSimpleTable,VSwitch,VTextField})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateList.vue?vue&type=style&index=0&id=515cc8a7&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MohwStateCheck.vue?vue&type=style&index=0&id=4cac86bc&scoped=true&lang=css&\""],"sourceRoot":""}