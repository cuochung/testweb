(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b10b0c6"],{"06b7":function(t,e,a){"use strict";a("dc22f")},a45e:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adaptlist"},[a("v-card",{staticClass:"mt-2"},[a("v-card-title",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"6"}},[a("h2",{staticClass:"subheading grey--text"},[a("v-icon",{staticClass:"mx-1"},[t._v("fas fa-file-alt")]),a("span",[t._v(" "+t._s(this.$store.state.uData.p_code)+" / "+t._s(this.$store.state.uData.name)+" ")]),a("span",[t._v("入住適應暨心理社會評估")])],1)]),a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-toolbar",{attrs:{dense:""}},[a("v-text-field",{attrs:{"hide-details":"","prepend-icon":"mdi-magnify","single-line":"",label:"搜尋"},on:{keyup:function(e){return e.stopPropagation(),t.search()}},model:{value:t.serachKey,callback:function(e){t.serachKey=e},expression:"serachKey"}}),a("popupadd",{ref:"editProcess",attrs:{viewData:t.viewData},on:{getAllData:t.getAllData},model:{value:t.edititem,callback:function(e){t.edititem=e},expression:"edititem"}})],1)],1)],1)],1),a("v-card-text",[a("v-card",{staticClass:"mt-2"},[a("v-card-text",[a("v-data-iterator",{attrs:{items:t.viewData,"items-per-page":t.itemsPerPage,"footer-props":{itemsPerPageOptions:t.itemsPerPageOptions}},on:{"update:itemsPerPage":function(e){t.itemsPerPage=e},"update:items-per-page":function(e){t.itemsPerPage=e}},scopedSlots:t._u([{key:"default",fn:function(e){return[a("v-simple-table",{staticClass:"mt-2 text-no-wrap",attrs:{"fixed-header":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",{staticClass:"title"},[a("tr",[a("th",{attrs:{rowspan:"3"}}),a("th",{attrs:{rowspan:"2"}},[t._v("評估日期")]),a("th",{attrs:{rowspan:"2"}},[t._v("睡眠")]),a("th",{attrs:{colspan:"6"}},[t._v("營養狀態")]),a("th",{attrs:{colspan:"6"}},[t._v("社會心理")]),a("th",{attrs:{rowspan:"2"}},[t._v("入住適應評估結果")]),a("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("紀錄人")]),a("th",{staticClass:"ced_man_key",attrs:{rowspan:"2"}},[t._v("修改紀錄")])]),a("tr",[a("th",[t._v("營養途徑")]),a("th",[t._v("其他-內容")]),a("th",[t._v("進食型態")]),a("th",[t._v("食量")]),a("th",[t._v("體重")]),a("th",[t._v("BMI")]),a("th",[t._v("表情面容")]),a("th",[t._v("情緒狀態")]),a("th",[t._v("親友聯繫")]),a("th",[t._v("人際互動情形")]),a("th",[t._v("與人相處的行為表現")]),a("th",[t._v("活動參與意願")])])]),a("tbody",t._l(e.items,(function(e,i){return a("tr",{key:i},[a("td",[a("v-menu",{attrs:{transition:"scale-transition","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-btn",t._g({attrs:{color:"primary",dark:""}},i),[t._v("功能")])]}}],null,!0)},[a("v-list",[a("v-list-item",{on:{click:function(a){return t.edit(e.snkey)}}},[a("v-list-item-title",[t._v("修改")])],1),a("v-list-item",{on:{click:function(a){return t.del(e.snkey)}}},[a("v-list-item-title",[t._v("刪除")])],1)],1)],1)],1),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.sleep))]),a("td",[t._v(t._s(e.way))]),a("td",[t._v(t._s(e.way_content))]),a("td",[t._v(t._s(e.state))]),a("td",[t._v(t._s(e.quantity))]),a("td",[t._v(t._s(e.weight))]),a("td",[t._v(t._s(e.bmi))]),a("td",[t._v(t._s(e.expression))]),a("td",[t._v(t._s(e.feeling))]),a("td",[t._v(t._s(e.relatives))]),a("td",[t._v(t._s(e.interactive))]),a("td",[t._v(t._s(e.behavior))]),a("td",[t._v(t._s(e.participate))]),a("td",[t._v(t._s(e.evaluate))]),a("td",[t._v(t._s(e.create_man))]),a("td",[t._v(t._s(e.edit_man))])])})),0)]},proxy:!0}],null,!0)})]}}])})],1)],1)],1)],1)],1)},s=[],o=(a("4de4"),a("caad"),a("4e827"),a("e25e"),a("2532"),a("1276"),a("159b"),a("2909")),r=a("4328"),n=a.n(r),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"adaptadd"},[a("v-dialog",{attrs:{width:"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on;return[a("v-icon",t._g({attrs:{color:"red lighten-2",dark:""},on:{click:t.addProcess}},i),[t._v("mdi-plus-circle")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",{class:t.titleStyle,attrs:{"primary-title":""}},[t._v(t._s(t.title))]),a("v-card-text",[a("v-form",{ref:"form",staticClass:"mt-3"},[a("table",{staticClass:"table table-bordered table-sm bg-light"},[a("tr",[a("td",{staticClass:"form_title align-middle",attrs:{colspan:"4"}},[t._v("評估日期")]),a("td",[a("v-text-field",{attrs:{type:"date",rules:t.emptyRules},model:{value:t.list.date,callback:function(e){t.$set(t.list,"date",e)},expression:"list.date"}})],1)]),a("tr",[a("td",{staticClass:"form_title",attrs:{rowspan:"13"}},[a("span",{staticClass:"vertical-mode"},[t._v("入住適應暨心理社會評估")])]),a("td",{staticClass:"form_title",attrs:{colspan:"2"}},[t._v("睡眠")]),a("td",[t._v("0.正常 1.斷續睡眠 2.失眠 3.日夜顛倒 4.紊亂")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.sleep,expression:"list.sleep"}],staticClass:"form-control",attrs:{id:"sleep",name:"sleep"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"sleep",e.target.multiple?a:a[0])}}},[a("option",[t._v("0.正常")]),a("option",[t._v("1.斷續睡眠")]),a("option",[t._v("2.失眠")]),a("option",[t._v("3.日夜顛倒")]),a("option",[t._v("4.紊亂")])])])]),a("tr",[a("td",{staticClass:"form_title",attrs:{rowspan:"5"}},[t._v("營養狀態")]),a("td",[t._v("營養途徑")]),a("td",[t._v("1.口 2.鼻胃管 3.胃造瘻 4.其他")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.way,expression:"list.way"}],staticClass:"form-control",attrs:{id:"way",name:"way"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"way",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.口")]),a("option",[t._v("2.鼻胃管")]),a("option",[t._v("3.胃造瘻")]),a("option",[t._v("4.其他")])]),"4.其他"==t.list.way?a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.way_content,expression:"list.way_content"}],staticClass:"form-control",attrs:{type:"text",id:"way_content",name:"way_content",placeholder:"內容"},domProps:{value:t.list.way_content},on:{input:function(e){e.target.composing||t.$set(t.list,"way_content",e.target.value)}}}):t._e()])]),a("tr",[a("td",[t._v("進食型態")]),a("td",[t._v("1.一般 2.軟質 3.細碎 4.糊狀 5.自製流質 6.配方流質")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.state,expression:"list.state"}],staticClass:"form-control",attrs:{id:"state",name:"state"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"state",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.一般")]),a("option",[t._v("2.軟質")]),a("option",[t._v("3.細碎")]),a("option",[t._v("4.糊狀")]),a("option",[t._v("5.自製流質")]),a("option",[t._v("6.配方流質")])])])]),a("tr",[a("td",[t._v("食量")]),a("td",[t._v("每餐可進食份量：1.全部 2.約 1/2 3.< 1/4")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.quantity,expression:"list.quantity"}],staticClass:"form-control",attrs:{id:"quantity",name:"quantity"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"quantity",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.全部")]),a("option",[t._v("2.約 1/2")]),a("option",[t._v("3.< 1/4")])])])]),a("tr",[a("td",[t._v("體重")]),a("td",[t._v("( )Kg")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.list.weight,expression:"list.weight"}],staticClass:"form-control",attrs:{type:"text",id:"weight",name:"weight",placeholder:"Kg"},domProps:{value:t.list.weight},on:{input:function(e){e.target.composing||t.$set(t.list,"weight",e.target.value)}}})])]),a("tr",[a("td",[t._v("BMI")]),a("td",[t._v(" 體重(公斤) / 身高 "),a("sup",[t._v("2")]),t._v("(公尺 "),a("sup",[t._v("2")]),t._v(") ")]),a("td",[a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"BMI值",readonly:""},domProps:{value:t.bmi}})])]),a("tr",[a("td",{staticClass:"form_title",attrs:{rowspan:"6"}},[t._v("社會心理")]),a("td",[t._v("表情面容")]),a("td",[t._v("0.平和 1.笑意 2.呆滯 3.愁苦 4.僵硬 5.其他 6.無法評估")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.expression,expression:"list.expression"}],staticClass:"form-control",attrs:{id:"expression",name:"expression"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"expression",e.target.multiple?a:a[0])}}},[a("option",[t._v("0.平和")]),a("option",[t._v("1.笑意")]),a("option",[t._v("2.呆滯")]),a("option",[t._v("3.愁苦")]),a("option",[t._v("4.僵硬")]),a("option",[t._v("5.其他")]),a("option",[t._v("6.無法評估")])])])]),a("tr",[a("td",[t._v("情緒狀態")]),a("td",[t._v("0.平穩 1.低沉 2.高昂 3.緊張 4.焦慮 5.憂鬱 6.躁動 7.無法評估")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.feeling,expression:"list.feeling"}],staticClass:"form-control",attrs:{id:"feeling",name:"feeling"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"feeling",e.target.multiple?a:a[0])}}},[a("option",[t._v("0.平穩")]),a("option",[t._v("1.低沉")]),a("option",[t._v("2.高昂")]),a("option",[t._v("3.緊張")]),a("option",[t._v("4.焦慮")]),a("option",[t._v("5.憂鬱")]),a("option",[t._v("6.躁動")]),a("option",[t._v("7.無法評估")])])])]),a("tr",[a("td",[t._v("親友聯繫")]),a("td",[t._v("1.經常有聯繫(探訪 > 每週1次) 2.偶爾有聯繫(探訪 > 每月1次) 3.鮮少有聯繫 4.其他")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.relatives,expression:"list.relatives"}],staticClass:"form-control",attrs:{id:"relatives",name:"relatives"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"relatives",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.經常有聯繫")]),a("option",[t._v("2.偶爾有聯繫")]),a("option",[t._v("3.鮮少有聯繫")]),a("option",[t._v("4.其他")])])])]),a("tr",[a("td",[t._v("人際互動情形")]),a("td",[t._v("1.主動與他人互動 2.引導下可與他人互動 3.不願與他人互動 4.其他")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.interactive,expression:"list.interactive"}],staticClass:"form-control",attrs:{id:"interactive",name:"interactive"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"interactive",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.主動與他人互動")]),a("option",[t._v("2.引導下可與他人互動")]),a("option",[t._v("3.不願與他人互動")]),a("option",[t._v("4.其他")])])])]),a("tr",[a("td",[t._v("與人相處的行為表現")]),a("td",[t._v("1.和睦 2.平淡 3.疏離 4.言語攻擊 5.身體攻擊 6.其他")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.behavior,expression:"list.behavior"}],staticClass:"form-control",attrs:{id:"behavior",name:"behavior"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"behavior",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.和睦")]),a("option",[t._v("2.平淡")]),a("option",[t._v("3.疏離")]),a("option",[t._v("4.言語攻擊")]),a("option",[t._v("5.身體攻擊")]),a("option",[t._v("6.其他")])])])]),a("tr",[a("td",[t._v("活動參與意願")]),a("td",[t._v("1.主動投入 2.引導下可參與 3.被動配合 4.拒絕參與 5.其他")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.participate,expression:"list.participate"}],staticClass:"form-control",attrs:{id:"participate",name:"participate"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"participate",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.主動投入")]),a("option",[t._v("2.引導下可參與")]),a("option",[t._v("3.被動配合")]),a("option",[t._v("4.拒絕參與")]),a("option",[t._v("5.其他")])])])]),a("tr",[a("td",{staticClass:"form_title",attrs:{colspan:"2"}},[t._v("入住適應評估結果")]),a("td",[t._v("1.良好 2.平順 3.尚可 4.不佳")]),a("td",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.list.evaluate,expression:"list.evaluate"}],staticClass:"form-control",attrs:{id:"evaluate",name:"evaluate"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.list,"evaluate",e.target.multiple?a:a[0])}}},[a("option",[t._v("1.良好")]),a("option",[t._v("2.平順")]),a("option",[t._v("3.尚可")]),a("option",[t._v("4.不佳")])])])])])])],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),"add"==t.processType?a("v-btn",{staticClass:"primary",on:{click:t.addOK}},[t._v("確認新增")]):t._e(),"edit"==t.processType?a("v-btn",{staticClass:"success",on:{click:t.editOK}},[t._v("確認修改")]):t._e()],1)],1)],1)],1)},c=[],v=(a("a4d3"),a("b680"),a("e439"),a("dbb4"),a("b64b"),a("ade3"));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(v["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={data:function(){return{dialog:!1,list:{},oldList:{},processType:"",title:"",titleStyle:"",emptyRules:[function(t){return!!t||"不可空白"}]}},props:["edititem","viewData"],mounted:function(){this.$on("fromParent",(function(){this.dialog=!0,this.editProcess()}))},model:{prop:"edititem"},updated:function(){},watch:{edititem:[{handler:"editProcess"}]},computed:{bmi:function(){console.log("bmi");var t=0,e=this.$store.state.uData.height,a=this.list.weight;return t=parseInt(a)/(parseInt(e)/100*(parseInt(e)/100)),this.list.bmi=t.toFixed(2),this.list.bmi}},methods:{addProcess:function(){this.processType="add",this.title="新增資料",this.titleStyle="font-weight-black error lighten-2",this.list=p({},this.viewData[0]),this.list.snkey="",this.list.date="",this.list.edit_man=""},editProcess:function(){this.processType="edit",this.title="修改資料",this.titleStyle="font-weight-black success lighten-2",this.oldList=this.edititem,this.list=p({},this.edititem)},addOK:function(){var t=this;if(this.$refs.form.validate())this.$store.commit("getTime"),this.list.u_snkey=this.$store.state.uData.snkey,this.list["create_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")",this.axios.post("general/add/"+this.$store.state.databaseName+"/adapt",n.a.stringify(this.list)).then((function(e){if(1==e.data.state){var a={msg:"已新增",type:!0,theme:"error"};t.$store.commit("snackbar",a),t.list={},t.dialog=!1,t.$emit("getAllData")}}));else{var e={msg:"資料輸入不完全!!請重新確認!!",type:!0,theme:"warning"};this.$store.commit("snackbar",e)}},editOK:function(){var t=this;this.$refs.form.validate()&&(this.$store.commit("getTime"),this.list["edit_man"]=this.$store.state.pData.username+"("+this.$store.state.time+")",this.axios.post("general/edit/"+this.$store.state.databaseName+"/adapt",n.a.stringify(this.list)).then((function(e){if(1==e.data.state){var a={msg:"已修改",type:!0,theme:"success"};for(var i in t.$store.commit("snackbar",a),t.dialog=!1,t.list)t.oldList[i]=t.list[i]}})))}}},m=u,_=(a("d340"),a("2877")),f=a("6544"),h=a.n(f),g=a("8336"),y=a("b0af"),w=a("99d9"),b=a("169a"),x=a("ce7e"),C=a("4bd4"),$=a("132d"),k=a("2fa4"),P=a("8654"),D=Object(_["a"])(m,l,c,!1,null,"38456813",null),O=D.exports;h()(D,{VBtn:g["a"],VCard:y["a"],VCardActions:w["b"],VCardText:w["d"],VCardTitle:w["e"],VDialog:b["a"],VDivider:x["a"],VForm:C["a"],VIcon:$["a"],VSpacer:k["a"],VTextField:P["a"]});var V={components:{popupadd:O},data:function(){return{items:[],viewData:[],serachKey:"",edititem:{},itemsPerPageOptions:[10,20,30],itemsPerPage:10}},mounted:function(){this.getAllData()},methods:{getAllData:function(){var t=this,e={key:"u_snkey",value:this.$store.state.uData.snkey};this.axios.post("general/getByKey/"+this.$store.state.databaseName+"/adapt",n.a.stringify(e)).then((function(e){t.items=t.viewData=e.data,t.sortBy()}))},sortBy:function(){this.viewData=this.viewData.sort((function(t,e){return parseInt(t.date)<parseInt(e.date)?1:-1}))},edit:function(t){var e=this;this.viewData.some((function(a,i){a.snkey==t&&(e.edititem=e.viewData[i],e.$refs.editProcess.$emit("fromParent"))}))},del:function(t){var e=this,a={};this.viewData.some((function(i,s){i.snkey==t&&(a=e.viewData[s])})),this.$confirm("確認刪除?").then((function(t){e.$store.commit("getTime");var i={snkey:a.snkey,info:e.$store.state.pData.username+"("+e.$store.state.time+")("+a.snkey+")("+a.date+")"};t&&e.axios.post("general/del/"+e.$store.state.databaseName+"/adapt",n.a.stringify(i)).then((function(t){if(1==t.data.state){var a={msg:"已刪除",type:!0,theme:"success"};e.$store.commit("snackbar",a),e.getAllData()}}))}))},search:function(){var t=this.serachKey.split(" "),e=Object(o["a"])(this.items),a="";t.forEach((function(t){""!=t&&(e=e.filter((function(e){if(a=JSON.stringify(e).toUpperCase(),a.includes(t.toUpperCase()))return e})))})),this.viewData=e}}},A=V,N=(a("06b7"),a("62ad")),T=a("c377"),j=a("8860"),I=a("da13"),S=a("5d23"),K=a("e449"),B=a("0fd9"),q=a("1f4f"),L=a("71d9"),E=Object(_["a"])(A,i,s,!1,null,null,null);e["default"]=E.exports;h()(E,{VBtn:g["a"],VCard:y["a"],VCardText:w["d"],VCardTitle:w["e"],VCol:N["a"],VDataIterator:T["a"],VIcon:$["a"],VList:j["a"],VListItem:I["a"],VListItemTitle:S["k"],VMenu:K["a"],VRow:B["a"],VSimpleTable:q["a"],VTextField:P["a"],VToolbar:L["a"]})},d340:function(t,e,a){"use strict";a("e705")},dc22f:function(t,e,a){},e705:function(t,e,a){}}]);
//# sourceMappingURL=chunk-1b10b0c6.c2e32ec2.js.map