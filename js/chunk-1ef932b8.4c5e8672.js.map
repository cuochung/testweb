{"version":3,"sources":["webpack:///./src/views/print/AccountingListPrint.vue?a059","webpack:///./src/views/print/AccountingListPrint.vue?a473","webpack:///src/views/print/AccountingListPrint.vue","webpack:///./src/views/print/AccountingListPrint.vue?d1d4","webpack:///./src/views/print/AccountingListPrint.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","cData","company_name","on","$event","stopPropagation","exportExcel","month","accountings","length","payments","staticStyle","attrs","_m","_l","user","index","key","p_code","name","class","fee1","_f","fee2","fee3","fee4","fee5","fee6","fee7","fee8","fee9","fee10","fee11","fee12","fee13","filterTotal","filterpaid","staticRenderFns","data","users","filters","filtermoney","undefined","num","currency","computed","formData","newData","map","sort","a","b","created","JSON","parse","sessionStorage","getItem","printData","$route","query","filter","mounted","getData","methods","axios","paidData","i","reduce","parseInt","total","item","$confirm","then","res","filterCheckFee","forEach","col","filterAllTotal","total_price","filterFixFee","matchData","user_snkey","snkey","includes","value","filterOtherFee","MatchItmes","filterPayment","find","component","VCardText","VCard"],"mappings":"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","file":"js/chunk-1ef932b8.4c5e8672.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingListPrint.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accountinglistprint\"},[_c('v-card-text',{staticClass:\"mt-3\"},[_c('h3',[_vm._v(_vm._s(_vm.cData.company_name))]),_c('button',{staticClass:\"float-right btn btn-success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.exportExcel($event)}}},[_c('span',{staticClass:\"fas fa-file-excel\"})]),_c('div',{staticClass:\"text-center border-bottom my-2\"},[_c('h1',[_c('strong',[_vm._v(_vm._s(_vm.month)+\"月份 照護費收費一覽表\")])])])]),(_vm.accountings.length && _vm.payments.length)?_c('table',{staticStyle:{\"width\":\"100%\"},attrs:{\"id\":\"outputtable\",\"border\":\"2px solid #00\"}},[_vm._m(0),_c('tbody',_vm._l((_vm.formData),function(user,index){return _c('tr',{key:index},[_c('td',{staticClass:\"text-center\"},[_vm._v(_vm._s(user.p_code))]),_c('td',[_vm._v(_vm._s(user.name))]),_c('td',{class:[{ 'red--text': user.fee1 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee1))+\" \")]),_c('td',{class:[{ 'red--text': user.fee2 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee2))+\" \")]),_c('td',{class:[{ 'red--text': user.fee3 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee3))+\" \")]),_c('td',{class:[{ 'red--text': user.fee4 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee4))+\" \")]),_c('td',{class:[{ 'red--text': user.fee5 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee5))+\" \")]),_c('td',{class:[{ 'red--text': user.fee6 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee6))+\" \")]),_c('td',{class:[{ 'red--text': user.fee7 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee7))+\" \")]),_c('td',{class:[{ 'red--text': user.fee8 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee8))+\" \")]),_c('td',{class:[{ 'red--text': user.fee9 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee9))+\" \")]),_c('td',{class:[{ 'red--text': user.fee10 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee10))+\" \")]),_c('td',{class:[{ 'red--text': user.fee11 < 0 }]},[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")(user.fee11))+\" \")]),_c('td',{class:[{ 'red--text': user.fee12 < 0 }]},[_vm._v(_vm._s(user.fee12))]),_c('td',{class:[{ 'red--text': user.fee13 < 0 }]},[_vm._v(_vm._s(user.fee13))])])}),0),_c('tbody',{staticClass:\"grey lighten-2 font-weight-bold\"},[_c('tr',[_c('td',{attrs:{\"colspan\":\"2\"}},[_vm._v(\"合計\")]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee1\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee2\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee3\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee4\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee5\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee6\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee7\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee8\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee9\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee10\"))))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(_vm.filterTotal(\"fee11\"))))]),_c('td'),_c('td')]),_c('tr',[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\"已繳款-總計: \"+_vm._s(_vm._f(\"filtermoney\")(_vm.filterpaid())))]),_c('td',{attrs:{\"colspan\":\"12\"}})]),_c('tr',[_c('td',{attrs:{\"colspan\":\"3\"}},[_vm._v(\" 未繳款-總計: \"+_vm._s(_vm._f(\"filtermoney\")((_vm.filterTotal(\"fee11\") - _vm.filterpaid())))+\" \")]),_c('td',{attrs:{\"colspan\":\"12\"}})])])]):_c('div',{staticClass:\"text-center\"},[_c('h1',[_vm._v(\"資料計算中...\")])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tbody',{staticClass:\"font-weight-bold\"},[_c('tr',[_c('td',{staticClass:\"text-center\"},[_vm._v(\"病歷號\")]),_c('td',[_vm._v(\"姓名\")]),_c('td',[_vm._v(\"基本照護費\")]),_c('td',[_vm._v(\"NG\")]),_c('td',[_vm._v(\"FOLEY\")]),_c('td',[_vm._v(\"尿布費\")]),_c('td',[_vm._v(\"TR/呼吸器\")]),_c('td',[_vm._v(\"復健\")]),_c('td',[_vm._v(\"電費\")]),_c('td',[_vm._v(\"代支\")]),_c('td',[_vm._v(\"入住保証金\")]),_c('td',[_vm._v(\"退住保証金\")]),_c('td',[_vm._v(\"總額\")]),_c('td',[_vm._v(\"收款日期\")]),_c('td',[_vm._v(\"備註\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"accountinglistprint\">\r\n    <!-- <pre>{{payments}}</pre> -->\r\n    <v-card-text class=\"mt-3\">\r\n      <h3>{{ cData.company_name }}</h3>\r\n      <button class=\"float-right btn btn-success\" @click.stop=\"exportExcel\">\r\n        <span class=\"fas fa-file-excel\"></span>\r\n      </button>\r\n\r\n      <div class=\"text-center border-bottom my-2\">\r\n        <h1>\r\n          <strong>{{ month }}月份 照護費收費一覽表</strong>\r\n        </h1>\r\n      </div>\r\n    </v-card-text>\r\n\r\n\r\n\r\n    <table id=\"outputtable\" border=\"2px solid #00\" style=\"width: 100%\" v-if=\"accountings.length && payments.length\">\r\n      <tbody class=\"font-weight-bold\">\r\n        <tr>\r\n          <td class=\"text-center\">病歷號</td>\r\n          <td>姓名</td>\r\n\r\n          <td>基本照護費</td>\r\n          <td>NG</td>\r\n          <td>FOLEY</td>\r\n          <td>尿布費</td>\r\n          <td>TR/呼吸器</td>\r\n          <td>復健</td>\r\n          <td>電費</td>\r\n\r\n          <td>代支</td>\r\n\r\n          <td>入住保証金</td>\r\n          <td>退住保証金</td>\r\n          <td>總額</td>\r\n          <td>收款日期</td>\r\n          <td>備註</td>\r\n        </tr>\r\n      </tbody>\r\n\r\n      <tbody>\r\n        <tr v-for=\"(user, index) in formData\" :key=\"index\">\r\n          <td class=\"text-center\">{{ user.p_code }}</td>\r\n          <td>{{ user.name }}</td>\r\n\r\n          <td :class=\"[{ 'red--text': user.fee1 < 0 }]\">\r\n            {{ user.fee1 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee2 < 0 }]\">\r\n            {{ user.fee2 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee3 < 0 }]\">\r\n            {{ user.fee3 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee4 < 0 }]\">\r\n            {{ user.fee4 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee5 < 0 }]\">\r\n            {{ user.fee5 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee6 < 0 }]\">\r\n            {{ user.fee6 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee7 < 0 }]\">\r\n            {{ user.fee7 | filtermoney }}\r\n          </td>\r\n\r\n          <td :class=\"[{ 'red--text': user.fee8 < 0 }]\">\r\n            {{ user.fee8 | filtermoney }}\r\n          </td>\r\n\r\n          <td :class=\"[{ 'red--text': user.fee9 < 0 }]\">\r\n            {{ user.fee9 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee10 < 0 }]\">\r\n            {{ user.fee10 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee11 < 0 }]\">\r\n            {{ user.fee11 | filtermoney }}\r\n          </td>\r\n          <td :class=\"[{ 'red--text': user.fee12 < 0 }]\">{{ user.fee12 }}</td>\r\n          <td :class=\"[{ 'red--text': user.fee13 < 0 }]\">{{ user.fee13 }}</td>\r\n        </tr>\r\n      </tbody>\r\n\r\n      <tbody class=\"grey lighten-2 font-weight-bold\">\r\n        <tr>\r\n          <td colspan=\"2\">合計</td>\r\n\r\n          <td>{{ filterTotal(\"fee1\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee2\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee3\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee4\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee5\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee6\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee7\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee8\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee9\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee10\") | filtermoney }}</td>\r\n          <td>{{ filterTotal(\"fee11\") | filtermoney }}</td>\r\n\r\n          <td></td>\r\n          <td></td>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"3\">已繳款-總計: {{ filterpaid() | filtermoney }}</td>\r\n          <td colspan=\"12\"></td>\r\n        </tr>\r\n        <tr>\r\n          <td colspan=\"3\">\r\n            未繳款-總計:\r\n            {{ (filterTotal(\"fee11\") - filterpaid()) | filtermoney }}\r\n          </td>\r\n          <td colspan=\"12\"></td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n\r\n    <div v-else class=\"text-center\">\r\n      <h1>資料計算中...</h1>\r\n    </div>\r\n    <!-- <pre>{{users}}</pre> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport XLSX from \"xlsx\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      cData: {},\r\n      month: \"\",\r\n      users: [],\r\n      accountings: [],\r\n      payments: [],\r\n      // formData: [],\r\n    };\r\n  },\r\n\r\n  filters: {\r\n    filtermoney(num) {\r\n      if (num == undefined) {\r\n        return \"\";\r\n      }\r\n      const n = Number(num);\r\n      return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\r\n        const currency =\r\n          i && c !== \".\" && (a.length - i) % 3 === 0\r\n            ? `, ${c}`.replace(/\\s/g, \"\")\r\n            : c;\r\n        return currency;\r\n      })}`;\r\n    },\r\n  },\r\n\r\n  computed:{\r\n    formData() {\r\n      var newData = this.users.map((user) => {\r\n        return {\r\n          p_code: user.p_code,\r\n          name: user.name,\r\n          fee1: this.filterFixFee(user.snkey, \"基本照護費\"),\r\n          fee2: this.filterFixFee(user.snkey, \"鼻胃管照護費\"),\r\n          fee3: this.filterFixFee(user.snkey, \"尿管照護費\"),\r\n          fee4: this.filterFixFee(user.snkey, \"尿布\"),\r\n          fee5: this.filterFixFee(user.snkey, \"氣切\"),\r\n          fee6: this.filterFixFee(user.snkey, \"復健\"),\r\n          fee7: this.filterFixFee(user.snkey, \"特別約定事項-1\"),\r\n          fee8: this.filterOtherFee(user.snkey),\r\n          fee9: this.filterFixFee(user.snkey, \"入住保證金\"),\r\n          fee10: this.filterFixFee(user.snkey, \"退住保證金\"),\r\n          fee11: this.filterPayment(user.snkey, \"total_price\"),\r\n          fee12: this.filterPayment(user.snkey, \"paid_date\"),\r\n          fee13: this.filterPayment(user.snkey, \"note\"),\r\n        };\r\n      });\r\n\r\n      newData = newData.sort(function (a, b) {\r\n        return a.fee12 > b.fee12 ? 1 : -1;\r\n      });\r\n      return newData.sort(function (a, b) {\r\n        return a.fee12 < b.fee12 ? 1 : -1;\r\n      });\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.cData = JSON.parse(sessionStorage.getItem(\"cData\"));\r\n    // var printData = JSON.parse(sessionStorage.getItem(\"printData\"));\r\n    var printData = JSON.parse(this.$route.query.data);\r\n    this.month = printData.month;\r\n    this.users = printData.users.filter(i=>!!i.bed_name);  //2021/6/7 只顯示入住中的 bed_name有值的才顯示\r\n    \r\n  },\r\n\r\n  mounted() {\r\n    this.getData();\r\n  },\r\n\r\n  methods: {\r\n    //取得相關使用資料\r\n    getData() {\r\n      //取得指定月份的會計資料,應收帳款資料\r\n      this.axios\r\n        .post(\r\n          \"accounting/getall/\" + this.$store.state.databaseName + \"/accounting\"\r\n        )\r\n        .then((rs) => {\r\n          this.accountings = rs.data.filter((i) => {\r\n            return i.date.includes(this.month);\r\n          });\r\n\r\n          this.axios\r\n            .post(\r\n              \"general/getall/\" + this.$store.state.databaseName + \"/payment\"\r\n            )\r\n            .then((rs) => {\r\n              this.payments = rs.data.filter((i) => {\r\n                return i.month.includes(this.month);\r\n              });\r\n            });\r\n        });\r\n    },\r\n    filterpaid() {\r\n      var paidData = this.formData.filter((i) => {\r\n        return i.fee12 != \"\" && i.fee12 != undefined;\r\n      });\r\n      return paidData.reduce((total, item) => {\r\n        return parseInt(total) + parseInt(item.fee11);\r\n      }, 0);\r\n    },\r\n    //創建表單內容\r\n    // createFormData() {\r\n    //   var newData = this.users.map((user) => {\r\n        \r\n    //     return {\r\n    //       p_code: user.p_code,\r\n    //       name: user.name,\r\n    //       fee1: this.filterFixFee(user.snkey, \"基本照護費\"),\r\n    //       fee2: this.filterFixFee(user.snkey, \"鼻胃管照護費\"),\r\n    //       fee3: this.filterFixFee(user.snkey, \"尿管照護費\"),\r\n    //       fee4: this.filterFixFee(user.snkey, \"尿布\"),\r\n    //       fee5: this.filterFixFee(user.snkey, \"氣切\"),\r\n    //       fee6: this.filterFixFee(user.snkey, \"復健\"),\r\n    //       fee7: this.filterFixFee(user.snkey, \"特別約定事項-1\"),\r\n    //       fee8: this.filterOtherFee(user.snkey),\r\n    //       fee9: this.filterFixFee(user.snkey, \"入住保證金\"),\r\n    //       fee10: this.filterFixFee(user.snkey, \"退住保證金\"),\r\n    //       fee11: this.filterPayment(user.snkey, \"total_price\"),\r\n    //       fee12: this.filterPayment(user.snkey, \"paid_date\"),\r\n    //       fee13: this.filterPayment(user.snkey, \"note\"),\r\n    //     };\r\n    //   });\r\n\r\n    //   newData = newData.sort(function (a, b) {\r\n    //     return a.fee12 > b.fee12 ? 1 : -1;\r\n    //   });\r\n    //   this.formData = newData.sort(function (a, b) {\r\n    //     return a.fee12 < b.fee12 ? 1 : -1;\r\n    //   });\r\n    // },\r\n    exportExcel() {\r\n      //輸出excel檔\r\n      this.$confirm(\"確認輸出Excel檔?\").then((res) => {\r\n        if (res) {\r\n          let workbook = XLSX.utils.table_to_book(\r\n            document.getElementById(\"outputtable\")\r\n          );\r\n          let filename = `${this.month} 月份 照護費收費一覽表.xlsx`;\r\n          try {\r\n            // XLSX.writeFile(workbook, \"成本估算單.xlsx\");\r\n            XLSX.writeFile(workbook, filename);\r\n          } catch (e) {\r\n            // console.log(e, workbook);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    //拿來check資料用的,平常無功能\r\n    filterCheckFee() {\r\n      var matchData = this.users.filter((i) => {\r\n        return i.name == \"張秀正\";\r\n      });\r\n\r\n      //  console.log(matchData)\r\n    },\r\n    filterTotal(col) {\r\n      var total = 0;\r\n      this.formData.forEach((item) => {\r\n        if (item[col] !== undefined) {\r\n          total = parseInt(total) + parseInt(item[col]);\r\n        }\r\n      });\r\n      return total;\r\n    },\r\n    filterAllTotal() {\r\n      return this.payments.reduce((total, item) => {\r\n        return parseInt(total) + parseInt(item.total_price);\r\n      }, 0);\r\n    },\r\n    filterFixFee(snkey, value) {\r\n      var matchData = this.accountings.filter((i) => {\r\n        // console.log(i);\r\n        if (i.name != null) {\r\n          return i.user_snkey == snkey && i.name.includes(value);\r\n        } else {\r\n          // console.log(i);\r\n        }\r\n      });\r\n\r\n      if (matchData.length > 0) {\r\n        return matchData.reduce((total, item) => {\r\n          return (\r\n            parseInt(total) + parseInt(item.price) * parseInt(item.quantity)\r\n          );\r\n        }, 0);\r\n      }\r\n\r\n      // if (matchData != undefined) {\r\n      //    return parseInt(matchData.price) * parseInt(matchData.quantity);\r\n      // }\r\n    },\r\n    filterOtherFee(snkey) {\r\n      var MatchItmes = [\r\n        \"照護費\",\r\n        \"鼻胃管照護費\",\r\n        \"尿管照護費\",\r\n        \"尿布、小尿片(月)\",\r\n        \"氣切\",\r\n        \"復健\",\r\n        \"特別約定事項-1\",\r\n        \"院外復健\",\r\n        \"院內復健\",\r\n        \"復健 1 對 1\",\r\n      ];\r\n      // console.log(\"user_snkey:\", snkey, this.accountings);\r\n      var matchData = this.accountings.filter((i) => {\r\n        if (i.name != null) {\r\n          return i.user_snkey == snkey && !MatchItmes.includes(i.name);\r\n        } else {\r\n          // console.log(i);\r\n        }\r\n      });\r\n\r\n      // if (snkey == '36'){\r\n      //   console.log(matchData);\r\n      // }\r\n\r\n      if (matchData.length > 0) {\r\n        return matchData.reduce((total, item) => {\r\n          return (\r\n            parseInt(total) + parseInt(item.price) * parseInt(item.quantity)\r\n          );\r\n        }, 0);\r\n      }\r\n    },\r\n    filterPayment(snkey, key) {\r\n      var matchData = this.payments.find((i) => {\r\n        return i.user_snkey == snkey;\r\n      });\r\n\r\n      if (matchData != undefined) {\r\n        if (key == \"paid_date\") {\r\n          if (matchData[key] == \"0000-00-00\") {\r\n            return \"\";\r\n          } else {\r\n            return matchData[key];\r\n          }\r\n        } else {\r\n          return matchData[key];\r\n        }\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.accountinglistprint {\r\n  @import \"node_modules/bootstrap/scss/bootstrap\";\r\n  @import \"node_modules/bootstrap-vue/src/index.scss\";\r\n\r\n  .form_title {\r\n    font-size: 1.2rem;\r\n    // text-align: center;\r\n    font-family: \"微軟正黑體\";\r\n  }\r\n\r\n  td {\r\n    font-size: 1rem;\r\n    // border:1px #000000 solid;\r\n  }\r\n\r\n  .vertical-mode {\r\n    writing-mode: tb-rl;\r\n    -webkit-writing-mode: vertical-rl;\r\n    writing-mode: vertical-rl;\r\n    white-space: nowrap;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingListPrint.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingListPrint.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountingListPrint.vue?vue&type=template&id=af8abd74&\"\nimport script from \"./AccountingListPrint.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountingListPrint.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountingListPrint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCardText } from 'vuetify/lib/components/VCard';\ninstallComponents(component, {VCardText})\n"],"sourceRoot":""}