{"version":3,"sources":["webpack:///./src/components/FeeList.vue?c16f","webpack:///./src/components/FeeList.vue?885a","webpack:///src/components/FeeList.vue","webpack:///./src/components/FeeList.vue?0798","webpack:///./src/components/FeeList.vue","webpack:///./src/views/main/AccountingList.vue?2b40","webpack:///./node_modules/dayjs/dayjs.min.js","webpack:///./src/views/main/AccountingSearch.vue?4bc1","webpack:///./src/views/main/PaymentSearch.vue?b16a","webpack:///./src/views/main/AccountingList.vue?c480","webpack:///./src/views/main/AccountingAdd.vue?ed37","webpack:///src/views/main/AccountingAdd.vue","webpack:///./src/views/main/AccountingAdd.vue?d3ea","webpack:///./src/views/main/AccountingAdd.vue","webpack:///./src/views/main/PaymentAdd.vue?21cd","webpack:///src/views/main/PaymentAdd.vue","webpack:///./src/views/main/PaymentAdd.vue?dbcc","webpack:///./src/views/main/PaymentAdd.vue","webpack:///./src/views/main/AccountingSearch.vue?6cfb","webpack:///src/views/main/AccountingSearch.vue","webpack:///./src/views/main/AccountingSearch.vue?f4cf","webpack:///./src/views/main/AccountingSearch.vue","webpack:///./src/views/main/PaymentSearch.vue?66d6","webpack:///src/views/main/PaymentSearch.vue","webpack:///./src/views/main/PaymentSearch.vue?94be","webpack:///./src/views/main/PaymentSearch.vue","webpack:///src/views/main/AccountingList.vue","webpack:///./src/views/main/AccountingList.vue?d8f3","webpack:///./src/views/main/AccountingList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","ref","on","_g","enterProcess","_v","model","value","callback","$$v","dialog","expression","class","titleStyle","_s","title","emptyRules","list","$set","kindItems","directives","name","rawName","editMode","addOK","editOK","cancelEditMode","_l","item","i","$event","stopPropagation","enterEditMode","domProps","kind","unit","price","del","staticRenderFns","data","items","computed","filterItems","str","filter","JSON","stringify","toUpperCase","includes","mounted","getAllData","methods","axios","sortBy","sort","a","b","enterEdit","$refs","$emit","form","validate","$store","commit","$confirm","then","delData","delman","postData","snkey","tablename","info","res","resetValidation","component","VBtn","VCard","VCardActions","VCardText","VCardTitle","VCol","VCombobox","VDialog","VDivider","VForm","VIcon","VList","VListItem","VListItemContent","VListItemGroup","VListItemTitle","VRow","VSheet","VSpacer","VTextField","t","n","module","exports","e","r","s","u","o","h","f","c","String","length","Array","join","d","z","utcOffset","Math","abs","floor","m","year","month","clone","add","Number","ceil","p","M","y","w","D","ms","Q","toLowerCase","replace","$","weekdays","split","months","l","v","g","format","pl","date","locale","$L","utc","$u","$offset","parse","prototype","$d","Date","NaN","test","match","UTC","init","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","toString","isSame","startOf","endOf","isAfter","isBefore","$g","set","day","hour","minute","second","millisecond","unix","valueOf","getTime","toDate","apply","slice","$locale","weekStart","min","daysInMonth","get","round","subtract","substr","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","A","mm","ss","SSS","Z","getTimezoneOffset","diff","toJSON","toISOString","toUTCString","extend","isDayjs","en","Ls","changecolset","nowmonth","enterPaymentSearch","enterSearch","goPrint","printList","cloneFee","staticStyle","serachKey","getUserAccounting","bed_name","p_code","_e","colset","selectUser","Object","keys","leaveOut","updateUser","nopaid","index","enterEditPayment","_f","total_price","paid_price","note","proxy","finishEditPayment","monthfilter","finishAdd","finishEdit","namefilter","selectedName","setPrice","setSameKindPrice","finishDel","start_day","end_day","quantity","create_man","edit_man","enterAdd","titleClass","process","feeItems","getFeeData","newUser","components","oldList","nowDay","firstDay","lastDay","updated","$on","feeArray","pop","VAutocomplete","VCheckbox","total_pay","paid_date","total","parseInt","paid_price_cash","paid_price_check","paid_price_remit","disViewKey","searchfilter","itemsPerPage","itemsPerPageOptions","props","user_p_code","user_name","matchData","reduce","prev","element","diskeys","VDataIterator","VMenu","VSimpleTable","VToolbar","filterTotal","sortItems","sortKey","feelist","AccountingAdd","PaymentAdd","accountingsearch","paymentsearch","nowday","accountingItems","paymentItems","matchListAccountings","matchListPayments","filters","filtermoney","currency","newArr","Set","forEach","watch","rs","val","some","fee_snkey","promise_fee","auth","state","pData","newItem","printData","users","window","open","routeData","href","$router","push","sortBybedname","getAccounting","computeMonthTotal","monthArr","map","uniqArray","monthGroup","monthData","user_snkey","getPayment","checkPayment","counts","rebuildDay","rsData","createDate","feeitem","feeDay","newFee","toFixed","postAccountingData","vm","getfeeItems","accountingItem","out_date","console","log","startDay","endDay","FeeDays","margin_date","margin","VAlert","VListItemIcon","VListItemSubtitle","VSelect"],"mappings":"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","file":"js/chunk-0bc4d7e8.fec5c944.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeeList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"feelist\"},[_c('v-dialog',{attrs:{\"width\":\"90%\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"brown\",\"dark\":\"\",\"large\":\"\"},on:{\"click\":_vm.enterProcess}},on),[_vm._v(\"mdi-cog-box\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{class:_vm.titleStyle,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-text-field',{attrs:{\"prepend-icon\":\"mdi-cash-usd-outline\",\"label\":\"費用名稱 or 搜尋\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", $$v)},expression:\"list.name\"}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-combobox',{attrs:{\"items\":_vm.kindItems,\"label\":\"種類\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.kind),callback:function ($$v) {_vm.$set(_vm.list, \"kind\", $$v)},expression:\"list.kind\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":\"單位\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.unit),callback:function ($$v) {_vm.$set(_vm.list, \"unit\", $$v)},expression:\"list.unit\"}})],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-text-field',{attrs:{\"label\":\"費用\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.price),callback:function ($$v) {_vm.$set(_vm.list, \"price\", $$v)},expression:\"list.price\"}})],1)],1)],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"primary\",attrs:{\"block\":\"\"},on:{\"click\":_vm.addOK}},[_vm._v(\"確認新增\")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"success\",attrs:{\"block\":\"\"},on:{\"click\":_vm.editOK}},[_vm._v(\"確認修改\")]),_c('v-btn',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.editMode),expression:\"editMode\"}],staticClass:\"error mt-1\",attrs:{\"block\":\"\"},on:{\"click\":_vm.cancelEditMode}},[_vm._v(\"取消修改\")])],1)],1)],1),_c('v-card',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.editMode),expression:\"!editMode\"}],staticClass:\"my-2\"},[_c('v-card-text',[_c('v-sheet',{staticClass:\"text-center pa-2\",attrs:{\"color\":\"green lighten-3\",\"outlined\":\"\"}},[_c('h3',{staticClass:\"white--text\"},[_vm._v(\"已建構費用列表(點選可修改)\")])]),_c('v-list',{staticClass:\"success font-weight-black\"},[_c('v-list-item-group',[_c('v-list-item',[_c('v-list-item-content',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-list-item-title',[_vm._v(\"名稱\")])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-list-item-title',[_vm._v(\"種類\")])],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-list-item-title',[_vm._v(\"單位\")])],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-list-item-title',[_vm._v(\"費用\")])],1)],1)],1)],1)],1)],1),_c('v-list',[_c('v-list-item-group',_vm._l((_vm.filterItems),function(item,i){return _c('v-list-item',{key:i},[_c('v-list-item-content',{on:{\"click\":function($event){$event.stopPropagation();return _vm.enterEditMode(item)}}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"5\"}},[_c('v-list-item-title',{domProps:{\"textContent\":_vm._s(item.name)}})],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-list-item-title',[_vm._v(_vm._s(item.kind))])],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-list-item-title',[_vm._v(_vm._s(item.unit))])],1),_c('v-col',{attrs:{\"cols\":\"2\"}},[_c('v-list-item-title',[_vm._v(\"$\"+_vm._s(item.price))])],1)],1)],1),_c('v-icon',{attrs:{\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.del(item)}}},[_vm._v(\"mdi-close\")])],1)}),1)],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"feelist\">\r\n    <v-dialog v-model=\"dialog\" width=\"90%\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"brown\" dark large v-on=\"on\" @click=\"enterProcess\">mdi-cog-box</v-icon>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title :class=\"titleStyle\" primary-title>{{title}}</v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-form ref=\"form\" class=\"mt-3\">\r\n            <v-row>\r\n              <v-col cols=\"12\">\r\n                <v-row>\r\n                  <v-col cols=\"5\">\r\n                    <v-text-field\r\n                      prepend-icon=\"mdi-cash-usd-outline\"\r\n                      label=\"費用名稱 or 搜尋\"\r\n                      v-model=\"list.name\"\r\n                      :rules=\"emptyRules\"\r\n                    ></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"3\">\r\n                    <!-- <v-text-field label=\"種類\" v-model=\"list.kind\" :rules=\"emptyRules\"></v-text-field> -->\r\n                    <v-combobox :items=\"kindItems\" label=\"種類\" v-model=\"list.kind\" :rules=\"emptyRules\"></v-combobox>\r\n                  </v-col>\r\n                  <v-col cols=\"2\">\r\n                    <v-text-field label=\"單位\" v-model=\"list.unit\" :rules=\"emptyRules\"></v-text-field>\r\n                  </v-col>\r\n                  <v-col cols=\"2\">\r\n                    <v-text-field label=\"費用\" v-model=\"list.price\" :rules=\"emptyRules\"></v-text-field>\r\n                  </v-col>\r\n                </v-row>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-btn class=\"primary\" block @click=\"addOK\" v-show=\"!editMode\">確認新增</v-btn>\r\n                <v-btn class=\"success\" block @click=\"editOK\" v-show=\"editMode\">確認修改</v-btn>\r\n                <v-btn class=\"error mt-1\" block @click=\"cancelEditMode\" v-show=\"editMode\">取消修改</v-btn>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n\r\n          <v-card class=\"my-2\" v-show=\"!editMode\">\r\n            <v-card-text>\r\n              <v-sheet color=\"green lighten-3\" outlined class=\"text-center pa-2\">\r\n                <h3 class=\"white--text\">已建構費用列表(點選可修改)</h3>\r\n              </v-sheet>\r\n              <v-list class=\"success font-weight-black\">\r\n                <v-list-item-group>\r\n                  <v-list-item>\r\n                    <v-list-item-content>\r\n                      <v-row>\r\n                        <v-col cols=\"5\">\r\n                          <v-list-item-title>名稱</v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"3\">\r\n                          <v-list-item-title>種類</v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                          <v-list-item-title>單位</v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                          <v-list-item-title>費用</v-list-item-title>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-list-item-content>\r\n                  </v-list-item>\r\n                </v-list-item-group>\r\n              </v-list>\r\n              <v-list>\r\n                <v-list-item-group>\r\n                  <v-list-item v-for=\"(item, i) in filterItems\" :key=\"i\">\r\n                    <v-list-item-content @click.stop=\"enterEditMode(item)\">\r\n                      <v-row>\r\n                        <v-col cols=\"5\">\r\n                          <v-list-item-title v-text=\"item.name\"></v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"3\">\r\n                          <v-list-item-title>{{item.kind}}</v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                          <v-list-item-title>{{item.unit}}</v-list-item-title>\r\n                        </v-col>\r\n                        <v-col cols=\"2\">\r\n                          <v-list-item-title>${{item.price}}</v-list-item-title>\r\n                        </v-col>\r\n                      </v-row>\r\n                    </v-list-item-content>\r\n                    <!-- <v-icon color=\"green\" @click.stop=\"enterEditMode(item)\">mdi-pencil</v-icon> -->\r\n                    <v-icon color=\"red\" @click.stop=\"del(item)\">mdi-close</v-icon>\r\n                  </v-list-item>\r\n                </v-list-item-group>\r\n              </v-list>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n        </v-card-actions>\r\n        <!-- <pre>{{list}}</pre> -->\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport dayjs from \"dayjs\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      items: [],\r\n      list: {\r\n        name: \"\"\r\n      }, //存放表單資料\r\n      dialog: false,\r\n      title: \"\",\r\n      titleStyle: \"\",\r\n      emptyRules: [v => !!v || \"不可空白\"],\r\n      editMode: false,\r\n      kindItems:[\"固定費類\",\"車資類\",\"其他類\",\"耗材類-牛奶\",\"耗材類-技術\",\"特別約定事項-1\",\"特別約定事項-2\",\"耗材類-醫療\",\"耗材類\",\"耗材類-約束\",\"耗材類-管路\",\"健檢類\",\"醫療類\",\"耗材類-藥品\"]\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    filterItems() {\r\n      var str = \"\";\r\n      return this.items.filter(item => {\r\n        str = JSON.stringify(item).toUpperCase();\r\n        if (str.includes(this.list.name.toUpperCase())) {\r\n          return item;\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    getAllData() {\r\n      //取得所有病歷資料\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      //取得所有資料\r\n      this.axios\r\n        .post(\"general/getAll/\" + this.$store.state.databaseName + \"/fee\")\r\n        .then(rs => {\r\n          this.items = rs.data;\r\n          this.sortBy();\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    sortBy() {\r\n      //依snkey排序\r\n      this.items = this.items.sort(function(a, b) {\r\n        return a.kind < b.kind ? 1 : -1;\r\n      });\r\n    },\r\n    enterEdit(item) {\r\n      //進入修改作業 -> 顯示修改頁面\r\n      this.$refs.enterEdit.$emit(\"childFn\", item);\r\n    },\r\n    enterProcess() {\r\n      //進入畫面時,執行的是新增作業\r\n      this.title = \"相關費用資料管理\";\r\n      this.titleStyle = \"font-weight-black primary lighten-2\";\r\n    },\r\n    addOK() {\r\n      //確認新增\r\n      if (this.$refs.form.validate()) {\r\n        //判斷重覆\r\n        // var repeat = this.items.filter(item => {\r\n        //   if (this.list.name == item.name) {\r\n        //     return item;\r\n        //   }\r\n        // });\r\n        // if (repeat.length > 0) {\r\n        //   var pop = { msg: \"不可重覆!!\", type: true, theme: \"warning\" };\r\n        //   this.$store.commit(\"snackbar\", pop);\r\n        //   return;\r\n        // }\r\n\r\n        this.$store.commit(\"getTime\"); //取得現在時間\r\n        this.list[\"create_man\"] =\r\n          this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\"; //執行動作的人,時間,內容\r\n\r\n        this.axios\r\n          .post(\r\n            \"general/add/\" + this.$store.state.databaseName + \"/fee\",\r\n            qs.stringify(this.list)\r\n          )\r\n          .then(rs => {\r\n            if (rs.data.state == 1) {\r\n              var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n              this.$store.commit(\"snackbar\", pop);\r\n              this.getAllData();\r\n              this.$emit(\"getFeeData\"); //重新讀入資料\r\n              this.list.name = \"\";\r\n              this.$refs.form.resetValidation();\r\n            }\r\n          });\r\n      }\r\n    },\r\n    del(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then(res => {\r\n        delData.delman =\r\n          this.$store.state.pData.username +\r\n          \"(\" +\r\n          dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n          \")\";\r\n        var postData = {\r\n          snkey:delData.snkey,\r\n          tablename:'fee',\r\n          info: JSON.stringify(delData),\r\n        };\r\n\r\n        if (res) {\r\n          this.axios\r\n            .post(\r\n              \"general/delv3/\" + this.$store.state.databaseName + \"/fee\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then(rs => {\r\n              console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                this.getAllData();\r\n                this.$emit(\"getFeeData\"); //重新讀入資料\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n    // del(delData) {\r\n    //   //刪除功能\r\n    //   this.$confirm(\"確認刪除?\").then(res => {\r\n    //     if (res) {\r\n    //       this.$store.commit(\"getTime\"); //取得現在時間\r\n    //       var postData = {\r\n    //         snkey: delData.snkey,\r\n    //         info:\r\n    //           this.$store.state.pData.username +\r\n    //           \"(\" +\r\n    //           this.$store.state.time +\r\n    //           \")(\" +\r\n    //           delData.snkey +\r\n    //           \")(\" +\r\n    //           delData.text +\r\n    //           \")\"\r\n    //         //刪除的人(刪除時間)(刪除的snkey)(刪除的name / branch)\r\n    //       };\r\n    //       this.axios\r\n    //         .post(\r\n    //           \"general/del/\" + this.$store.state.databaseName + \"/fee\",\r\n    //           qs.stringify(postData)\r\n    //         )\r\n    //         .then(rs => {\r\n    //           // console.log(rs.data);\r\n    //           if (rs.data.state == 1) {\r\n    //             var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n    //             this.$store.commit(\"snackbar\", pop);\r\n    //             this.getAllData();\r\n    //             this.$emit(\"getFeeData\"); //重新讀入資料\r\n    //           }\r\n    //         });\r\n    //     }\r\n    //   });\r\n    // },\r\n    enterEditMode(item) {\r\n      //進入修改模式\r\n      this.list = item;\r\n      this.editMode = true;\r\n    },\r\n    editOK() {\r\n      //確認修改\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/fee\",\r\n          qs.stringify(this.list)\r\n        )\r\n        .then(rs => {\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            this.getAllData();\r\n            this.$emit(\"getFeeData\"); //重新讀入資料\r\n            this.list = {\r\n              name: \"\"\r\n            };\r\n            this.$refs.form.resetValidation();\r\n            this.editMode = false;\r\n          }\r\n        });\r\n    },\r\n    cancelEditMode() {\r\n      //取消修改\r\n      this.editMode = false;\r\n      this.list = {\r\n        name: \"\"\r\n      };\r\n      this.$refs.form.resetValidation();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// .feelist{\r\n//   font-family: '微軟正黑體';\r\n// }\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeeList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FeeList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FeeList.vue?vue&type=template&id=2bb4231a&\"\nimport script from \"./FeeList.vue?vue&type=script&lang=js&\"\nexport * from \"./FeeList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FeeList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VCombobox,VDialog,VDivider,VForm,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemTitle,VRow,VSheet,VSpacer,VTextField})\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingList.vue?vue&type=style&index=0&lang=scss&\"","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,D:\"date\",h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return l;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return!e&&r&&(l=r),r||!e&&l},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u,$offset:n.$offset})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0),this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone(),r=M(t,n,!0);return r&&(e.$L=r),e},d.clone=function(){return D.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingSearch.vue?vue&type=style&index=0&id=8a20e2a6&lang=scss&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentSearch.vue?vue&type=style&index=0&id=da1fc336&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accountinglist\"},[_c('v-btn',{staticClass:\"slideBtn\",attrs:{\"color\":\"primary\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.changecolset($event)}}},[_c('v-icon',[_vm._v(\"mdi-badge-account-horizontal\")])],1),_c('accountingsearch',{ref:\"enterSearch\",attrs:{\"useritems\":_vm.items}}),_c('paymentsearch',{ref:\"enterPaymentSearch\",attrs:{\"useritems\":_vm.items}}),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('h2',{staticClass:\"subheading grey--text\"},[_c('v-icon',{staticClass:\"mx-1\"},[_vm._v(\"mdi-cash-usd-outline\")]),_c('span',[_vm._v(\"會計管理\")])],1)]),_c('v-col',{staticClass:\"text-right d-flex align-center\",attrs:{\"cols\":\"12\",\"md\":\"6\"}},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}}),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-text-field',{staticClass:\"mx-1 my-0 py-0\",attrs:{\"label\":\"選擇顯示月份\",\"type\":\"month\",\"hide-details\":\"\"},model:{value:(_vm.nowmonth),callback:function ($$v) {_vm.nowmonth=$$v},expression:\"nowmonth\"}})],1)],1),_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\"功能\")])]}}])},[_c('v-list',[_c('v-list-item',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"warning\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.enterPaymentSearch.$emit('childFn')}}},[_vm._v(\" 應收帳款查詢功能 \"),_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\"mdi-text-box-search\")])],1)],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"warning\",on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.enterSearch.$emit('childFn')}}},[_vm._v(\" 費用查詢功能 \"),_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\"mdi-text-box-search\")])],1)],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"primary\",on:{\"click\":function($event){$event.stopPropagation();return _vm.goPrint($event)}}},[_vm._v(\" 前往列印頁面 \"),_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\"mdi-printer\")])],1)],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.printList($event)}}},[_vm._v(\" \"+_vm._s(_vm.nowmonth)+\" 收費一覽表 \"),_c('v-icon',{staticClass:\"mx-2\",attrs:{\"small\":\"\"}},[_vm._v(\"mdi-format-list-bulleted-square\")])],1)],1)],1),_c('v-list-item',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"success\",on:{\"click\":function($event){$event.stopPropagation();return _vm.cloneFee($event)}}},[_vm._v(\" 複製\"+_vm._s(_vm.nowmonth)+\" 固定費 \"),_c('v-icon',{staticClass:\"mx-2\"},[_vm._v(\"mdi-content-copy\")])],1)],1)],1)],1)],1)],1)],1),_c('v-card',[_c('v-card-title',[_c('v-spacer')],1),_c('v-card-text',[_c('v-row',[_c('transition',{attrs:{\"name\":\"fadeLeft\"}},[(_vm.colset)?_c('v-col',{staticStyle:{\"animation-fadeupbig\":\"0.1s\"},attrs:{\"cols\":\"colset\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary lighten-2 white--text\"},[_vm._v(\" 病歷資料列表 \"),_c('v-spacer')],1),_c('v-card-text',{staticClass:\"mt-2\"},[_c('v-toolbar',{attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-magnify\",\"single-line\":\"\",\"label\":\"搜尋\"},model:{value:(_vm.serachKey),callback:function ($$v) {_vm.serachKey=$$v},expression:\"serachKey\"}})],1),_c('div',{staticStyle:{\"overflow\":\"auto\"}},[_c('v-list',{staticClass:\"mt-2\",attrs:{\"height\":\"60vh\"}},[_c('v-list-item-group',{attrs:{\"color\":\"primary\"},model:{value:(_vm.model),callback:function ($$v) {_vm.model=$$v},expression:\"model\"}},_vm._l((_vm.searchfilter),function(item,i){return _c('v-list-item',{key:i,on:{\"click\":function($event){return _vm.getUserAccounting(item)}}},[_c('v-list-item-icon',{staticClass:\"mr-2\"},[_c('v-icon',[_vm._v(\"mdi-account\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(item.name)+\" 床號:\"+_vm._s(item.bed_name))]),_c('v-list-item-subtitle',[_vm._v(\"病歷號:\"+_vm._s(item.p_code))])],1)],1)}),1)],1)],1)],1)],1)],1):_vm._e()],1),_c('v-col',{attrs:{\"cols\":12 - _vm.colset}},[_c('v-card',[_c('v-card-title',{staticClass:\"primary lighten-2 white--text\"},[_vm._v(\" \"+_vm._s(_vm.selectUser.name)+\" 病歷號:\"+_vm._s(_vm.selectUser.p_code)+\" 床號:\"+_vm._s(_vm.selectUser.bed_name)+\" \"),_c('v-spacer'),(Object.keys(_vm.selectUser).length)?_c('v-alert',{staticClass:\"my-0 mx-2\"},[_c('v-row',[_c('v-text-field',{staticClass:\"mx-1\",attrs:{\"label\":\"退住日期\",\"type\":\"date\",\"hide-details\":\"\"},model:{value:(_vm.selectUser.out_date),callback:function ($$v) {_vm.$set(_vm.selectUser, \"out_date\", $$v)},expression:\"selectUser.out_date\"}}),_c('v-btn',{staticClass:\"error align-self-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.leaveOut($event)}}},[_vm._v(\"退住\")])],1)],1):_vm._e(),(Object.keys(_vm.selectUser).length)?_c('v-alert',{staticClass:\"ma-0\"},[_c('v-row',[_c('v-text-field',{staticClass:\"mx-1\",attrs:{\"label\":\"保證金收款日期\",\"type\":\"date\",\"hide-details\":\"\"},model:{value:(_vm.selectUser.margin_date),callback:function ($$v) {_vm.$set(_vm.selectUser, \"margin_date\", $$v)},expression:\"selectUser.margin_date\"}}),_c('v-text-field',{attrs:{\"label\":\"金額\",\"hide-details\":\"\"},model:{value:(_vm.selectUser.margin),callback:function ($$v) {_vm.$set(_vm.selectUser, \"margin\", $$v)},expression:\"selectUser.margin\"}}),_c('v-btn',{staticClass:\"primary align-self-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.updateUser($event)}}},[_vm._v(\"更新\")])],1)],1):_vm._e()],1),_c('v-card-text',[_c('div',{staticClass:\"d-flex\"},[_vm._v(\" 每月應收帳款 \"),_c('v-spacer'),_vm._v(\" 當前未付款總額:\"+_vm._s(_vm.nopaid)+\" \")],1),_c('v-simple-table',{staticClass:\"text-no-wrap\",attrs:{\"fixed-header\":\"\",\"height\":\"200px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"}),_c('th',{staticClass:\"text-left\"},[_vm._v(\"月份\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"應收帳款\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"已付款金額\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"當月結餘\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"備註\")])])]),_vm._l((_vm.paymentItems),function(item,index){return _c('tbody',{key:index},[_c('tr',{on:{\"click\":function($event){$event.stopPropagation();_vm.nowmonth = item.month}}},[_c('td',[_c('v-icon',{attrs:{\"color\":\"success\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$refs.enterEditPayment.$emit('childFn', item)}}},[_vm._v(\"mdi-pencil\")])],1),_c('td',[_vm._v(_vm._s(item.month))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(item.total_price)))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(item.paid_price)))]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")((item.paid_price - item.total_price)))+\" \")]),_c('td',[_vm._v(_vm._s(item.note))])])])})]},proxy:true}])}),_c('PaymentAdd',{ref:\"enterEditPayment\",on:{\"finishEditPayment\":_vm.finishEditPayment}})],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-title',{staticClass:\"primary lighten-2 white--text\"},[_vm._v(\" \"+_vm._s(_vm.nowmonth)+\"月 - 筆數: \"+_vm._s(_vm.monthfilter.length)+\" \"),(Object.keys(_vm.selectUser).length)?_c('AccountingAdd',{ref:\"enterEdit\",staticClass:\"ml-3\",on:{\"finishAdd\":_vm.finishAdd,\"finishEdit\":_vm.finishEdit}}):_vm._e(),_c('v-spacer'),(Object.keys(_vm.selectUser).length)?_c('v-alert',{staticClass:\"my-0\"},[_c('v-row',[_c('v-select',{attrs:{\"label\":\"類別選擇\",\"items\":_vm.namefilter,\"hide-details\":\"\"},model:{value:(_vm.selectedName),callback:function ($$v) {_vm.selectedName=$$v},expression:\"selectedName\"}}),_c('v-text-field',{staticClass:\"mx-1\",attrs:{\"label\":\"單價設定\",\"hide-details\":\"\"},model:{value:(_vm.setPrice),callback:function ($$v) {_vm.setPrice=$$v},expression:\"setPrice\"}}),_c('v-btn',{staticClass:\"primary align-self-center\",on:{\"click\":function($event){$event.stopPropagation();return _vm.setSameKindPrice($event)}}},[_vm._v(\"設定同類單價\")]),(Object.keys(_vm.selectUser).length)?_c('v-checkbox',{staticClass:\"my-0 ml-2 pa-2 primary alertzone align-self-center\",staticStyle:{\"border-radius\":\"4px\"},attrs:{\"label\":\"約定費不提醒\",\"color\":\"white\",\"value\":\"true\",\"hide-details\":\"\"},on:{\"change\":_vm.updateUser},model:{value:(_vm.selectUser.promise_fee),callback:function ($$v) {_vm.$set(_vm.selectUser, \"promise_fee\", $$v)},expression:\"selectUser.promise_fee\"}}):_vm._e()],1)],1):_vm._e()],1),_c('v-card-text',[_c('v-simple-table',{staticClass:\"text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',[_c('tr',[_c('th',{staticClass:\"text-left\"}),_c('th',{staticClass:\"text-left\"},[_vm._v(\"建檔日期\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"起算日\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"截止日\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"收費項目\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"單價\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"數量\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"小計\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"類別\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"備註\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"紀錄人\")]),_c('th',{staticClass:\"text-left\"},[_vm._v(\"修改紀錄\")])])]),_c('tbody',_vm._l((_vm.monthfilter),function(item,index){return _c('tr',{key:item.snkey},[_c('td',[_c('v-icon',{attrs:{\"color\":\"green\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.enterEdit(item)}}},[_vm._v(\"mdi-pencil\")]),_c('v-icon',{attrs:{\"color\":\"red\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.finishDel(item)}}},[_vm._v(\"mdi-close\")]),_vm._v(\" \"+_vm._s(index + 1)+\". \")],1),_c('td',[_vm._v(_vm._s(item.date))]),_c('td',[_vm._v(_vm._s(item.start_day))]),_c('td',[_vm._v(_vm._s(item.end_day))]),_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(_vm._f(\"filtermoney\")(item.price)))]),_c('td',[_vm._v(_vm._s(item.quantity))]),_c('td',[_vm._v(\" \"+_vm._s(_vm._f(\"filtermoney\")((item.price * item.quantity)))+\" \")]),_c('td',[_vm._v(_vm._s(item.kind))]),_c('td',[_vm._v(_vm._s(item.note))]),_c('td',[_vm._v(_vm._s(item.create_man))]),_c('td',[_vm._v(_vm._s(item.edit_man))])])}),0)]},proxy:true}])})],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pop\"},[_c('v-dialog',{scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-icon',_vm._g({attrs:{\"color\":\"red lighten-1\",\"large\":\"\",\"dark\":\"\"},on:{\"click\":_vm.enterAdd}},on),[_vm._v(\"mdi-plus-circle\")])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{class:_vm.titleClass,attrs:{\"primary-title\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"建檔日期\",\"type\":\"date\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.date),callback:function ($$v) {_vm.$set(_vm.list, \"date\", $$v)},expression:\"list.date\"}})],1),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"起算日\",\"type\":\"date\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.start_day),callback:function ($$v) {_vm.$set(_vm.list, \"start_day\", $$v)},expression:\"list.start_day\"}})],1):_vm._e(),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"截止日\",\"type\":\"date\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.end_day),callback:function ($$v) {_vm.$set(_vm.list, \"end_day\", $$v)},expression:\"list.end_day\"}})],1):_vm._e(),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}}):_vm._e(),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"收費項目\",\"outlined\":\"\",\"readonly\":\"\"},model:{value:(_vm.list.name),callback:function ($$v) {_vm.$set(_vm.list, \"name\", $$v)},expression:\"list.name\"}})],1):_vm._e(),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"種類\",\"outlined\":\"\",\"readonly\":\"\"},model:{value:(_vm.list.kind),callback:function ($$v) {_vm.$set(_vm.list, \"kind\", $$v)},expression:\"list.kind\"}})],1):_vm._e(),(_vm.process=='edit')?_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"單價\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.price),callback:function ($$v) {_vm.$set(_vm.list, \"price\", $$v)},expression:\"list.price\"}})],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"數量\",\"rules\":_vm.emptyRules},model:{value:(_vm.list.quantity),callback:function ($$v) {_vm.$set(_vm.list, \"quantity\", $$v)},expression:\"list.quantity\"}})],1),(_vm.process=='add')?_c('v-col',{staticClass:\"d-flex align-center\",attrs:{\"cols\":\"10\"}},[_c('v-autocomplete',{attrs:{\"label\":\"收費項目選擇(可複選)\",\"prepend-icon\":\"mdi-cash-usd-outline\",\"items\":_vm.feeItems,\"multiple\":\"\",\"return-object\":\"\"},model:{value:(_vm.list.feeArray),callback:function ($$v) {_vm.$set(_vm.list, \"feeArray\", $$v)},expression:\"list.feeArray\"}}),_c('FeeList',{on:{\"getFeeData\":_vm.getFeeData}})],1):_vm._e(),_c('v-col',{attrs:{\"cols\":\"2\"}},[(_vm.process=='add')?_c('v-checkbox',{attrs:{\"label\":\"新住民\",\"value\":\"true\",\"hide-details\":\"\"},model:{value:(_vm.newUser),callback:function ($$v) {_vm.newUser=$$v},expression:\"newUser\"}}):_vm._e()],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.list.note),callback:function ($$v) {_vm.$set(_vm.list, \"note\", $$v)},expression:\"list.note\"}})],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.process=='add')?_c('v-btn',{staticClass:\"error\",on:{\"click\":_vm.addOK}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.process=='edit')?_c('v-btn',{staticClass:\"success\",on:{\"click\":_vm.editOK}},[_vm._v(\"確認修改\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pop\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-1\" large dark v-on=\"on\" @click=\"enterAdd\">mdi-plus-circle</v-icon>\r\n      </template>\r\n\r\n      <v-card>\r\n        <v-card-title :class=\"titleClass\" primary-title>\r\n          {{title}}\r\n        </v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"建檔日期\" v-model=\"list.date\" type=\"date\" :rules=\"emptyRules\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\" v-if=\"process=='edit'\">\r\n                <v-text-field label=\"起算日\" v-model=\"list.start_day\" type=\"date\" :rules=\"emptyRules\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\" v-if=\"process=='edit'\">\r\n                <v-text-field label=\"截止日\" v-model=\"list.end_day\" type=\"date\" :rules=\"emptyRules\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\" v-if=\"process=='edit'\"></v-col>\r\n              <v-col cols=\"3\" v-if=\"process=='edit'\">\r\n                <v-text-field label=\"收費項目\" v-model=\"list.name\" outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"3\" v-if=\"process=='edit'\">\r\n                <v-text-field label=\"種類\" v-model=\"list.kind\" outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"3\" v-if=\"process=='edit'\">\r\n                <v-text-field label=\"單價\" v-model=\"list.price\" :rules=\"emptyRules\"></v-text-field>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"數量\" v-model=\"list.quantity\" :rules=\"emptyRules\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"10\" class=\"d-flex align-center\" v-if=\"process=='add'\">\r\n                <v-autocomplete\r\n                  label=\"收費項目選擇(可複選)\"\r\n                  prepend-icon=\"mdi-cash-usd-outline\"\r\n                  v-model=\"list.feeArray\"\r\n                  :items=\"feeItems\"\r\n                  multiple\r\n                  return-object\r\n                ></v-autocomplete>\r\n                <FeeList @getFeeData=\"getFeeData\"></FeeList>\r\n              </v-col>\r\n              <v-col cols=\"2\">\r\n                <v-checkbox label=\"新住民\" v-model=\"newUser\" value=\"true\" hide-details v-if=\"process=='add'\"></v-checkbox>\r\n              </v-col>\r\n\r\n              <v-col cols=\"12\">\r\n                <v-text-field label=\"備註\" v-model=\"list.note\"></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn class=\"error\" @click=\"addOK\" v-if=\"process=='add'\">確認新增</v-btn>\r\n          <v-btn class=\"success\" @click=\"editOK\" v-if=\"process=='edit'\">確認修改</v-btn>\r\n        </v-card-actions>\r\n        <!-- <pre>{{ list.feeArray }}</pre> -->\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport FeeList from \"@/components/FeeList\";\r\n\r\nexport default {\r\n  components: { FeeList },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {}, //目前操作的表單內容\r\n      oldList: {}, //存放修改前資料\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      title: \"\", //抬頭\r\n      titleClass: \"\", //抬頭顯示樣式\r\n      process: \"\", //儲存執行動作\r\n      nowDay: dayjs().format(\"YYYY-MM-DD\"),\r\n      firstDay: dayjs().startOf(\"month\").format(\"YYYY-MM-DD\"), //當月第一日\r\n      lastDay: dayjs().endOf(\"month\").format(\"YYYY-MM-DD\"), //當月第一日\r\n      feeItems: [],\r\n      newUser: false,\r\n    };\r\n  },\r\n\r\n  updated() {\r\n    this.nowDay = dayjs().format(\"YYYY-MM-DD\"); //當月第一日\r\n  },\r\n\r\n  mounted() {\r\n    //父組件要執行本組件時的function時的設定 (showFromParent) id是暫存傳過來的值\r\n    this.$on(\"childFn\", function (item) {\r\n      this.dialog = true;\r\n      this.enterEdit(item);\r\n    });\r\n\r\n    this.getFeeData();\r\n  },\r\n\r\n  methods: {\r\n    enterAdd() {\r\n      //執行新增流程\r\n      this.process = \"add\";\r\n      this.title = \"新增費用\";\r\n      this.titleClass = \"font-weight-black error lighten-2\";\r\n      this.list = {\r\n        date: dayjs().format(\"YYYY-MM-DD\"),\r\n        start_day: dayjs().startOf(\"month\").format(\"YYYY-MM-DD\"), //當月第一日\r\n        end_day: dayjs().endOf(\"month\").format(\"YYYY-MM-DD\"), //當月第一日\r\n        quantity: 1,\r\n        feeArray: [],\r\n      };\r\n      \r\n    },\r\n    enterEdit(item) {\r\n      //執行修改流程\r\n      this.process = \"edit\";\r\n      this.title = \"修改費用\";\r\n      this.titleClass = \"font-weight-black success lighten-2\";\r\n      this.oldList = item; //暫存未修改前資料\r\n      this.list = { ...item }; //列表中複製一份顯示及修改用資料\r\n      \r\n    },\r\n    addOK() {\r\n      //確認新增\r\n      if (this.list.feeArray.length == 0) {\r\n        var pop = { msg: \"未選擇任何費用!!\", type: true, theme: \"warning\" };\r\n        this.$store.commit(\"snackbar\", pop);\r\n        return false;\r\n      }\r\n\r\n      var postData = {\r\n        data: this.list,\r\n        newUser : this.newUser,\r\n      }\r\n      if (this.$refs.form.validate()) {\r\n        this.$emit(\"finishAdd\", postData);\r\n        this.dialog = false;\r\n      }\r\n    },\r\n    editOK() {\r\n      //確認修改\r\n      if (this.$refs.form.validate()) {\r\n        for (var i in this.list) {\r\n          //將各個欄位的資料透過一對一的去比對,就可以使vue對資料會有反應\r\n          this.oldList[i] = this.list[i];\r\n        }\r\n        this.$emit(\"finishEdit\", this.list);\r\n        this.dialog = false;\r\n      }\r\n    },\r\n    getFeeData() {\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      //取得所有資料\r\n      this.axios\r\n        .post(\"general/getAll/\" + this.$store.state.databaseName + \"/fee\")\r\n        .then((rs) => {\r\n          // console.log(rs.data)\r\n          var newData = rs.data.map((item) => {\r\n            return {\r\n              snkey: item.snkey,\r\n              text: `[${item.name}:${item.kind}:$${item.price}]`,\r\n              name: item.name,\r\n              kind: item.kind,\r\n              price: item.price,\r\n            };\r\n          });\r\n\r\n          //雙重排序 先KIND -> PRICE\r\n          newData = newData.sort(function(a,b){\r\n            return a.kind < b.kind ? 1 : -1;\r\n          });\r\n          this.feeItems = newData.sort(function(a,b){\r\n            if (a.kind == b.kind){\r\n              return parseInt(a.price) < parseInt(b.price) ? 1 : -1;\r\n            }\r\n          });\r\n          //雙重排序end\r\n\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountingAdd.vue?vue&type=template&id=1270ba39&\"\nimport script from \"./AccountingAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountingAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VCheckbox,VCol,VDialog,VDivider,VForm,VIcon,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pop\"},[_c('v-dialog',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{class:_vm.titleClass,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-form',{ref:\"form\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"月份\",\"outlined\":\"\",\"readonly\":\"\"},model:{value:(_vm.list.month),callback:function ($$v) {_vm.$set(_vm.list, \"month\", $$v)},expression:\"list.month\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"應收帳款\",\"outlined\":\"\",\"readonly\":\"\"},model:{value:(_vm.list.total_price),callback:function ($$v) {_vm.$set(_vm.list, \"total_price\", $$v)},expression:\"list.total_price\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"付款金額\",\"outlined\":\"\",\"readonly\":\"\"},model:{value:(_vm.total_pay),callback:function ($$v) {_vm.total_pay=$$v},expression:\"total_pay\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"當月結餘\",\"value\":_vm.total_pay - _vm.list.total_price,\"outlined\":\"\",\"readonly\":\"\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"付款日期\",\"type\":\"date\",\"append-outer-icon\":\"mdi-calendar-star\"},on:{\"click:append-outer\":function($event){_vm.list.paid_date = _vm.nowDay}},model:{value:(_vm.list.paid_date),callback:function ($$v) {_vm.$set(_vm.list, \"paid_date\", $$v)},expression:\"list.paid_date\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"現金支付(金額)\"},model:{value:(_vm.list.paid_price_cash),callback:function ($$v) {_vm.$set(_vm.list, \"paid_price_cash\", $$v)},expression:\"list.paid_price_cash\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"支票支付(金額)\"},model:{value:(_vm.list.paid_price_check),callback:function ($$v) {_vm.$set(_vm.list, \"paid_price_check\", $$v)},expression:\"list.paid_price_check\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"3\"}},[_c('v-text-field',{attrs:{\"label\":\"匯款支付(金額)\"},model:{value:(_vm.list.paid_price_remit),callback:function ($$v) {_vm.$set(_vm.list, \"paid_price_remit\", $$v)},expression:\"list.paid_price_remit\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-text-field',{attrs:{\"label\":\"備註\"},model:{value:(_vm.list.note),callback:function ($$v) {_vm.$set(_vm.list, \"note\", $$v)},expression:\"list.note\"}})],1)],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),(_vm.process=='add')?_c('v-btn',{staticClass:\"error\",on:{\"click\":_vm.addOK}},[_vm._v(\"確認新增\")]):_vm._e(),(_vm.process=='edit')?_c('v-btn',{staticClass:\"success\",on:{\"click\":_vm.editOK}},[_vm._v(\"確認修改\")]):_vm._e()],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pop\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <!-- <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-1\" large dark v-on=\"on\" @click=\"enterAdd\">mdi-plus-circle</v-icon>\r\n      </template> -->\r\n\r\n      <v-card>\r\n        <v-card-title :class=\"titleClass\" primary-title>{{title}}</v-card-title>\r\n\r\n        <v-card-text>\r\n          <v-form ref=\"form\">\r\n            <v-row>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"月份\" v-model=\"list.month\" outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"應收帳款\" v-model=\"list.total_price\" outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"付款金額\" v-model=\"total_pay\"  outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"當月結餘\" :value=\"total_pay - list.total_price\"  outlined readonly></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"付款日期\" v-model=\"list.paid_date\" type=\"date\" \r\n                append-outer-icon=\"mdi-calendar-star\"\r\n                @click:append-outer=\"list.paid_date = nowDay\"\r\n                ></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"現金支付(金額)\" v-model=\"list.paid_price_cash\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"支票支付(金額)\" v-model=\"list.paid_price_check\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\" sm=\"3\">\r\n                <v-text-field label=\"匯款支付(金額)\" v-model=\"list.paid_price_remit\"></v-text-field>\r\n              </v-col>\r\n              <v-col cols=\"12\">\r\n                <v-text-field label=\"備註\" v-model=\"list.note\"></v-text-field>\r\n              </v-col>\r\n            </v-row>\r\n          </v-form>\r\n        </v-card-text>\r\n\r\n        <v-divider></v-divider>\r\n\r\n        <v-card-actions>\r\n          <v-spacer></v-spacer>\r\n          <v-btn class=\"error\" @click=\"addOK\" v-if=\"process=='add'\">確認新增</v-btn>\r\n          <v-btn class=\"success\" @click=\"editOK\" v-if=\"process=='edit'\">確認修改</v-btn>\r\n        </v-card-actions>\r\n        <!-- <pre>{{list}}</pre> -->\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport dayjs from \"dayjs\";\r\nimport FeeList from \"@/components/FeeList\";\r\n\r\nexport default {\r\n    components: { FeeList },\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {}, //目前操作的表單內容\r\n      oldList: {}, //存放修改前資料\r\n      emptyRules: [v => !!v || \"不可空白\"],\r\n      title: \"\", //抬頭\r\n      titleClass: \"\", //抬頭顯示樣式\r\n      process: \"\", //儲存執行動作\r\n      nowDay:dayjs().format(\"YYYY-MM-DD\"),\r\n      firstDay:dayjs().startOf('month').format(\"YYYY-MM-DD\"), //當月第一日\r\n      lastDay:dayjs().endOf('month').format(\"YYYY-MM-DD\"), //當月第一日\r\n      feeItems:[],\r\n    };\r\n  },\r\n\r\n  computed:{\r\n    total_pay(){\r\n      var total = parseInt(this.list.paid_price_cash) + parseInt(this.list.paid_price_check) + parseInt(this.list.paid_price_remit)\r\n      return this.list.paid_price = total;\r\n    }\r\n  },\r\n\r\n  updated() {\r\n    this.nowDay = dayjs().format(\"YYYY-MM-DD\"); //當月第一日\r\n  },\r\n\r\n  mounted() {\r\n    //父組件要執行本組件時的function時的設定 (showFromParent) id是暫存傳過來的值\r\n    this.$on(\"childFn\", function(item) {\r\n      this.dialog = true;\r\n      this.enterEdit(item);\r\n    });\r\n\r\n    // this.getFeeData();\r\n  },\r\n\r\n  methods: {\r\n    // enterAdd() {\r\n    //   //執行新增流程(本程式無用)\r\n    //   this.process = \"add\";\r\n    //   this.title = \"新增費用\";\r\n    //   this.titleClass = \"font-weight-black error lighten-2\";\r\n    //   this.list = {\r\n    //     date:dayjs().format(\"YYYY-MM-DD\"),\r\n    //     start_day:dayjs().startOf('month').format(\"YYYY-MM-DD\"), //當月第一日\r\n    //     end_day:dayjs().endOf('month').format(\"YYYY-MM-DD\"), //當月第一日\r\n    //     quantity:1,\r\n    //     feeArray:[],\r\n    //   };\r\n\r\n    // },\r\n    enterEdit(item) {\r\n      //執行修改流程\r\n      this.process = \"edit\";\r\n      this.title = \"修改應收帳款資料\";\r\n      this.titleClass = \"font-weight-black success lighten-2\";\r\n      this.oldList = item; //暫存未修改前資料\r\n      this.list = { ...item }; //列表中複製一份顯示及修改用資料\r\n      \r\n    },\r\n    // addOK() {\r\n    //   //確認新增\r\n    //   if (this.list.feeArray.length == 0){\r\n    //     var pop = { msg: \"未選擇任何費用!!\", type: true, theme: \"warning\" };\r\n    //     this.$store.commit(\"snackbar\", pop);\r\n    //     return false;\r\n    //   }\r\n\r\n    //   if (this.$refs.form.validate()) {\r\n    //     this.$emit(\"finishAdd\", this.list);\r\n    //     this.dialog = false;\r\n    //   }\r\n    // },\r\n    editOK() {\r\n      //確認修改\r\n      if (this.$refs.form.validate()) {\r\n        for (var i in this.list) {\r\n          //將各個欄位的資料透過一對一的去比對,就可以使vue對資料會有反應\r\n          this.oldList[i] = this.list[i];\r\n        }\r\n        this.$emit(\"finishEditPayment\", this.list);\r\n        this.dialog = false;\r\n      }\r\n    },\r\n   \r\n  }\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaymentAdd.vue?vue&type=template&id=06048fb8&\"\nimport script from \"./PaymentAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./PaymentAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDialog,VDivider,VForm,VRow,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"accountingsearch\"},[_c('v-dialog',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('accountingadd',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"enterEdit\",on:{\"finishEdit\":_vm.finishEdit}}),_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[_c('v-card',[_c('v-card-title',{class:_vm.titleClass,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"8\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-magnify\",\"single-line\":\"\",\"label\":\"搜尋\"},model:{value:(_vm.serachKey),callback:function ($$v) {_vm.serachKey=$$v},expression:\"serachKey\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"4\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-table-eye-off\",\"single-line\":\"\",\"label\":\"不顯示條件設定\"},model:{value:(_vm.disViewKey),callback:function ($$v) {_vm.disViewKey=$$v},expression:\"disViewKey\"}})],1)],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_c('v-data-iterator',{attrs:{\"items\":_vm.searchfilter,\"items-per-page\":_vm.itemsPerPage,\"footer-props\":{ itemsPerPageOptions: _vm.itemsPerPageOptions }},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-simple-table',{staticClass:\"mt-2 text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',{staticClass:\"title\"},[_c('tr',[_c('th'),_c('th',[_vm._v(\"病歷號\")]),_c('th',[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"床號\")]),_c('th',[_vm._v(\"建檔日期\")]),_c('th',[_vm._v(\"起算日\")]),_c('th',[_vm._v(\"截止日\")]),_c('th',[_vm._v(\"收費項目\")]),_c('th',[_vm._v(\"單價\")]),_c('th',[_vm._v(\"數量\")]),_c('th',[_vm._v(\"小計\")]),_c('th',[_vm._v(\"類別\")]),_c('th',[_vm._v(\"備註\")]),_c('th',[_vm._v(\"紀錄人\")]),_c('th',[_vm._v(\"修改紀錄\")])])]),_c('tbody',_vm._l((props.items),function(item,index){return _c('tr',{key:index},[_c('td',[_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\"功能\")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.enterEdit(item)}}},[_c('v-list-item-title',[_vm._v(\"修改\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.finishDel(item)}}},[_c('v-list-item-title',[_vm._v(\"刪除\")])],1)],1)],1)],1),_c('td',[_vm._v(_vm._s(item.user_p_code))]),_c('td',[_vm._v(_vm._s(item.user_name))]),_c('td',[_vm._v(_vm._s(item.bed_name))]),_c('td',[_vm._v(_vm._s(item.date))]),_c('td',[_vm._v(_vm._s(item.start_day))]),_c('td',[_vm._v(_vm._s(item.end_day))]),_c('td',[_vm._v(_vm._s(item.name))]),_c('td',[_vm._v(_vm._s(item.price))]),_c('td',[_vm._v(_vm._s(item.quantity))]),_c('td',[_vm._v(_vm._s(item.price * item.quantity))]),_c('td',[_vm._v(_vm._s(item.kind))]),_c('td',[_vm._v(_vm._s(item.note))]),_c('td',[_vm._v(_vm._s(item.create_man))]),_c('td',[_vm._v(_vm._s(item.edit_man))])])}),0)]},proxy:true}],null,true)})]}}])})],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"accountingsearch\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <accountingadd @finishEdit=\"finishEdit\" ref=\"enterEdit\" v-show=\"false\"></accountingadd>\r\n      <!-- <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-2\" dark v-on=\"on\" @click=\"enterSearch\">mdi-plus-circle</v-icon>\r\n      </template>-->\r\n\r\n      <v-form ref=\"form\" class=\"mt-3\">\r\n        <v-card>\r\n          <v-card-title :class=\"titleClass\" primary-title>{{title}}</v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-row>\r\n              <v-col cols=\"8\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field\r\n                    hide-details\r\n                    prepend-icon=\"mdi-magnify\"\r\n                    single-line\r\n                    label=\"搜尋\"\r\n                    v-model=\"serachKey\"\r\n                  ></v-text-field>\r\n                  \r\n                </v-toolbar>\r\n              </v-col>\r\n              <v-col cols=\"4\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field\r\n                    hide-details\r\n                    prepend-icon=\"mdi-table-eye-off\"\r\n                    single-line\r\n                    label=\"不顯示條件設定\"\r\n                    v-model=\"disViewKey\"\r\n                  ></v-text-field>\r\n                </v-toolbar>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-card class=\"mt-2\">\r\n              <v-card-text>\r\n                <v-data-iterator\r\n                  :items=\"searchfilter\"\r\n                  :items-per-page.sync=\"itemsPerPage\"\r\n                  :footer-props=\"{ itemsPerPageOptions }\"\r\n                >\r\n                  <template v-slot:default=\"props\">\r\n                    <v-simple-table fixed-header class=\"mt-2 text-no-wrap\">\r\n                      <template v-slot:default>\r\n                        <thead class=\"title\">\r\n                          <tr>\r\n                            <th></th>\r\n                            <th>病歷號</th>\r\n                            <th>姓名</th>\r\n                            <th>床號</th>\r\n                            <th>建檔日期</th>\r\n                            <th>起算日</th>\r\n                            <th>截止日</th>\r\n                            <th>收費項目</th>\r\n                            <th>單價</th>\r\n                            <th>數量</th>\r\n                            <th>小計</th>\r\n                            <th>類別</th>\r\n                            <th>備註</th>\r\n                            <th>紀錄人</th>\r\n                            <th>修改紀錄</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr v-for=\"(item,index) in props.items\" :key=\"index\">\r\n                            <td>\r\n                              <v-menu transition=\"scale-transition\" offset-y>\r\n                                <template v-slot:activator=\"{ on }\">\r\n                                  <v-btn color=\"primary\" dark v-on=\"on\">功能</v-btn>\r\n                                </template>\r\n                                <v-list>\r\n                                  <v-list-item @click=\"enterEdit(item)\">\r\n                                    <v-list-item-title>修改</v-list-item-title>\r\n                                  </v-list-item>\r\n                                  <v-list-item @click=\"finishDel(item)\">\r\n                                    <v-list-item-title>刪除</v-list-item-title>\r\n                                  </v-list-item>\r\n                                </v-list>\r\n                              </v-menu>\r\n                            </td>\r\n                            <td>{{item.user_p_code}}</td>\r\n                            <td>{{item.user_name}}</td>\r\n                            <td>{{item.bed_name}}</td>\r\n                            <td>{{item.date}}</td>\r\n                            <td>{{item.start_day}}</td>\r\n                            <td>{{item.end_day}}</td>\r\n                            <td>{{item.name}}</td>\r\n                            <td>{{item.price}}</td>\r\n                            <td>{{item.quantity}}</td>\r\n                            <td>{{item.price * item.quantity}}</td>\r\n                            <td>{{item.kind}}</td>\r\n                            <td>{{item.note}}</td>\r\n                            <td>{{item.create_man}}</td>\r\n                            <td>{{item.edit_man}}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </template>\r\n                    </v-simple-table>\r\n                  </template>\r\n                </v-data-iterator>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-card-text>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <!-- <v-btn class=\"error\" @click=\"addOK\" v-if=\"process=='add'\">確認新增</v-btn>\r\n            <v-btn class=\"success\" @click=\"editOK\" v-if=\"process=='edit'\">確認修改</v-btn>-->\r\n          </v-card-actions>\r\n          <!-- <pre>{{items}}</pre> -->\r\n        </v-card>\r\n      </v-form>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport dayjs from \"dayjs\";\r\nimport accountingadd from \"@/views/main/AccountingAdd\";\r\n\r\nexport default {\r\n  components: { accountingadd },\r\n  props: [\"useritems\"],\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {},\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      title: \"\", //抬頭\r\n      titleClass: \"\", //抬頭顯示樣式\r\n      items: [],\r\n      serachKey: \"\",\r\n      disViewKey:\"\",\r\n      itemsPerPageOptions: [10, 20, 30],\r\n      itemsPerPage: 10,\r\n    };\r\n  },\r\n\r\n\r\n\r\n  computed: {\r\n    searchfilter() {\r\n      if (this.items.length > 0) {\r\n        var keys = this.serachKey.split(\" \");\r\n        var str = \"\";\r\n\r\n        var matchData = keys.reduce(function (prev, element) {\r\n          return prev.filter((item) => {\r\n            str = JSON.stringify(item).toUpperCase();\r\n            return str.includes(element.toUpperCase())\r\n          });\r\n        }, this.items);\r\n        \r\n        if (this.disViewKey.length > 0){\r\n          var diskeys = this.disViewKey.split(\" \");\r\n          matchData = diskeys.reduce(function (prev, element) {\r\n          return prev.filter((item) => {\r\n            str = JSON.stringify(item).toUpperCase();\r\n            return !str.includes(element.toUpperCase());\r\n          });\r\n        }, matchData);\r\n        }\r\n\r\n        matchData =  matchData.sort(function(a,b){\r\n          return parseInt(a.snkey) < parseInt(b.snkey) ? 1 : -1;\r\n        })\r\n\r\n        return matchData;\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    //父組件要執行本組件時的function時的設定 (showFromParent) id是暫存傳過來的值\r\n    this.$on(\"childFn\", function (item) {\r\n      this.dialog = true;\r\n      this.enterProcess(item);\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    //執行會計帳特別查詢流程\r\n    enterProcess() {\r\n      this.title = \"費用查詢功能\";\r\n      this.titleClass = \"font-weight-black warning lighten-2\";\r\n      this.list = {};\r\n\r\n      this.getAllData();\r\n    },\r\n    getAllData() {\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      this.axios\r\n        .post(\"accounting/getall/\" + this.$store.state.databaseName)\r\n        .then((rs) => {\r\n          this.items = rs.data.map((i) => {\r\n            var matchData = this.useritems.filter((uitem) => {\r\n              return i.user_snkey == uitem.snkey;\r\n            });\r\n\r\n            if (matchData.length > 0) {\r\n              //防止資料被刪掉時空的病歷號\r\n              i.user_p_code = matchData[0].p_code;\r\n              i.user_name = matchData[0].name;\r\n              i.bed_name = matchData[0].bed_name;\r\n            }\r\n            // console.log(i)\r\n            return i;\r\n          });\r\n\r\n          // this.sortBy();\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    enterEdit(item) {\r\n      //進入修改作業 -> 顯示修改頁面\r\n      this.$refs.enterEdit.$emit(\"childFn\", item);\r\n    },\r\n    finishEdit(item) {\r\n      //執行新增(在popupadd執行修改時,回傳後執行的動作,item為傳回的list表單內容)\r\n      this.$store.commit(\"getTime\"); //取得現在時間\r\n      var postData = {\r\n        date: item.date,\r\n        snkey: item.snkey,\r\n        start_day: item.start_day,\r\n        end_day: item.end_day,\r\n        quantity: item.quantity,\r\n        price: item.price,\r\n        note: item.note,\r\n        edit_man:\r\n          this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\", //執行動作的人,時間,內容\r\n      };\r\n\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/accounting\",\r\n          qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            //this.getAccounting();\r\n            // this.computeMonthTotal();\r\n          }\r\n        });\r\n    },\r\n    finishDel(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        if (res) {\r\n          delData.delman =\r\n            this.$store.state.pData.username +\r\n            \"(\" +\r\n            dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n            \")\";\r\n          var postData = {\r\n            snkey: delData.snkey,\r\n            tablename: \"accounting\",\r\n            info: JSON.stringify(delData),\r\n          };\r\n\r\n          this.axios\r\n            .post(\r\n              \"general/delv3/\" + this.$store.state.databaseName + \"/accounting\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then((rs) => {\r\n              // console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                this.getAllData();\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\nh2 {\r\n  span {\r\n    vertical-align: middle;\r\n  }\r\n}\r\nthead {\r\n  th {\r\n    font-size: 1.2rem;\r\n    font-family: \"微軟正黑體\";\r\n    color: red;\r\n  }\r\n}\r\ntbody {\r\n  td {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountingSearch.vue?vue&type=template&id=8a20e2a6&scoped=true&\"\nimport script from \"./AccountingSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountingSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountingSearch.vue?vue&type=style&index=0&id=8a20e2a6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8a20e2a6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VDataIterator,VDialog,VDivider,VForm,VList,VListItem,VListItemTitle,VMenu,VRow,VSimpleTable,VSpacer,VTextField,VToolbar})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"paymentsearch\"},[_c('v-dialog',{model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('accountingadd',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"enterEdit\",on:{\"finishEdit\":_vm.finishEdit}}),_c('v-form',{ref:\"form\",staticClass:\"mt-3\"},[_c('v-card',[_c('v-card-title',{class:_vm.titleClass,attrs:{\"primary-title\":\"\"}},[_vm._v(_vm._s(_vm.title))]),_c('v-card-text',[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-magnify\",\"single-line\":\"\",\"label\":\"搜尋\"},model:{value:(_vm.serachKey),callback:function ($$v) {_vm.serachKey=$$v},expression:\"serachKey\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"hide-details\":\"\",\"prepend-icon\":\"mdi-table-eye-off\",\"single-line\":\"\",\"label\":\"不顯示條件設定\"},model:{value:(_vm.disViewKey),callback:function ($$v) {_vm.disViewKey=$$v},expression:\"disViewKey\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"hide-details\":\"\",\"label\":\"付款日期-開始日期\"},model:{value:(_vm.start_day),callback:function ($$v) {_vm.start_day=$$v},expression:\"start_day\"}})],1)],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-toolbar',{staticClass:\"mt-2\",attrs:{\"dense\":\"\"}},[_c('v-text-field',{attrs:{\"type\":\"date\",\"hide-details\":\"\",\"label\":\"付款日期-結束日期\"},model:{value:(_vm.end_day),callback:function ($$v) {_vm.end_day=$$v},expression:\"end_day\"}})],1)],1)],1),_c('v-card',{staticClass:\"mt-2\"},[_c('v-card-text',[_vm._v(\" 目前顯示應收帳款總額:\"+_vm._s(_vm.filterTotal)+\" \"),_c('v-data-iterator',{attrs:{\"items\":_vm.searchfilter,\"items-per-page\":_vm.itemsPerPage,\"footer-props\":{ itemsPerPageOptions: _vm.itemsPerPageOptions }},on:{\"update:itemsPerPage\":function($event){_vm.itemsPerPage=$event},\"update:items-per-page\":function($event){_vm.itemsPerPage=$event}},scopedSlots:_vm._u([{key:\"default\",fn:function(props){return [_c('v-simple-table',{staticClass:\"mt-2 text-no-wrap\",attrs:{\"fixed-header\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function(){return [_c('thead',{staticClass:\"title\"},[_c('tr',[_c('th',[_c('v-combobox',{attrs:{\"label\":\"排序依據\",\"items\":_vm.sortItems},model:{value:(_vm.sortKey),callback:function ($$v) {_vm.sortKey=$$v},expression:\"sortKey\"}})],1),_c('th',[_vm._v(\"病歷號\")]),_c('th',[_vm._v(\"姓名\")]),_c('th',[_vm._v(\"床號\")]),_c('th',[_vm._v(\"月份\")]),_c('th',[_vm._v(\"付款日期\")]),_c('th',[_vm._v(\"應收帳款\")]),_c('th',[_vm._v(\"已付款金額\")]),_c('th',[_vm._v(\"當月結餘\")]),_c('th',[_vm._v(\"備註\")])])]),_c('tbody',_vm._l((props.items),function(item,index){return _c('tr',{key:index},[_c('td',[_c('v-menu',{attrs:{\"transition\":\"scale-transition\",\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({attrs:{\"color\":\"primary\",\"dark\":\"\"}},on),[_vm._v(\"功能\")])]}}],null,true)},[_c('v-list',[_c('v-list-item',{on:{\"click\":function($event){return _vm.enterEdit(item)}}},[_c('v-list-item-title',[_vm._v(\"修改\")])],1),_c('v-list-item',{on:{\"click\":function($event){return _vm.finishDel(item)}}},[_c('v-list-item-title',[_vm._v(\"刪除\")])],1)],1)],1)],1),_c('td',[_vm._v(_vm._s(item.user_p_code))]),_c('td',[_vm._v(_vm._s(item.user_name))]),_c('td',[_vm._v(_vm._s(item.bed_name))]),_c('td',[_vm._v(_vm._s(item.month))]),_c('td',[_vm._v(_vm._s(item.paid_date))]),_c('td',[_vm._v(_vm._s(item.total_price))]),_c('td',[_vm._v(_vm._s(item.paid_price))]),_c('td',[_vm._v(_vm._s(item.paid_price - item.total_price))]),_c('td',[_vm._v(_vm._s(item.note))])])}),0)]},proxy:true}],null,true)})]}}])})],1)],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-spacer')],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"paymentsearch\">\r\n    <v-dialog v-model=\"dialog\">\r\n      <accountingadd @finishEdit=\"finishEdit\" ref=\"enterEdit\" v-show=\"false\"></accountingadd>\r\n      <!-- <template v-slot:activator=\"{ on }\">\r\n        <v-icon color=\"red lighten-2\" dark v-on=\"on\" @click=\"enterSearch\">mdi-plus-circle</v-icon>\r\n      </template>-->\r\n\r\n      <v-form ref=\"form\" class=\"mt-3\">\r\n        <v-card>\r\n          <v-card-title :class=\"titleClass\" primary-title>{{title}}</v-card-title>\r\n\r\n          <v-card-text>\r\n            <v-row>\r\n              <v-col cols=\"3\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field\r\n                    hide-details\r\n                    prepend-icon=\"mdi-magnify\"\r\n                    single-line\r\n                    label=\"搜尋\"\r\n                    v-model=\"serachKey\"\r\n                  ></v-text-field>\r\n                </v-toolbar>\r\n              </v-col>\r\n              <v-col cols=\"3\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field\r\n                    hide-details\r\n                    prepend-icon=\"mdi-table-eye-off\"\r\n                    single-line\r\n                    label=\"不顯示條件設定\"\r\n                    v-model=\"disViewKey\"\r\n                  ></v-text-field>\r\n                </v-toolbar>\r\n              </v-col>\r\n              <v-col cols=\"3\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field type=\"date\" hide-details label=\"付款日期-開始日期\" v-model=\"start_day\"></v-text-field>\r\n                </v-toolbar>\r\n              </v-col>\r\n              <v-col cols=\"3\">\r\n                <v-toolbar class=\"mt-2\" dense>\r\n                  <v-text-field type=\"date\" hide-details label=\"付款日期-結束日期\" v-model=\"end_day\"></v-text-field>\r\n                </v-toolbar>\r\n              </v-col>\r\n            </v-row>\r\n\r\n            <v-card class=\"mt-2\">\r\n              \r\n              <v-card-text>\r\n              目前顯示應收帳款總額:{{filterTotal}}\r\n                <v-data-iterator\r\n                  :items=\"searchfilter\"\r\n                  :items-per-page.sync=\"itemsPerPage\"\r\n                  :footer-props=\"{ itemsPerPageOptions }\"\r\n                >\r\n                  <template v-slot:default=\"props\">\r\n                    <v-simple-table fixed-header class=\"mt-2 text-no-wrap\">\r\n                      <template v-slot:default>\r\n                        <thead class=\"title\">\r\n                          <tr>\r\n                            <th>\r\n                              <v-combobox label=\"排序依據\" :items=\"sortItems\" v-model=\"sortKey\"></v-combobox>\r\n                            </th>\r\n                            <th>病歷號</th>\r\n                            <th>姓名</th>\r\n                            <th>床號</th>\r\n                            <th>月份</th>\r\n                            <th>付款日期</th>\r\n                            <th>應收帳款</th>\r\n                            <th>已付款金額</th>\r\n                            <th>當月結餘</th>\r\n                            <th>備註</th>\r\n                          </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                          <tr v-for=\"(item,index) in props.items\" :key=\"index\">\r\n                            <td>\r\n                              <v-menu transition=\"scale-transition\" offset-y>\r\n                                <template v-slot:activator=\"{ on }\">\r\n                                  <v-btn color=\"primary\" dark v-on=\"on\">功能</v-btn>\r\n                                </template>\r\n                                <v-list>\r\n                                  <v-list-item @click=\"enterEdit(item)\">\r\n                                    <v-list-item-title>修改</v-list-item-title>\r\n                                  </v-list-item>\r\n                                  <v-list-item @click=\"finishDel(item)\">\r\n                                    <v-list-item-title>刪除</v-list-item-title>\r\n                                  </v-list-item>\r\n                                </v-list>\r\n                              </v-menu>\r\n                            </td>\r\n                            <td>{{item.user_p_code}}</td>\r\n                            <td>{{item.user_name}}</td>\r\n                            <td>{{item.bed_name}}</td>\r\n                            <td>{{item.month}}</td>\r\n                            <td>{{item.paid_date}}</td>\r\n                            <td>{{item.total_price}}</td>\r\n                            <td>{{item.paid_price}}</td>\r\n                            <td>{{item.paid_price - item.total_price}}</td>\r\n                            <td>{{item.note}}</td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </template>\r\n                    </v-simple-table>\r\n                  </template>\r\n                </v-data-iterator>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-card-text>\r\n\r\n          <v-divider></v-divider>\r\n\r\n          <v-card-actions>\r\n            <v-spacer></v-spacer>\r\n            <!-- <v-btn class=\"error\" @click=\"addOK\" v-if=\"process=='add'\">確認新增</v-btn>\r\n            <v-btn class=\"success\" @click=\"editOK\" v-if=\"process=='edit'\">確認修改</v-btn>-->\r\n          </v-card-actions>\r\n          <!-- <pre>{{sortKey}}</pre> -->\r\n        </v-card>\r\n      </v-form>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport dayjs from \"dayjs\";\r\nimport accountingadd from \"@/views/main/AccountingAdd\";\r\n\r\nexport default {\r\n  components: { accountingadd },\r\n  props: [\"useritems\"],\r\n  data() {\r\n    return {\r\n      dialog: false,\r\n      list: {},\r\n      emptyRules: [(v) => !!v || \"不可空白\"],\r\n      title: \"\", //抬頭\r\n      titleClass: \"\", //抬頭顯示樣式\r\n      items: [],\r\n      serachKey: \"\",\r\n      disViewKey: \"\",\r\n      itemsPerPageOptions: [10, 20, 30],\r\n      itemsPerPage: 10,\r\n      start_day: \"\",\r\n      end_day: \"\",\r\n      sortItems:[\r\n        {key:'snkey',text:'建檔順序'},\r\n        {key:'paid_date',text:'付款日期'},\r\n      ],\r\n      sortKey:{key:'snkey',text:'建檔順序'},\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    //計算目前所有顯示的應收帳款\r\n    filterTotal() {\r\n      if (this.items.length > 0) {\r\n        return this.searchfilter.reduce((total, item) => {\r\n          return parseInt(total) + parseInt(item.total_price);\r\n        }, 0);\r\n      }\r\n    },\r\n    searchfilter() {\r\n      if (this.items.length > 0) {\r\n        var keys = this.serachKey.split(\" \");\r\n        var str = \"\";\r\n\r\n        var matchData = keys.reduce(function (prev, element) {\r\n          return prev.filter((item) => {\r\n            str = JSON.stringify(item).toUpperCase();\r\n            return str.includes(element.toUpperCase());\r\n          });\r\n        }, this.items);\r\n\r\n        if (this.disViewKey.length > 0) {\r\n          var diskeys = this.disViewKey.split(\" \");\r\n          matchData = diskeys.reduce(function (prev, element) {\r\n            return prev.filter((item) => {\r\n              str = JSON.stringify(item).toUpperCase();\r\n              return !str.includes(element.toUpperCase());\r\n            });\r\n          }, matchData);\r\n        }\r\n\r\n        if (\r\n          this.start_day != \"\" &&\r\n          this.end_day != \"\" &&\r\n          this.start_time != \"\" &&\r\n          this.end_time != \"\"\r\n        ) {\r\n          matchData = matchData.filter((i) => {\r\n            return (\r\n              dayjs(`${this.start_day} `).unix() <=\r\n                dayjs(`${i.paid_date} `).unix() &&\r\n              dayjs(`${this.end_day} `).unix() >=\r\n                dayjs(`${i.paid_date} `).unix()\r\n            );\r\n          });\r\n        }\r\n\r\n        //排序依據\r\n        if (this.sortKey.key == 'snkey'){\r\n          matchData = matchData.sort(function (a, b) {\r\n            return parseInt(a.snkey) < parseInt(b.snkey) ? 1 : -1;\r\n          });\r\n        }\r\n        if (this.sortKey.key == 'paid_date'){\r\n          matchData = matchData.sort(function (a, b) {\r\n            return a.paid_date < b.paid_date ? 1 : -1;\r\n          });\r\n        }\r\n\r\n        return matchData;\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    //父組件要執行本組件時的function時的設定 (showFromParent) id是暫存傳過來的值\r\n    this.$on(\"childFn\", function (item) {\r\n      this.dialog = true;\r\n      this.enterProcess(item);\r\n    });\r\n  },\r\n\r\n  methods: {\r\n    //執行會計帳特別查詢流程\r\n    enterProcess() {\r\n      this.title = \"應收帳款查詢功能\";\r\n      this.titleClass = \"font-weight-black warning lighten-2\";\r\n      this.list = {};\r\n\r\n      this.getAllData();\r\n    },\r\n    getAllData() {\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      this.axios\r\n        .post(\"payment/getall/\" + this.$store.state.databaseName)\r\n        .then((rs) => {\r\n          this.items = rs.data.map((i) => {\r\n            var matchData = this.useritems.filter((uitem) => {\r\n              return i.user_snkey == uitem.snkey;\r\n            });\r\n\r\n            if (matchData.length > 0) {\r\n              //防止資料被刪掉時空的病歷號\r\n              i.user_p_code = matchData[0].p_code;\r\n              i.user_name = matchData[0].name;\r\n              i.bed_name = matchData[0].bed_name;\r\n            }\r\n            // console.log(i)\r\n            return i;\r\n          });\r\n\r\n          // this.sortBy();\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    enterEdit(item) {\r\n      //進入修改作業 -> 顯示修改頁面\r\n      this.$refs.enterEdit.$emit(\"childFn\", item);\r\n    },\r\n    finishEdit(item) {\r\n      //執行新增(在popupadd執行修改時,回傳後執行的動作,item為傳回的list表單內容)\r\n      this.$store.commit(\"getTime\"); //取得現在時間\r\n      var postData = {\r\n        date: item.date,\r\n        snkey: item.snkey,\r\n        start_day: item.start_day,\r\n        end_day: item.end_day,\r\n        quantity: item.quantity,\r\n        price: item.price,\r\n        note: item.note,\r\n        edit_man:\r\n          this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\", //執行動作的人,時間,內容\r\n      };\r\n\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/accounting\",\r\n          qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            //this.getAccounting();\r\n            // this.computeMonthTotal();\r\n          }\r\n        });\r\n    },\r\n    finishDel(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        if (res) {\r\n          delData.delman =\r\n            this.$store.state.pData.username +\r\n            \"(\" +\r\n            dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n            \")\";\r\n          var postData = {\r\n            snkey: delData.snkey,\r\n            tablename: \"accounting\",\r\n            info: JSON.stringify(delData),\r\n          };\r\n\r\n          this.axios\r\n            .post(\r\n              \"general/delv3/\" + this.$store.state.databaseName + \"/accounting\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then((rs) => {\r\n              // console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                this.getAllData();\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\nh2 {\r\n  span {\r\n    vertical-align: middle;\r\n  }\r\n}\r\nthead {\r\n  th {\r\n    font-size: 1.2rem;\r\n    font-family: \"微軟正黑體\";\r\n    color: red;\r\n  }\r\n}\r\ntbody {\r\n  td {\r\n    font-size: 1rem;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentSearch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PaymentSearch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PaymentSearch.vue?vue&type=template&id=da1fc336&scoped=true&\"\nimport script from \"./PaymentSearch.vue?vue&type=script&lang=js&\"\nexport * from \"./PaymentSearch.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PaymentSearch.vue?vue&type=style&index=0&id=da1fc336&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"da1fc336\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDataIterator } from 'vuetify/lib/components/VDataIterator';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VCol,VCombobox,VDataIterator,VDialog,VDivider,VForm,VList,VListItem,VListItemTitle,VMenu,VRow,VSimpleTable,VSpacer,VTextField,VToolbar})\n","<template>\r\n  <div class=\"accountinglist\">\r\n    <v-btn class=\"slideBtn\" color=\"primary\" @click.stop=\"changecolset\">\r\n      <v-icon>mdi-badge-account-horizontal</v-icon>\r\n    </v-btn>\r\n    <accountingsearch :useritems=\"items\" ref=\"enterSearch\"></accountingsearch>\r\n    <paymentsearch :useritems=\"items\" ref=\"enterPaymentSearch\"></paymentsearch>\r\n\r\n    <v-row>\r\n      <v-col cols=\"12\" md=\"6\">\r\n        <h2 class=\"subheading grey--text\">\r\n          <v-icon class=\"mx-1\">mdi-cash-usd-outline</v-icon>\r\n          <span>會計管理</span>\r\n        </h2>\r\n      </v-col>\r\n      <v-col cols=\"12\" md=\"6\" class=\"text-right d-flex align-center\">\r\n        <v-row>\r\n          <v-col cols=\"8\">\r\n            <!-- <v-btn class=\"mx-1 primary\" @click.stop=\"cloneFee\">複製{{nowmonth}}固定費</v-btn> -->\r\n          </v-col>\r\n          <v-col cols=\"4\">\r\n            <v-text-field\r\n              class=\"mx-1 my-0 py-0\"\r\n              label=\"選擇顯示月份\"\r\n              type=\"month\"\r\n              v-model=\"nowmonth\"\r\n              hide-details\r\n            ></v-text-field>\r\n          </v-col>\r\n        </v-row>\r\n        <!-- 功能列表 -->\r\n        <v-menu transition=\"scale-transition\" offset-y>\r\n          <template v-slot:activator=\"{ on }\">\r\n            <v-btn color=\"primary\" dark v-on=\"on\">功能</v-btn>\r\n          </template>\r\n          <v-list>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                <v-btn\r\n                  class=\"warning\"\r\n                  @click.stop=\"$refs.enterPaymentSearch.$emit('childFn')\"\r\n                >\r\n                  應收帳款查詢功能\r\n                  <v-icon class=\"mx-2\">mdi-text-box-search</v-icon>\r\n                </v-btn>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                <v-btn\r\n                  class=\"warning\"\r\n                  @click.stop=\"$refs.enterSearch.$emit('childFn')\"\r\n                >\r\n                  費用查詢功能\r\n                  <v-icon class=\"mx-2\">mdi-text-box-search</v-icon>\r\n                </v-btn>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                <v-btn class=\"primary\" @click.stop=\"goPrint\">\r\n                  前往列印頁面\r\n                  <v-icon class=\"mx-2\">mdi-printer</v-icon>\r\n                </v-btn>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                <v-btn class=\"success\" @click.stop=\"printList\">\r\n                  {{ nowmonth }} 收費一覽表\r\n                  <v-icon class=\"mx-2\" small\r\n                    >mdi-format-list-bulleted-square</v-icon\r\n                  >\r\n                </v-btn>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n            <v-list-item>\r\n              <v-list-item-title>\r\n                <v-btn class=\"success\" @click.stop=\"cloneFee\">\r\n                  複製{{ nowmonth }} 固定費\r\n                  <v-icon class=\"mx-2\">mdi-content-copy</v-icon>\r\n                </v-btn>\r\n              </v-list-item-title>\r\n            </v-list-item>\r\n          </v-list>\r\n        </v-menu>\r\n      </v-col>\r\n    </v-row>\r\n\r\n    <v-card>\r\n      <v-card-title>\r\n        <v-spacer></v-spacer>\r\n      </v-card-title>\r\n\r\n      <v-card-text>\r\n        <v-row>\r\n          <transition name=\"fadeLeft\">\r\n            <v-col\r\n              cols=\"colset\"\r\n              v-if=\"colset\"\r\n              style=\"animation-fadeupbig: 0.1s\"\r\n            >\r\n              <v-card>\r\n                <v-card-title class=\"primary lighten-2 white--text\">\r\n                  病歷資料列表\r\n                  <v-spacer></v-spacer>\r\n                </v-card-title>\r\n                <v-card-text class=\"mt-2\">\r\n                  <v-toolbar dense>\r\n                    <v-text-field\r\n                      hide-details\r\n                      prepend-icon=\"mdi-magnify\"\r\n                      single-line\r\n                      label=\"搜尋\"\r\n                      v-model=\"serachKey\"\r\n                    ></v-text-field>\r\n                  </v-toolbar>\r\n\r\n                  <div style=\"overflow: auto\">\r\n                    <v-list class=\"mt-2\" height=\"60vh\">\r\n                      <v-list-item-group v-model=\"model\" color=\"primary\">\r\n                        <v-list-item\r\n                          v-for=\"(item, i) in searchfilter\"\r\n                          :key=\"i\"\r\n                          @click=\"getUserAccounting(item)\"\r\n                        >\r\n                          <v-list-item-icon class=\"mr-2\">\r\n                            <v-icon>mdi-account</v-icon>\r\n                          </v-list-item-icon>\r\n                          <v-list-item-content>\r\n                            <v-list-item-title\r\n                              >{{ item.name }} 床號:{{\r\n                                item.bed_name\r\n                              }}</v-list-item-title\r\n                            >\r\n                            <v-list-item-subtitle\r\n                              >病歷號:{{ item.p_code }}</v-list-item-subtitle\r\n                            >\r\n                          </v-list-item-content>\r\n                        </v-list-item>\r\n                      </v-list-item-group>\r\n                    </v-list>\r\n                  </div>\r\n                </v-card-text>\r\n              </v-card>\r\n            </v-col>\r\n          </transition>\r\n\r\n          <v-col :cols=\"12 - colset\">\r\n            <v-card>\r\n              <v-card-title class=\"primary lighten-2 white--text\">\r\n                {{ selectUser.name }} 病歷號:{{ selectUser.p_code }} 床號:{{\r\n                  selectUser.bed_name\r\n                }}\r\n                <v-spacer></v-spacer>\r\n                <v-alert\r\n                  class=\"my-0 mx-2\"\r\n                  v-if=\"Object.keys(selectUser).length\"\r\n                >\r\n                  <v-row>\r\n                    <v-text-field\r\n                      label=\"退住日期\"\r\n                      type=\"date\"\r\n                      class=\"mx-1\"\r\n                      hide-details\r\n                      v-model=\"selectUser.out_date\"\r\n                    ></v-text-field>\r\n                    <v-btn\r\n                      class=\"error align-self-center\"\r\n                      @click.stop=\"leaveOut\"\r\n                      >退住</v-btn\r\n                    >\r\n                  </v-row>\r\n                </v-alert>\r\n                <v-alert class=\"ma-0\" v-if=\"Object.keys(selectUser).length\">\r\n                  <v-row>\r\n                    <v-text-field\r\n                      label=\"保證金收款日期\"\r\n                      type=\"date\"\r\n                      class=\"mx-1\"\r\n                      hide-details\r\n                      v-model=\"selectUser.margin_date\"\r\n                    ></v-text-field>\r\n                    <v-text-field\r\n                      label=\"金額\"\r\n                      hide-details\r\n                      v-model=\"selectUser.margin\"\r\n                    ></v-text-field>\r\n                    <v-btn\r\n                      class=\"primary align-self-center\"\r\n                      @click.stop=\"updateUser\"\r\n                      >更新</v-btn\r\n                    >\r\n                  </v-row>\r\n                </v-alert>\r\n              </v-card-title>\r\n\r\n              <v-card-text>\r\n                <div class=\"d-flex\">\r\n                  每月應收帳款\r\n                  <v-spacer></v-spacer>\r\n                  當前未付款總額:{{ nopaid }}\r\n                </div>\r\n                <v-simple-table fixed-header class=\"text-no-wrap\" height=\"200px\">\r\n                  <template v-slot:default>\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"text-left\"></th>\r\n                        <th class=\"text-left\">月份</th>\r\n                        <th class=\"text-left\">應收帳款</th>\r\n                        <th class=\"text-left\">已付款金額</th>\r\n                        <!-- <th class=\"text-left\" rowspan=\"2\">付款日期</th> -->\r\n                        <th class=\"text-left\">當月結餘</th>\r\n                        <th class=\"text-left\">備註</th>\r\n                      </tr>\r\n                      <!-- <tr>\r\n                        <th>現金</th>\r\n                        <th>支票</th>\r\n                        <th>匯款</th>\r\n                      </tr>-->\r\n                    </thead>\r\n                    <tbody v-for=\"(item, index) in paymentItems\" :key=\"index\">\r\n                      <tr @click.stop=\"nowmonth = item.month\">\r\n                        <td>\r\n                          <v-icon\r\n                            color=\"success\"\r\n                            @click.stop=\"\r\n                              $refs.enterEditPayment.$emit('childFn', item)\r\n                            \"\r\n                            >mdi-pencil</v-icon\r\n                          >\r\n                        </td>\r\n                        <td>{{ item.month }}</td>\r\n                        <td>{{ item.total_price | filtermoney }}</td>\r\n                        <td>{{ item.paid_price | filtermoney }}</td>\r\n                        <!-- <td>{{ item.paid_price_cash }}</td>\r\n                        <td>{{ item.paid_price_check }}</td>\r\n                        <td>{{ item.paid_price_remit }}</td>-->\r\n                        <!-- <td>{{ item.paid_date }}</td> -->\r\n                        <td>\r\n                          {{\r\n                            (item.paid_price - item.total_price) | filtermoney\r\n                          }}\r\n                        </td>\r\n                        <td>{{ item.note }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </template>\r\n                </v-simple-table>\r\n                <PaymentAdd @finishEditPayment=\"finishEditPayment\" ref=\"enterEditPayment\" />\r\n              </v-card-text>\r\n            </v-card>\r\n\r\n            <v-card class=\"mt-2\">\r\n              <v-card-title class=\"primary lighten-2 white--text\">\r\n                {{ nowmonth }}月 - 筆數: {{ monthfilter.length }}\r\n                <AccountingAdd\r\n                  class=\"ml-3\"\r\n                  @finishAdd=\"finishAdd\"\r\n                  @finishEdit=\"finishEdit\"\r\n                  ref=\"enterEdit\"\r\n                  v-if=\"Object.keys(selectUser).length\"\r\n                ></AccountingAdd>\r\n                <v-spacer></v-spacer>\r\n                <v-alert class=\"my-0\" v-if=\"Object.keys(selectUser).length\">\r\n                  <v-row>\r\n                    <v-select\r\n                      label=\"類別選擇\"\r\n                      :items=\"namefilter\"\r\n                      v-model=\"selectedName\"\r\n                      hide-details\r\n                    >\r\n                    </v-select>\r\n                    <v-text-field\r\n                      label=\"單價設定\"\r\n                      class=\"mx-1\"\r\n                      v-model=\"setPrice\"\r\n                      hide-details\r\n                    ></v-text-field>\r\n                    <v-btn\r\n                      class=\"primary align-self-center\"\r\n                      @click.stop=\"setSameKindPrice\"\r\n                      >設定同類單價</v-btn\r\n                    >\r\n                    <v-checkbox\r\n                      class=\"my-0 ml-2 pa-2 primary alertzone align-self-center\"\r\n                      label=\"約定費不提醒\"\r\n                      color=\"white\"\r\n                      v-model=\"selectUser.promise_fee\"\r\n                      value=\"true\"\r\n                      @change=\"updateUser\"\r\n                      v-if=\"Object.keys(selectUser).length\"\r\n                      hide-details\r\n                      style=\"border-radius: 4px\"\r\n                    ></v-checkbox>\r\n                  </v-row>\r\n                </v-alert>\r\n              </v-card-title>\r\n              <v-card-text>\r\n                <v-simple-table fixed-header class=\"text-no-wrap\">\r\n                  <template v-slot:default>\r\n                    <thead>\r\n                      <tr>\r\n                        <th class=\"text-left\"></th>\r\n                        <th class=\"text-left\">建檔日期</th>\r\n                        <th class=\"text-left\">起算日</th>\r\n                        <th class=\"text-left\">截止日</th>\r\n                        <th class=\"text-left\">收費項目</th>\r\n\r\n                        <th class=\"text-left\">單價</th>\r\n                        <th class=\"text-left\">數量</th>\r\n                        <th class=\"text-left\">小計</th>\r\n\r\n                        <th class=\"text-left\">類別</th>\r\n                        <th class=\"text-left\">備註</th>\r\n                        <th class=\"text-left\">紀錄人</th>\r\n                        <th class=\"text-left\">修改紀錄</th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      <tr\r\n                        v-for=\"(item, index) in monthfilter\"\r\n                        :key=\"item.snkey\"\r\n                      >\r\n                        <td>\r\n                          <v-icon color=\"green\" @click.stop=\"enterEdit(item)\"\r\n                            >mdi-pencil</v-icon\r\n                          >\r\n                          <v-icon color=\"red\" @click.stop=\"finishDel(item)\"\r\n                            >mdi-close</v-icon\r\n                          >\r\n                          {{ index + 1 }}.\r\n                        </td>\r\n                        <td>{{ item.date }}</td>\r\n                        <td>{{ item.start_day }}</td>\r\n                        <td>{{ item.end_day }}</td>\r\n                        <td>{{ item.name }}</td>\r\n\r\n                        <td>{{ item.price | filtermoney }}</td>\r\n                        <td>{{ item.quantity }}</td>\r\n                        <td>\r\n                          {{ (item.price * item.quantity) | filtermoney }}\r\n                        </td>\r\n\r\n                        <td>{{ item.kind }}</td>\r\n                        <td>{{ item.note }}</td>\r\n                        <td>{{ item.create_man }}</td>\r\n                        <td>{{ item.edit_man }}</td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </template>\r\n                </v-simple-table>\r\n              </v-card-text>\r\n            </v-card>\r\n          </v-col>\r\n        </v-row>\r\n      </v-card-text>\r\n    </v-card>\r\n\r\n    <!-- <pre class=\"d-flex justify-center\"> {{ monthfilter }} </pre> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport qs from \"qs\";\r\nimport feelist from \"@/components/FeeList\";\r\nimport AccountingAdd from \"@/views/main/AccountingAdd\";\r\nimport PaymentAdd from \"@/views/main/PaymentAdd\";\r\nimport accountingsearch from \"@/views/main/AccountingSearch\";\r\nimport paymentsearch from \"@/views/main/PaymentSearch\";\r\nimport dayjs from \"dayjs\";\r\nrequire(\"vue2-animate/dist/vue2-animate.min.css\");\r\n//動畫animate 引用\r\n// import animated from 'vue2-animate.min.css' // npm install animate.css --save安装，在引入\r\n\r\nexport default {\r\n  components: {\r\n    feelist,\r\n    AccountingAdd,\r\n    PaymentAdd,\r\n    accountingsearch,\r\n    paymentsearch,\r\n  },\r\n  data() {\r\n    return {\r\n      items: [], //病歷資料\r\n      serachKey: \"\", //病歷搜尋欄\r\n      model: \"\", //list初選值\r\n      selectUser: [], //目前選擇病歷\r\n      nowday: dayjs().format(\"YYYY-MM-DD\"), //日期暫存\r\n      nowmonth: dayjs().format(\"YYYY-MM\"), //月份暫存\r\n      accountingItems: [], //目前取得的指定病歷的會計資料\r\n      paymentItems: [], //每月應收帳款資料\r\n      colset: 3,\r\n      //一覽表輸出時,用到的資料暫存\r\n      matchListAccountings: [],\r\n      matchListPayments: [],\r\n      //統一設定同類別價格\r\n      selectedName: \"\",\r\n      setPrice: 0,\r\n    };\r\n  },\r\n\r\n  filters: {\r\n    filtermoney(num) {\r\n      const n = Number(num);\r\n      return `$${n.toFixed(0).replace(/./g, (c, i, a) => {\r\n        const currency =\r\n          i && c !== \".\" && (a.length - i) % 3 === 0\r\n            ? `, ${c}`.replace(/\\s/g, \"\")\r\n            : c;\r\n        return currency;\r\n      })}`;\r\n    },\r\n  },\r\n\r\n  computed: {\r\n    namefilter() {\r\n      this.selectedName = \"\";\r\n      var newArr = new Set();\r\n      this.monthfilter.forEach((i) => {\r\n        newArr.add(i[\"name\"]);\r\n      });\r\n      return [...newArr];\r\n    },\r\n    searchfilter() {\r\n      var keys = this.serachKey.split(\" \");\r\n      var str = \"\";\r\n\r\n      return keys.reduce(function (prev, element) {\r\n        return prev.filter((item) => {\r\n          str = JSON.stringify(item).toUpperCase();\r\n          if (str.includes(element.toUpperCase())) {\r\n            return item;\r\n          }\r\n        });\r\n      }, this.items);\r\n    },\r\n    monthfilter() {\r\n      //顯示指定月份的資料\r\n      // console.log(\"顯示指定月份的資料\");\r\n      var matchData = this.accountingItems.filter((item) => {\r\n        return item.date.includes(this.nowmonth);\r\n      });\r\n\r\n      // console.log(matchData);\r\n\r\n      //1.依費用排序\r\n      matchData = matchData.sort((a, b) => {\r\n        return parseInt(a.price) < parseInt(b.price) ? 1 : -1;\r\n      });\r\n\r\n      matchData = matchData.sort((a, b) => {\r\n        if (a.price == b.price) {\r\n          return a.name < b.name ? 1 : -1;\r\n        }\r\n      });\r\n\r\n      return matchData.sort((a, b) => {\r\n        if (a.name == b.name) {\r\n          return a.date > b.date ? 1 : -1;\r\n        }\r\n      });\r\n    },\r\n    nopaid() {\r\n      //未付金額\r\n      return this.paymentItems.reduce((total, i) => {\r\n        return (\r\n          parseInt(total) + (parseInt(i.total_price) - parseInt(i.paid_price))\r\n        );\r\n      }, 0);\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    monthfilter(val) {\r\n      //判斷5~9是否有電費\r\n      var month = dayjs(this.nowmonth).format(\"MM\");\r\n      if (month >= 5 && month <= 9) {\r\n        var rs = val.some((i) => {\r\n          return i.fee_snkey == \"159\"; //特別約定事項-1 就是電費的snkey\r\n        });\r\n\r\n        if (!rs && val.length && !this.selectUser.promise_fee) {\r\n          // alert('無->需新增電費');\r\n          this.$confirm(\"本月尚未新增特別約定事項-1,需要新增嗎?\").then(\r\n            (res) => {\r\n              if (res) {\r\n                var feeItem = {\r\n                  //電費資料\r\n                  date: dayjs(this.nowmonth).format(\"YYYY-MM-01\"),\r\n                  quantity: 1,\r\n                  feeArray: [\r\n                    {\r\n                      snkey: \"159\",\r\n                      price: \"500\",\r\n                      kind: \"特別約定事項-1\",\r\n                    },\r\n                  ],\r\n                };\r\n\r\n                this.finishAdd(feeItem);\r\n              }\r\n            }\r\n          );\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n  mounted() {\r\n    this.auth = this.$store.state.pData;\r\n    this.getAllData();\r\n  },\r\n\r\n  methods: {\r\n    //設定同一類別的價格\r\n    setSameKindPrice() {\r\n      if (this.selectedName.length == 0) {\r\n        var pop = { msg: \"未選擇任何收費項目\", type: true, theme: \"warning\" };\r\n        this.$store.commit(\"snackbar\", pop);\r\n        return false;\r\n      }\r\n\r\n      this.$confirm(\r\n        \"確認將目前顯示會計帳中 [\" + this.selectedName + \"] 價格全部修改為: $\" + this.setPrice\r\n      ).then((res) => {\r\n        if (res) {\r\n          this.$store.commit(\"getTime\"); //取得現在時間\r\n          let matchData = this.monthfilter.filter((i) => {\r\n            if (i.name === this.selectedName) {\r\n              i.price = this.setPrice;\r\n              i.edit_man =\r\n                this.$store.state.pData.username +\r\n                \"(\" +\r\n                this.$store.state.time +\r\n                \")\" +\r\n                i.edit_man; //執行動作的人,時間,內容\r\n              return i;\r\n            }\r\n          });\r\n\r\n          let postData = matchData.map((i) => {\r\n            let newItem = { ...i };\r\n            delete newItem[\"name\"];\r\n            delete newItem[\"kind\"];\r\n            return newItem;\r\n          });\r\n\r\n          this.axios\r\n            .post(\r\n              \"general/editMulti/\" +\r\n                this.$store.state.databaseName +\r\n                \"/accounting\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then((rs) => {\r\n              console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                this.computeMonthTotal();\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n    //確認列印一覽表\r\n    printList() {\r\n      //判斷確認列印\r\n      this.$confirm(\"確認顯示收費一覽表畫面?\").then((res) => {\r\n        if (res) {\r\n          var printData = {\r\n            month: this.nowmonth,\r\n            users: this.items,\r\n          };\r\n\r\n          //送出資料到列印頁面\r\n          let routeData = this.$router.resolve({path: \"/print/accountinglistprint\",query:{data:JSON.stringify(printData)}});\r\n          window.open(routeData.href, \"_blank\");\r\n        }\r\n      });\r\n    },\r\n    goPrint() {\r\n      this.$router.push(\"/main/printmanager/accountingprintmanage\");\r\n    },\r\n    //修改畫面顯示\r\n    changecolset() {\r\n      if (this.colset == 3) {\r\n        this.colset = 0;\r\n      } else {\r\n        this.colset = 3;\r\n      }\r\n    },\r\n    //複製本月固定費\r\n    cloneFee() {\r\n      this.$confirm(\r\n        \"確認複製\" +\r\n          this.nowmonth +\r\n          \"月固定費到\" +\r\n          dayjs(this.nowmonth).add(1, \"month\").format(\"YYYY-MM\") +\r\n          \"月?\"\r\n      ).then((res) => {\r\n        if (res) {\r\n          //取得所有費用\r\n          //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n          this.axios\r\n            .post(\r\n              \"accounting/getAll/\" +\r\n                this.$store.state.databaseName +\r\n                \"/accounting\"\r\n            )\r\n            .then((rs) => {\r\n              var matchData = rs.data.filter((i) => {\r\n                //找出符合的資訊 1.月份 2.種類為固定費類 3.價格要大於零 4.病歷要有床號\r\n                // console.log(i);\r\n                return (\r\n                  dayjs(i.date).format(\"YYYY-MM\") == this.nowmonth &&\r\n                  i.kind.includes(\"固定費類\") &&\r\n                  parseInt(i.price) > 0\r\n                );\r\n              });\r\n\r\n              //4.病歷要有床號\r\n              matchData = matchData.filter((i) => {\r\n                var matchUser = this.items.find((userItem) => {\r\n                  return (\r\n                    userItem.snkey == i.user_snkey &&\r\n                    userItem.bed_name != \"\" &&\r\n                    userItem.bed_name != null\r\n                  );\r\n                });\r\n\r\n                if (matchUser != undefined) {\r\n                  return i;\r\n                }\r\n              });\r\n\r\n              this.$store.commit(\"getTime\"); //取得現在時間\r\n              var newItem = {};\r\n              if (matchData.length) {\r\n                var postData = matchData.map((i) => {\r\n                  // newItem = { ...i };\r\n                  i.date = i.start_day = dayjs(i.date)\r\n                    .add(1, \"month\")\r\n                    .format(\"YYYY-MM-01\");\r\n                  i.end_day = dayjs(i.date).endOf(\"month\").format(\"YYYY-MM-DD\");\r\n                  i.create_man =\r\n                    this.$store.state.pData.username +\r\n                    \"(\" +\r\n                    this.$store.state.time +\r\n                    \")\"; //執行動作的人,時間,內容\r\n                  delete i.snkey;\r\n                  delete i.edit_man;\r\n                  delete i.name;\r\n                  delete i.kind;\r\n                  delete i.unit;\r\n                  return i;\r\n                });\r\n\r\n                //實際新增資料\r\n                this.axios\r\n                  .post(\r\n                    \"general/addMulti/\" +\r\n                      this.$store.state.databaseName +\r\n                      \"/accounting\",\r\n                    qs.stringify(postData)\r\n                  )\r\n                  .then((rs) => {\r\n                    // console.log(rs.data);\r\n                    if (rs.data.state == 1) {\r\n                      var pop = {\r\n                        msg: \"複製已完成\",\r\n                        type: true,\r\n                        theme: \"success\",\r\n                      };\r\n                      this.$store.commit(\"snackbar\", pop);\r\n                      // this.getAccounting();\r\n                    }\r\n                  });\r\n              } else {\r\n                var pop = {\r\n                  msg: \"暫無符合的資料,請再確認!!\",\r\n                  type: true,\r\n                  theme: \"warning\",\r\n                };\r\n                this.$store.commit(\"snackbar\", pop);\r\n              }\r\n              // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n            });\r\n        }\r\n      });\r\n\r\n      //單月的程式碼\r\n      // this.$confirm(\"確認複製本月固定費到下個月?\").then(res => {\r\n      //   if (res) {\r\n      //     //取得符合固定費類\r\n      //     var matchData = this.monthfilter.filter(i => {\r\n      //       return i.kind.includes(\"固定費類\");\r\n      //     });\r\n\r\n      //     //建構資料到下個月\r\n      //     this.$store.commit(\"getTime\"); //取得現在時間\r\n      //     var postData = matchData.map(i => {\r\n      //       var newItem = { ...i };\r\n      //       newItem.date = dayjs(newItem.date).add(1, \"month\").format(\"YYYY-MM-01\");\r\n      //       newItem.start_day = dayjs(newItem.start_day).add(1, \"month\").format(\"YYYY-MM-01\");\r\n      //       newItem.end_day = dayjs(newItem.end_day).add(1, \"month\").endOf(\"month\").format(\"YYYY-MM-DD\");\r\n      //       newItem.create_man = this.$store.state.pData.username + \"(\" + this.$store.state.time +\")\"; //執行動作的人,時間,內容\r\n      //       delete newItem.snkey;\r\n      //       delete newItem.edit_man;\r\n      //       delete newItem.name;\r\n      //       delete newItem.kind;\r\n      //       return newItem;\r\n      //     });\r\n\r\n      //     //實際新增資料\r\n      //     this.axios\r\n      //       .post(\r\n      //         \"general/addMulti/\" + this.$store.state.databaseName + \"/accounting\",\r\n      //         qs.stringify(postData)\r\n      //       )\r\n      //       .then(rs => {\r\n      //         if (rs.data.state == 1) {\r\n      //           var pop = { msg: \"複製已完成\", type: true, theme: \"success\" };\r\n      //           this.$store.commit(\"snackbar\", pop);\r\n      //           this.getAccounting();\r\n      //         }\r\n      //       });\r\n      //   }\r\n      // });\r\n    },\r\n    //依bed排序\r\n    sortBybedname() {\r\n      this.items = this.items.sort(function (a, b) {\r\n        var a = a.bed_name;\r\n        var b = b.bed_name;\r\n\r\n        if (a === b) {\r\n          return 0;\r\n        } else if (a === null) {\r\n          return 1;\r\n        } else if (b === null) {\r\n          return -1;\r\n        } else {\r\n          return a > b ? 1 : -1;\r\n        }\r\n      });\r\n    },\r\n    getAllData() {\r\n      // console.log(\"取得所有病歷資料\");\r\n      //取得所有病歷資料\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      //取得所有資料\r\n      this.axios\r\n        .post(\"user/getAll/\" + this.$store.state.databaseName)\r\n        .then((rs) => {\r\n          this.items = rs.data;\r\n          this.sortBybedname();\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    getAccounting() {\r\n      // console.log(\"取得指定病歷的所有會計帳\");\r\n      //取得指定病歷的所有會計帳\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      this.axios\r\n        .post(\r\n          \"accounting/getAccountingByUserSnkey/\" +\r\n            this.$store.state.databaseName +\r\n            \"/\" +\r\n            this.selectUser.snkey\r\n          // ,qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          // console.log(rs.data)\r\n          if (rs.data.length > 0) {\r\n            this.accountingItems = rs.data;\r\n            this.computeMonthTotal();\r\n          } else {\r\n            this.accountingItems = this.paymentItems = [];\r\n          }\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    computeMonthTotal() {\r\n      //計算每月應收帳款總額\r\n      // console.log(\"計算每月應收帳款總額\");\r\n      var items = this.accountingItems;\r\n      if (items.length == 0) {\r\n        //無資料時不參與計算\r\n        return false;\r\n      }\r\n\r\n      //這裡拿來計算月統計資料\r\n\r\n      //1.取得月份的陣列\r\n      var monthArr = items.map((item) => {\r\n        return dayjs(item.date).format(\"YYYY-MM\");\r\n        // return dayjs(item.start_day).format(\"YYYY-MM\");\r\n      });\r\n      //2.去除同樣月份\r\n      var uniqArray = new Set(monthArr);\r\n      monthArr = [...uniqArray]; //取得標準陣列\r\n\r\n      //3.取出附合月份資料\r\n      var monthGroup = [];\r\n      monthArr.forEach((month) => {\r\n        monthGroup[month] = items.filter((i) => {\r\n          return i.date.includes(month);\r\n          // return i.start_day.includes(month);\r\n        });\r\n      });\r\n\r\n      // console.log(monthGroup['2020-05'])\r\n      var monthData = []; //指定病歷號的月結算金額表\r\n      //4.構築每月表格(計算每個月的總金額)\r\n      monthArr.forEach((item) => {\r\n        var total_price = monthGroup[item].reduce((total, i) => {\r\n          return total + i.price * i.quantity;\r\n        }, 0);\r\n\r\n        this.$store.commit(\"getTime\"); //取得現在時間\r\n        monthData.push({\r\n          user_snkey: this.selectUser.snkey,\r\n          month: item,\r\n          total_price: total_price,\r\n          create_man:\r\n            this.$store.state.pData.username +\r\n            \"(\" +\r\n            this.$store.state.time +\r\n            \")\", //執行動作的人,時間,內容\r\n        });\r\n      });\r\n\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      this.axios\r\n        .post(\r\n          \"payment/autoAddEdit/\" + this.$store.state.databaseName + \"/payment\",\r\n          qs.stringify(monthData)\r\n        )\r\n        .then((rs) => {\r\n          // console.log(rs.data)\r\n          this.getPayment();\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    getPayment() {\r\n      //取得每月應收帳款資料\r\n      // console.log(\"取得每月應收帳款資料\");\r\n      var postData = {\r\n        key: \"user_snkey\",\r\n        value: this.selectUser.snkey,\r\n      };\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      //取得所有資料\r\n      this.axios\r\n        .post(\r\n          \"general/getByKey/\" + this.$store.state.databaseName + \"/payment\",\r\n          qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          // console.log(rs.data);\r\n          this.paymentItems = rs.data;\r\n          this.sortBy();\r\n          if (this.paymentItems.length > 0) {\r\n            //應收帳款資料>0才判斷是否應該刪除不符合的帳\r\n            this.checkPayment();\r\n          }\r\n          // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n        });\r\n    },\r\n    checkPayment() {\r\n      //判斷個每月的應收帳款是否存在資料\r\n      // console.log(\"判斷個每月的應收帳款是否存在資料\");\r\n      this.paymentItems.forEach((item) => {\r\n        var counts = this.accountingItems.filter((i) => {\r\n          return i.date.includes(item.month);\r\n          // return i.start_day.includes(item.month);\r\n        });\r\n\r\n        if (counts.length == 0) {\r\n          this.axios\r\n            .post(\r\n              \"general/del/\" + this.$store.state.databaseName + \"/payment\",\r\n              qs.stringify(item)\r\n            )\r\n            .then((rs) => {\r\n              this.getPayment();\r\n            });\r\n        }\r\n      });\r\n    },\r\n    sortBy() {\r\n      //依id排序\r\n      this.paymentItems = this.paymentItems.sort(function (a, b) {\r\n        return a.month < b.month ? 1 : -1;\r\n      });\r\n      // this.sort = !this.sort;\r\n    },\r\n    getUserAccounting(item) {\r\n      //取得點選的病歷資料->顯示各項會計資料\r\n      this.selectUser = item;\r\n      // this.reflashAllAccount();\r\n      this.getAccounting();\r\n      // this.getPayment();\r\n    },\r\n    enterEdit(item) {\r\n      //進入修改作業 -> 顯示修改頁面\r\n      this.$refs.enterEdit.$emit(\"childFn\", item);\r\n    },\r\n    //建構費用的內容\r\n    rebuildDay(rsData) {\r\n      var item = rsData.data;\r\n\r\n      var postData = [];\r\n      this.$store.commit(\"getTime\"); //取得現在時間\r\n\r\n      item.feeArray.forEach((feeitem, index) => {\r\n        // console.log('feeitem',feeitem);\r\n        var firstDay = dayjs(item.date).startOf(\"month\").format(\"YYYY-MM-DD\"); //當月第一日\r\n        var lastDay = dayjs(item.date).endOf(\"month\").format(\"YYYY-MM-DD\"); //當月第最後一日\r\n\r\n        //新判斷規則~ 只判斷固定費就當月1~最後一天,其他就建檔日 = 起算日 = 截止日\r\n        var createDate = feeitem[\"start_day\"] = feeitem[\"end_day\"] = item.date;\r\n\r\n        // 所有的固定費類都收月頭錢 所以時間設定上為 8月建檔時. 那建檔日設定為7/31 開始/結束日為 8/1~8/31\r\n        if (feeitem.kind == \"固定費類\") {\r\n          createDate = dayjs(item.date)\r\n            .add(-1, \"month\")\r\n            .endOf(\"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          feeitem[\"start_day\"] = firstDay;\r\n          feeitem[\"end_day\"] = lastDay;\r\n        }\r\n        if (feeitem.kind == \"入住保證金\") {\r\n          createDate = dayjs(item.date)\r\n            .add(-1, \"month\")\r\n            .startOf(\"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n        }\r\n\r\n        postData.push({\r\n          user_snkey: this.selectUser.snkey,\r\n          fee_snkey: feeitem.snkey,\r\n          date: createDate,\r\n          start_day: feeitem.start_day,\r\n          end_day: feeitem.end_day,\r\n          quantity: item.quantity,\r\n          price: feeitem.price,\r\n          note: item.note,\r\n          create_man:\r\n            this.$store.state.pData.username +\r\n            \"(\" +\r\n            this.$store.state.time +\r\n            \")\", //執行動作的人,時間,內容\r\n        });\r\n\r\n        //新住民 -> 多建一筆扣除額的帳\r\n        if (rsData.newUser && feeitem.kind == \"固定費類\") {\r\n          const feeDay = dayjs(item.date).add(-1, \"day\").format(\"DD\");\r\n          const newFee =\r\n            parseInt(feeitem.price) / parseInt(dayjs(lastDay).format(\"DD\"));\r\n\r\n          postData.push({\r\n            user_snkey: this.selectUser.snkey,\r\n            fee_snkey: feeitem.snkey,\r\n            date: createDate,\r\n            start_day: dayjs(feeitem.start_day).format(\"YYYY-MM-DD\"),\r\n            end_day: dayjs(item.date).add(-1, \"day\").format(\"YYYY-MM-DD\"),\r\n            quantity: item.quantity,\r\n            price: -(feeDay * Math.floor(newFee)).toFixed(0),\r\n            note: `(A)新住民未入住前扣除費 ${dayjs(feeitem.start_day).format(\r\n              \"MM/DD\"\r\n            )}~${dayjs(item.date)\r\n              .add(-1, \"day\")\r\n              .format(\"MM/DD\")} (${feeDay} 天)`,\r\n            create_man:\r\n              this.$store.state.pData.username +\r\n              \"(\" +\r\n              this.$store.state.time +\r\n              \")\", //執行動作的人,時間,內容\r\n          });\r\n        }\r\n      });\r\n\r\n      return postData;\r\n    },\r\n    /* 完成多筆新增會計帳資料 */\r\n    postAccountingData(postData) {\r\n      /*2020/11/15 指定除了\"固定費類\"外的其他資料,如果建立時間大於等於26日,即自動轉成下個月1日的帳 */\r\n\r\n      /* 設定日期26日後(含)轉次月結帳區段 */\r\n      /*\r\n     這裡利用promise 先取得fee的資料,再透過下面的getfeeItems.then(function (feeItems)=>{}) 去處理之後要使用的功能\r\n     feeItems代表在getfeeItems中取得的rs.data的資料\r\n     */\r\n      //step1\r\n      let getfeeItems = new Promise((resolve, reject) => {\r\n        this.axios\r\n          .post(\"general/getAll/\" + this.$store.state.databaseName + \"/fee\")\r\n          .then((rs) => {\r\n            // const feeItems = rs.data;\r\n            resolve(rs.data);\r\n          })\r\n          .catch((err) => {\r\n            reject(err);\r\n          });\r\n      });\r\n\r\n      //step2\r\n      var vm = this; //這裡要設定vm為this,不然promise裡的this會沒作用\r\n      getfeeItems.then(function (feeItems) {\r\n        postData = postData.filter((accountingItem) => {\r\n          if (dayjs(accountingItem.date).format(\"DD\") >= 26) {\r\n            let rs = feeItems.find((item) => {\r\n              return item.snkey == accountingItem.fee_snkey;\r\n            });\r\n            if (rs.kind != \"固定費類\") {\r\n              accountingItem.note = accountingItem.date + '調整為' + dayjs(accountingItem.date).add(1, \"month\").format(\"YYYY-MM-01\");\r\n              accountingItem.date = dayjs(accountingItem.date).add(1, \"month\").format(\"YYYY-MM-01\");\r\n            }\r\n          }\r\n          return accountingItem;\r\n        });\r\n\r\n        vm.axios\r\n          .post(\r\n            \"general/addMulti/\" + vm.$store.state.databaseName + \"/accounting\",\r\n            qs.stringify(postData)\r\n          )\r\n          .then((rs) => {\r\n            if (rs.data.state == 1) {\r\n              var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n              vm.$store.commit(\"snackbar\", pop);\r\n              vm.getAccounting();\r\n            }\r\n          });\r\n      });\r\n      /* 設定日期26日後轉次月結帳區段 end*/\r\n\r\n      /* 不設定日期,正常結帳區段 -> 那天結帳就顯示那天 */\r\n      // this.axios\r\n      //   .post(\r\n      //     \"general/addMulti/\" + this.$store.state.databaseName + \"/accounting\",\r\n      //     qs.stringify(postData)\r\n      //   )\r\n      //   .then((rs) => {\r\n      //     if (rs.data.state == 1) {\r\n      //       var pop = { msg: \"已新增\", type: true, theme: \"success\" };\r\n      //       this.$store.commit(\"snackbar\", pop);\r\n      //       this.getAccounting();\r\n      //     }\r\n      //   });\r\n      /* 不設定日期,正常結帳區段 end*/\r\n    },\r\n    finishAdd(item) {\r\n      var postData = this.rebuildDay(item);\r\n      this.postAccountingData(postData);\r\n      \r\n    },\r\n    finishEdit(item) {\r\n      //執行新增(在popupadd執行修改時,回傳後執行的動作,item為傳回的list表單內容)\r\n      this.$store.commit(\"getTime\"); //取得現在時間\r\n      var postData = {\r\n        date: item.date,\r\n        snkey: item.snkey,\r\n        start_day: item.start_day,\r\n        end_day: item.end_day,\r\n        quantity: item.quantity,\r\n        price: item.price,\r\n        note: item.note,\r\n        edit_man:\r\n          this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\", //執行動作的人,時間,內容\r\n      };\r\n\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/accounting\",\r\n          qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            //this.getAccounting();\r\n            this.computeMonthTotal();\r\n          }\r\n        });\r\n    },\r\n    finishDel(delData) {\r\n      //刪除功能\r\n      this.$confirm(\"確認刪除?\").then((res) => {\r\n        if (res) {\r\n          delData.delman =\r\n            this.$store.state.pData.username +\r\n            \"(\" +\r\n            dayjs().format(\"YYYY-MM-DD HH:mm:ss\") +\r\n            \")\";\r\n          var postData = {\r\n            snkey: delData.snkey,\r\n            tablename: \"accounting\",\r\n            info: JSON.stringify(delData),\r\n          };\r\n\r\n          this.axios\r\n            .post(\r\n              \"general/delv3/\" + this.$store.state.databaseName + \"/accounting\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then((rs) => {\r\n              console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已刪除\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                // this.getAllData();\r\n                this.getAccounting();\r\n              }\r\n            });\r\n        }\r\n      });\r\n    },\r\n    //退住 & 更新病歷退住日期\r\n    leaveOut() {\r\n      if (this.selectUser.out_date == \"0000-00-00\") {\r\n        var pop = { msg: \"未指定退住日期\", type: true, theme: \"warning\" };\r\n        this.$store.commit(\"snackbar\", pop);\r\n        return false;\r\n      }\r\n\r\n      //正確執行 --> 建構退住時產生的負向費用 -> 目前指定時間為上月最後一天產生的大於零的固定費,\r\n      this.$confirm(\"確認退住結帳作業?\").then((res) => {\r\n        if (res) {\r\n          const searchKey = dayjs(this.selectUser.out_date)\r\n            .add(-1, \"month\")\r\n            .endOf(\"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          let matchData = [...this.accountingItems];\r\n          matchData = matchData.filter((i) => {\r\n            return (\r\n              i.date.includes(searchKey) &&\r\n              i.kind == \"固定費類\" &&\r\n              parseInt(i.price) > 0\r\n            );\r\n          });\r\n\r\n          const startDay = dayjs(this.selectUser.out_date).format(\"MM/DD\");\r\n          const endDay = dayjs(this.selectUser.out_date)\r\n            .endOf(\"month\")\r\n            .format(\"MM/DD\");\r\n          const FeeDays =\r\n            dayjs(this.selectUser.out_date).endOf(\"month\").format(\"DD\") -\r\n            dayjs(this.selectUser.out_date).add(-1, \"day\").format(\"DD\"); //實際付款天數\r\n          console.log(startDay, endDay, FeeDays);\r\n\r\n          let postData = [];\r\n          matchData.filter((feeitem) => {\r\n            const newFee =\r\n              parseInt(feeitem.price) / parseInt(dayjs(endDay).format(\"DD\"));\r\n            // console.log(\"newFee\", newFee);\r\n            postData.push({\r\n              user_snkey: feeitem.user_snkey,\r\n              fee_snkey: feeitem.fee_snkey,\r\n              date: dayjs(this.selectUser.out_date).format(\"YYYY-MM-DD\"),\r\n              start_day: dayjs(this.selectUser.out_date).format(\"YYYY-MM-DD\"),\r\n              end_day: dayjs(this.selectUser.out_date)\r\n                .endOf(\"month\")\r\n                .format(\"YYYY-MM-DD\"),\r\n              quantity: feeitem.quantity,\r\n              price: -(FeeDays * Math.floor(newFee)).toFixed(0),\r\n              note: `(A)退住扣除費 ${startDay}~${endDay} 共${FeeDays}天)`,\r\n              create_man:\r\n                this.$store.state.pData.username +\r\n                \"(\" +\r\n                this.$store.state.time +\r\n                \")\", //執行動作的人,時間,內容\r\n            });\r\n          });\r\n          this.postAccountingData(postData); //將資料實際寫入資料庫\r\n\r\n          //更新退住日期\r\n          postData = {\r\n            snkey: this.selectUser.snkey,\r\n            out_date: this.selectUser.out_date,\r\n            edit_man: \"\",\r\n          };\r\n\r\n          //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n          this.axios\r\n            .post(\r\n              \"general/edit/\" + this.$store.state.databaseName + \"/user\",\r\n              qs.stringify(postData)\r\n            )\r\n            .then((rs) => {\r\n              // console.log(rs.data);\r\n              if (rs.data.state == 1) {\r\n                var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n                this.$store.commit(\"snackbar\", pop);\r\n                // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n              }\r\n            });\r\n          //更新退住日期end\r\n        }\r\n      });\r\n    },\r\n    updateUser() {\r\n      //更新保證金 & 約定事項是否提醒\r\n      var postData = {\r\n        snkey: this.selectUser.snkey,\r\n        promise_fee: this.selectUser.promise_fee,\r\n        margin_date: this.selectUser.margin_date,\r\n        margin: this.selectUser.margin,\r\n        edit_man: \"\",\r\n      };\r\n\r\n      //this.$store.commit(\"setLoadingOn\"); //讀取畫面on\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/user\",\r\n          qs.stringify(postData)\r\n        )\r\n        .then((rs) => {\r\n          // console.log(rs.data);\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            // this.$store.commit(\"setLoadingOff\"); //讀取畫面off\r\n          }\r\n        });\r\n    },\r\n    finishEditPayment(item) {\r\n      //執行新增(在popupadd執行修改時,回傳後執行的動作,item為傳回的list表單內容)\r\n      this.$store.commit(\"getTime\"); //取得現在時間\r\n      item[\"edit_man\"] =\r\n        this.$store.state.pData.username + \"(\" + this.$store.state.time + \")\"; //執行動作的人,時間,內容\r\n\r\n      this.axios\r\n        .post(\r\n          \"general/edit/\" + this.$store.state.databaseName + \"/payment\",\r\n          qs.stringify(item)\r\n        )\r\n        .then((rs) => {\r\n          if (rs.data.state == 1) {\r\n            var pop = { msg: \"已修改\", type: true, theme: \"success\" };\r\n            this.$store.commit(\"snackbar\", pop);\r\n            // this.computeMonthTotal();\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\">\r\n.accountinglist {\r\n  h2 {\r\n    span {\r\n      vertical-align: middle;\r\n    }\r\n  }\r\n  thead {\r\n    th {\r\n      font-size: 1rem;\r\n      font-family: \"微軟正黑體\";\r\n    }\r\n  }\r\n  tbody {\r\n    td {\r\n      font-size: 1rem;\r\n    }\r\n  }\r\n  .alertzone .v-label {\r\n    color: white;\r\n  }\r\n  .slideBtn {\r\n    position: fixed;\r\n    left: 10px;\r\n    bottom: 10px;\r\n    z-index: 100;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vuetify-loader/lib/loader.js??ref--17-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccountingList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AccountingList.vue?vue&type=template&id=5ef7112e&\"\nimport script from \"./AccountingList.vue?vue&type=script&lang=js&\"\nexport * from \"./AccountingList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AccountingList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardText,VCardTitle,VCheckbox,VCol,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemSubtitle,VListItemTitle,VMenu,VRow,VSelect,VSimpleTable,VSpacer,VTextField,VToolbar})\n"],"sourceRoot":""}